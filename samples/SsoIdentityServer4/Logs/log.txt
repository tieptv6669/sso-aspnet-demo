2020-09-18 18:02:02.164 +07:00 [INF] Starting host...
2020-09-18 18:02:02.992 +07:00 [DBG] Hosting starting
2020-09-18 18:02:03.028 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-18 18:02:03.038 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-18 18:02:03.055 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-18 18:02:03.056 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-18 18:02:03.057 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-18 18:02:03.061 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-18 18:02:03.065 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-18 18:02:03.065 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-18 18:02:03.065 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-18 18:02:03.071 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-18 18:02:03.079 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-18 18:02:03.081 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-18 18:02:03.082 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-18 18:02:03.086 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-18 18:02:03.088 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-18 18:02:03.091 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-18 18:02:03.091 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-18 18:02:03.122 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-18 18:02:03.127 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-18 18:02:03.129 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-18 18:02:03.129 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-18 18:02:03.129 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-18 18:02:03.129 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-18 18:02:03.130 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-18 18:02:03.130 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-18 18:02:03.325 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-18 18:02:03.325 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-18 18:02:03.325 +07:00 [INF] Hosting environment: Development
2020-09-18 18:02:03.325 +07:00 [INF] Content root path: D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4
2020-09-18 18:02:03.325 +07:00 [DBG] Hosting started
2020-09-18 18:02:03.354 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-18 18:02:03.357 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-18 18:02:03.358 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-18 18:02:03.380 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-18 18:02:03.381 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:02:03.399 +07:00 [DBG] Login Url: /Account/Login
2020-09-18 18:02:03.399 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-18 18:02:03.399 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-18 18:02:03.399 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-18 18:02:03.399 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-18 18:02:03.399 +07:00 [DBG] Error Url: /home/error
2020-09-18 18:02:03.399 +07:00 [DBG] Error Id Parameter: errorId
2020-09-18 18:02:03.403 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:02:03.408 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:02:03.410 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-18 18:02:03.411 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-18 18:02:03.411 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-18 18:02:03.412 +07:00 [DBG] Start discovery request
2020-09-18 18:02:03.457 +07:00 [INF] Request finished in 106.5678ms 200 application/json; charset=UTF-8
2020-09-18 18:02:03.598 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-18 18:02:03.598 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-18 18:02:03.600 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-18 18:02:03.600 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:02:03.602 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:02:03.605 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:02:03.608 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-18 18:02:03.608 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-18 18:02:03.608 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-18 18:02:03.609 +07:00 [DBG] Start key discovery request
2020-09-18 18:02:03.624 +07:00 [INF] Request finished in 26.201ms 200 application/json; charset=UTF-8
2020-09-18 18:02:06.952 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=P0uRF5ApdlJAUPNhfzGUKTFodqe6RYdqszfzdvtntCg&code_challenge_method=S256&response_mode=form_post&nonce=637360237269452604.ZTM5MmMyNWEtMGRkMS00ZjUyLTkxODAtNTQ4MGNmMzQyZWViNDA0MzRlZDYtODY0Zi00YTM4LTk4OGItZWI1NGI5NTVhZTk5&state=CfDJ8H9fZSx1BlxCmY17EnGX2_CsAUvELjDrsObh54GV_40IKjUMXIOPUEE_QJBICj0WXzYTUzZ3D71x5D3B1WDDIyHXRDQn-gGDpWkKDqlY4vWUL_rgkfiIDtu3pLFAqyX0K9Tq7Unbp5r1sQ81UuHjKpg5Gsh0taSlALIIpIV4rvcnL42CcArJfKgEmzrM54G_6ar79rUYMM2veQYO6Q7b3fYT8W2bQdikhY2IYTEjLq7Ip1RiU9h4fx3pC-Asuv1EBnxDoMNJeyEUgtRNzF1ZHN6RxXkAF9cKgq0SbSGU78d05R_Q_griWwf9nDVrZGoa2a5vurm0MyFZghZKAnHcGOfLe1apV1_qNMCTIEq7sV5GIhITcgnqS2_WFYJRkE6ZnQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-18 18:02:06.953 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-18 18:02:06.953 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-18 18:02:06.953 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:02:06.959 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:02:06.961 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:02:06.961 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-18 18:02:06.972 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-18 18:02:06.972 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-18 18:02:06.974 +07:00 [DBG] Start authorize request
2020-09-18 18:02:06.977 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:02:06.978 +07:00 [DBG] No user present in authorize request
2020-09-18 18:02:06.980 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:02:06.989 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:02:06.996 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:02:07.015 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:02:07.027 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile admin","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_CsAUvELjDrsObh54GV_40IKjUMXIOPUEE_QJBICj0WXzYTUzZ3D71x5D3B1WDDIyHXRDQn-gG…","UiLocales":null,"Nonce":"637360237269452604.ZTM5MmMyNWEtMGRkMS00ZjUyLTkxODAtNTQ4MGNmMzQyZWViNDA0MzRlZDYtODY0Zi00YTM4LTk4OGIt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile admin","code_challenge":"P0uRF5ApdlJAUPNhfzGUKTFodqe6RYdqszfzdvtntCg","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360237269452604.ZTM5MmMyNWEtMGRkMS00ZjUyLTkxODAtNTQ4MGNmMzQyZWViNDA0MzRlZDYtODY0Zi00YTM4LTk4OGIt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_CsAUvELjDrsObh54GV_40IKjUMXIOPUEE_QJBICj0WXzYTUzZ3D71x5D3B1WDDIyHXRDQn-gG…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-18 18:02:07.043 +07:00 [INF] Showing login: User is not authenticated
2020-09-18 18:02:07.046 +07:00 [INF] Request finished in 94.2725ms 302 
2020-09-18 18:02:07.049 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520admin%26code_challenge%3DP0uRF5ApdlJAUPNhfzGUKTFodqe6RYdqszfzdvtntCg%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360237269452604.ZTM5MmMyNWEtMGRkMS00ZjUyLTkxODAtNTQ4MGNmMzQyZWViNDA0MzRlZDYtODY0Zi00YTM4LTk4OGItZWI1NGI5NTVhZTk5%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_CsAUvELjDrsObh54GV_40IKjUMXIOPUEE_QJBICj0WXzYTUzZ3D71x5D3B1WDDIyHXRDQn-gGDpWkKDqlY4vWUL_rgkfiIDtu3pLFAqyX0K9Tq7Unbp5r1sQ81UuHjKpg5Gsh0taSlALIIpIV4rvcnL42CcArJfKgEmzrM54G_6ar79rUYMM2veQYO6Q7b3fYT8W2bQdikhY2IYTEjLq7Ip1RiU9h4fx3pC-Asuv1EBnxDoMNJeyEUgtRNzF1ZHN6RxXkAF9cKgq0SbSGU78d05R_Q_griWwf9nDVrZGoa2a5vurm0MyFZghZKAnHcGOfLe1apV1_qNMCTIEq7sV5GIhITcgnqS2_WFYJRkE6ZnQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-18 18:02:07.050 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-18 18:02:07.053 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-18 18:02:07.057 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-18 18:02:07.058 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:02:07.058 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:02:07.058 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:02:07.059 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:02:07.063 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-18 18:02:07.088 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-18 18:02:07.089 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-18 18:02:07.089 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-18 18:02:07.090 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:02:07.090 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-18 18:02:07.090 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:02:07.091 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:02:07.092 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:02:07.095 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:02:07.098 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-18 18:02:07.098 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:02:07.098 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:02:07.098 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:02:07.100 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:02:07.108 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:02:07.108 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:02:07.108 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:02:07.108 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:02:07.108 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:02:07.110 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-18 18:02:07.115 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-18 18:02:07.120 +07:00 [DBG] View lookup cache miss for view 'Login' in controller 'Account'.
2020-09-18 18:02:07.127 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-18 18:02:07.130 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 7.2898ms.
2020-09-18 18:02:07.158 +07:00 [DBG] View lookup cache miss for view '_ValidationSummary' in controller 'Account'.
2020-09-18 18:02:07.170 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-18 18:02:07.175 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-18 18:02:07.200 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2020-09-18 18:02:07.210 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Account'.
2020-09-18 18:02:07.220 +07:00 [INF] Executed ViewResult - view Login executed in 100.5378ms.
2020-09-18 18:02:07.221 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 130.555ms
2020-09-18 18:02:07.221 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:02:07.224 +07:00 [INF] Request finished in 174.2546ms 200 text/html; charset=utf-8
2020-09-18 18:02:08.443 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map  
2020-09-18 18:02:08.479 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css.map  
2020-09-18 18:02:08.484 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2020-09-18 18:02:08.485 +07:00 [INF] Request finished in 42.5899ms 200 text/plain
2020-09-18 18:02:08.486 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2020-09-18 18:02:08.487 +07:00 [INF] Request finished in 8.5293ms 200 text/plain
2020-09-18 18:02:12.780 +07:00 [INF] Request starting HTTP/2.0 POST https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520admin%26code_challenge%3DP0uRF5ApdlJAUPNhfzGUKTFodqe6RYdqszfzdvtntCg%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360237269452604.ZTM5MmMyNWEtMGRkMS00ZjUyLTkxODAtNTQ4MGNmMzQyZWViNDA0MzRlZDYtODY0Zi00YTM4LTk4OGItZWI1NGI5NTVhZTk5%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_CsAUvELjDrsObh54GV_40IKjUMXIOPUEE_QJBICj0WXzYTUzZ3D71x5D3B1WDDIyHXRDQn-gGDpWkKDqlY4vWUL_rgkfiIDtu3pLFAqyX0K9Tq7Unbp5r1sQ81UuHjKpg5Gsh0taSlALIIpIV4rvcnL42CcArJfKgEmzrM54G_6ar79rUYMM2veQYO6Q7b3fYT8W2bQdikhY2IYTEjLq7Ip1RiU9h4fx3pC-Asuv1EBnxDoMNJeyEUgtRNzF1ZHN6RxXkAF9cKgq0SbSGU78d05R_Q_griWwf9nDVrZGoa2a5vurm0MyFZghZKAnHcGOfLe1apV1_qNMCTIEq7sV5GIhITcgnqS2_WFYJRkE6ZnQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 application/x-www-form-urlencoded 1143
2020-09-18 18:02:12.780 +07:00 [DBG] POST requests are not supported
2020-09-18 18:02:12.781 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-18 18:02:12.782 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-18 18:02:12.782 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:02:12.785 +07:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-18 18:02:12.785 +07:00 [INF] No CORS policy found for the specified request.
2020-09-18 18:02:12.786 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:02:12.786 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:02:12.787 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:02:12.802 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IdentityServerHost.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-18 18:02:12.802 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"]
2020-09-18 18:02:12.802 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-18 18:02:12.802 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:02:12.803 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-18 18:02:12.803 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:02:12.809 +07:00 [DBG] Antiforgery successfully validated a request.
2020-09-18 18:02:12.809 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:02:12.812 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:02:12.815 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-18 18:02:12.815 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' using the name '' in request data ...
2020-09-18 18:02:12.817 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String' using the name 'Username' in request data ...
2020-09-18 18:02:12.817 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String'.
2020-09-18 18:02:12.818 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String' using the name 'Password' in request data ...
2020-09-18 18:02:12.818 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String'.
2020-09-18 18:02:12.818 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean' using the name 'RememberLogin' in request data ...
2020-09-18 18:02:12.818 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean'.
2020-09-18 18:02:12.819 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String' using the name 'ReturnUrl' in request data ...
2020-09-18 18:02:12.819 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String'.
2020-09-18 18:02:12.819 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-18 18:02:12.819 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-18 18:02:12.819 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-18 18:02:12.823 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-18 18:02:12.824 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' ...
2020-09-18 18:02:12.824 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' using the name 'button' in request data ...
2020-09-18 18:02:12.824 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-18 18:02:12.824 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-18 18:02:12.824 +07:00 [DBG] Attempting to validate the bound parameter 'button' of type 'System.String' ...
2020-09-18 18:02:12.824 +07:00 [DBG] Done attempting to validate the bound parameter 'button' of type 'System.String'.
2020-09-18 18:02:12.826 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:02:12.826 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:02:12.826 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:02:12.827 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:02:12.828 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:02:12.838 +07:00 [DBG] Augmenting SignInContext
2020-09-18 18:02:12.839 +07:00 [DBG] Adding idp claim with value: local
2020-09-18 18:02:12.839 +07:00 [DBG] Adding amr claim with value: pwd
2020-09-18 18:02:12.839 +07:00 [DBG] Adding auth_time claim with value: 1600426932
2020-09-18 18:02:12.840 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:02:12.848 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-18 18:02:12.852 +07:00 [INF] Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=P0uRF5ApdlJAUPNhfzGUKTFodqe6RYdqszfzdvtntCg&code_challenge_method=S256&response_mode=form_post&nonce=637360237269452604.ZTM5MmMyNWEtMGRkMS00ZjUyLTkxODAtNTQ4MGNmMzQyZWViNDA0MzRlZDYtODY0Zi00YTM4LTk4OGItZWI1NGI5NTVhZTk5&state=CfDJ8H9fZSx1BlxCmY17EnGX2_CsAUvELjDrsObh54GV_40IKjUMXIOPUEE_QJBICj0WXzYTUzZ3D71x5D3B1WDDIyHXRDQn-gGDpWkKDqlY4vWUL_rgkfiIDtu3pLFAqyX0K9Tq7Unbp5r1sQ81UuHjKpg5Gsh0taSlALIIpIV4rvcnL42CcArJfKgEmzrM54G_6ar79rUYMM2veQYO6Q7b3fYT8W2bQdikhY2IYTEjLq7Ip1RiU9h4fx3pC-Asuv1EBnxDoMNJeyEUgtRNzF1ZHN6RxXkAF9cKgq0SbSGU78d05R_Q_griWwf9nDVrZGoa2a5vurm0MyFZghZKAnHcGOfLe1apV1_qNMCTIEq7sV5GIhITcgnqS2_WFYJRkE6ZnQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0.
2020-09-18 18:02:12.853 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 49.9898ms
2020-09-18 18:02:12.853 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:02:12.855 +07:00 [INF] Request finished in 79.1972ms 302 
2020-09-18 18:02:12.860 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize/callback?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=P0uRF5ApdlJAUPNhfzGUKTFodqe6RYdqszfzdvtntCg&code_challenge_method=S256&response_mode=form_post&nonce=637360237269452604.ZTM5MmMyNWEtMGRkMS00ZjUyLTkxODAtNTQ4MGNmMzQyZWViNDA0MzRlZDYtODY0Zi00YTM4LTk4OGItZWI1NGI5NTVhZTk5&state=CfDJ8H9fZSx1BlxCmY17EnGX2_CsAUvELjDrsObh54GV_40IKjUMXIOPUEE_QJBICj0WXzYTUzZ3D71x5D3B1WDDIyHXRDQn-gGDpWkKDqlY4vWUL_rgkfiIDtu3pLFAqyX0K9Tq7Unbp5r1sQ81UuHjKpg5Gsh0taSlALIIpIV4rvcnL42CcArJfKgEmzrM54G_6ar79rUYMM2veQYO6Q7b3fYT8W2bQdikhY2IYTEjLq7Ip1RiU9h4fx3pC-Asuv1EBnxDoMNJeyEUgtRNzF1ZHN6RxXkAF9cKgq0SbSGU78d05R_Q_griWwf9nDVrZGoa2a5vurm0MyFZghZKAnHcGOfLe1apV1_qNMCTIEq7sV5GIhITcgnqS2_WFYJRkE6ZnQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-18 18:02:12.861 +07:00 [DBG] The request path /connect/authorize/callback does not match a supported file type
2020-09-18 18:02:12.862 +07:00 [DBG] No candidates found for the request path '/connect/authorize/callback'
2020-09-18 18:02:12.862 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:02:12.864 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:02:12.864 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:02:12.865 +07:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-18 18:02:12.865 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-18 18:02:12.865 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-18 18:02:12.867 +07:00 [DBG] Start authorize callback request
2020-09-18 18:02:12.869 +07:00 [DBG] User in authorize request: 123456
2020-09-18 18:02:12.869 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:02:12.869 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:02:12.869 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:02:12.870 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:02:12.870 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile admin","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_CsAUvELjDrsObh54GV_40IKjUMXIOPUEE_QJBICj0WXzYTUzZ3D71x5D3B1WDDIyHXRDQn-gG…","UiLocales":null,"Nonce":"637360237269452604.ZTM5MmMyNWEtMGRkMS00ZjUyLTkxODAtNTQ4MGNmMzQyZWViNDA0MzRlZDYtODY0Zi00YTM4LTk4OGIt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"98F57059DD3378661ACE9E2C97562838","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile admin","code_challenge":"P0uRF5ApdlJAUPNhfzGUKTFodqe6RYdqszfzdvtntCg","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360237269452604.ZTM5MmMyNWEtMGRkMS00ZjUyLTkxODAtNTQ4MGNmMzQyZWViNDA0MzRlZDYtODY0Zi00YTM4LTk4OGIt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_CsAUvELjDrsObh54GV_40IKjUMXIOPUEE_QJBICj0WXzYTUzZ3D71x5D3B1WDDIyHXRDQn-gG…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-18 18:02:12.870 +07:00 [DBG] IsActive called from: AuthorizeEndpoint
2020-09-18 18:02:12.871 +07:00 [INF] Showing login: User is not active
2020-09-18 18:02:12.871 +07:00 [INF] Request finished in 11.7125ms 302 
2020-09-18 18:02:12.879 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520admin%26code_challenge%3DP0uRF5ApdlJAUPNhfzGUKTFodqe6RYdqszfzdvtntCg%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360237269452604.ZTM5MmMyNWEtMGRkMS00ZjUyLTkxODAtNTQ4MGNmMzQyZWViNDA0MzRlZDYtODY0Zi00YTM4LTk4OGItZWI1NGI5NTVhZTk5%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_CsAUvELjDrsObh54GV_40IKjUMXIOPUEE_QJBICj0WXzYTUzZ3D71x5D3B1WDDIyHXRDQn-gGDpWkKDqlY4vWUL_rgkfiIDtu3pLFAqyX0K9Tq7Unbp5r1sQ81UuHjKpg5Gsh0taSlALIIpIV4rvcnL42CcArJfKgEmzrM54G_6ar79rUYMM2veQYO6Q7b3fYT8W2bQdikhY2IYTEjLq7Ip1RiU9h4fx3pC-Asuv1EBnxDoMNJeyEUgtRNzF1ZHN6RxXkAF9cKgq0SbSGU78d05R_Q_griWwf9nDVrZGoa2a5vurm0MyFZghZKAnHcGOfLe1apV1_qNMCTIEq7sV5GIhITcgnqS2_WFYJRkE6ZnQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-18 18:02:12.879 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-18 18:02:12.880 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-18 18:02:12.880 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-18 18:02:12.880 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:02:12.880 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:02:12.880 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:02:12.881 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:02:12.881 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-18 18:02:12.881 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-18 18:02:12.881 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-18 18:02:12.882 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:02:12.882 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-18 18:02:12.882 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:02:12.882 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:02:12.884 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:02:12.885 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:02:12.885 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-18 18:02:12.885 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:02:12.885 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:02:12.885 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:02:12.885 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:02:12.885 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:02:12.885 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:02:12.885 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:02:12.885 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:02:12.886 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:02:12.886 +07:00 [DBG] View lookup cache hit for view 'Login' in controller 'Account'.
2020-09-18 18:02:12.886 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-18 18:02:12.886 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 0.2963ms.
2020-09-18 18:02:12.887 +07:00 [DBG] View lookup cache hit for view '_ValidationSummary' in controller 'Account'.
2020-09-18 18:02:12.888 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-18 18:02:12.888 +07:00 [DBG] An antiforgery cookie token was reused.
2020-09-18 18:02:12.889 +07:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Account'.
2020-09-18 18:02:12.890 +07:00 [DBG] View lookup cache hit for view '_Nav' in controller 'Account'.
2020-09-18 18:02:12.892 +07:00 [DBG] Found the endpoints ["Route: {controller=Home}/{action=Index}/{id?}"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-18 18:02:12.897 +07:00 [DBG] Successfully processed template {controller=Home}/{action=Index}/{id?} for Route: {controller=Home}/{action=Index}/{id?} resulting in /Account/Logout and 
2020-09-18 18:02:12.898 +07:00 [DBG] Link generation succeeded for endpoints ["Route: {controller=Home}/{action=Index}/{id?}"] with result /Account/Logout
2020-09-18 18:02:12.899 +07:00 [INF] Executed ViewResult - view Login executed in 13.2063ms.
2020-09-18 18:02:12.899 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 17.2671ms
2020-09-18 18:02:12.899 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:02:12.899 +07:00 [INF] Request finished in 20.9038ms 200 text/html; charset=utf-8
2020-09-18 18:02:12.930 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/css/site.css  
2020-09-18 18:02:12.930 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css  
2020-09-18 18:02:12.931 +07:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\css\site.css'
2020-09-18 18:02:12.932 +07:00 [INF] Request finished in 1.6488ms 200 text/css
2020-09-18 18:02:12.952 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/icon.png  
2020-09-18 18:02:12.953 +07:00 [INF] Sending file. Request path: '/icon.png'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\icon.png'
2020-09-18 18:02:12.953 +07:00 [INF] Request finished in 1.4453ms 200 image/png
2020-09-18 18:02:12.955 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2020-09-18 18:02:12.955 +07:00 [INF] Request finished in 25.5083ms 200 text/css
2020-09-18 18:02:12.952 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/jquery/dist/jquery.slim.min.js  
2020-09-18 18:02:12.969 +07:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\lib\jquery\dist\jquery.slim.min.js'
2020-09-18 18:02:12.969 +07:00 [INF] Request finished in 17.0684ms 200 application/javascript
2020-09-18 18:02:12.976 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js  
2020-09-18 18:02:12.995 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2020-09-18 18:02:12.995 +07:00 [INF] Request finished in 18.5455ms 200 application/javascript
2020-09-18 18:02:13.024 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css.map  
2020-09-18 18:02:13.031 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2020-09-18 18:02:13.032 +07:00 [INF] Request finished in 7.8044ms 200 text/plain
2020-09-18 18:02:13.051 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map  
2020-09-18 18:02:13.059 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2020-09-18 18:02:13.059 +07:00 [INF] Request finished in 7.3276ms 200 text/plain
2020-09-18 18:04:03.401 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:BackChannelLogoutClient'
2020-09-18 18:04:06.981 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:JwtRequestUriClient'
2020-09-18 18:04:13.410 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:04:13.420 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1048ms - processed: 0 items - remaining: 2 items
2020-09-18 18:04:23.432 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:04:23.433 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
2020-09-18 18:04:33.433 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:04:33.434 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 2 items
2020-09-18 18:04:34.150 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=maRvUtEzyCAgG1mYX31Oq4qH_nseYmW2K5cKRG0YTDI&code_challenge_method=S256&response_mode=form_post&nonce=637360238738398370.ZDA5NmYwMmUtMDViZS00M2ZkLWE3NDgtODVhZDhkNzEwOGYzN2ZiMjU3NGUtYjAwOS00NDJjLThjNDktZDhmYzU0ZjFkNWUx&state=CfDJ8H9fZSx1BlxCmY17EnGX2_AnGwKaTg4IjDnfdlGsfd3a_gh9VgLoITI4qzLb9n5ltHpD10Me1MqLO0YIbSs_ED7UH0uKbic3zpFIFXqA82wMHo_NL27oPE4wEVwCR6w1w5NjA7qRwRknfejnxgqqMgX6sDP2KaFFXtWSmR5K_cDrpEsPOim-CLwK-d1Eewk0z7CxsgoOYxhpJhkfohFSRgslolAh6LHpOHMC5CBKfeCdHyUtP47DsRbIJuoik1yD6N-BMf2wzW8WFugZpQFJ0mWU9KpEod9qpqvxR7tGFOHOhXvfY5kHEuXYARTSMoep5wdyHFbSz9WYX0fztsaCeF_61aD0caue11FrqCmoItecfuHMStXvUEMctFHMxN8L8g&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-18 18:04:34.151 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-18 18:04:34.151 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-18 18:04:34.152 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:04:34.154 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:04:34.154 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:04:34.155 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-18 18:04:34.159 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-18 18:04:34.159 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-18 18:04:34.159 +07:00 [DBG] Start authorize request
2020-09-18 18:04:34.160 +07:00 [DBG] User in authorize request: 123456
2020-09-18 18:04:34.160 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:04:34.160 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:04:34.161 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:04:34.161 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:04:34.162 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile admin","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_AnGwKaTg4IjDnfdlGsfd3a_gh9VgLoITI4qzLb9n5ltHpD10Me1MqLO0YIbSs_ED7UH0uKbic…","UiLocales":null,"Nonce":"637360238738398370.ZDA5NmYwMmUtMDViZS00M2ZkLWE3NDgtODVhZDhkNzEwOGYzN2ZiMjU3NGUtYjAwOS00NDJjLThjNDkt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"98F57059DD3378661ACE9E2C97562838","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile admin","code_challenge":"maRvUtEzyCAgG1mYX31Oq4qH_nseYmW2K5cKRG0YTDI","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360238738398370.ZDA5NmYwMmUtMDViZS00M2ZkLWE3NDgtODVhZDhkNzEwOGYzN2ZiMjU3NGUtYjAwOS00NDJjLThjNDkt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_AnGwKaTg4IjDnfdlGsfd3a_gh9VgLoITI4qzLb9n5ltHpD10Me1MqLO0YIbSs_ED7UH0uKbic…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-18 18:04:34.162 +07:00 [DBG] IsActive called from: AuthorizeEndpoint
2020-09-18 18:04:34.162 +07:00 [INF] Showing login: User is not active
2020-09-18 18:04:34.163 +07:00 [INF] Request finished in 12.7653ms 302 
2020-09-18 18:04:34.168 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520admin%26code_challenge%3DmaRvUtEzyCAgG1mYX31Oq4qH_nseYmW2K5cKRG0YTDI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360238738398370.ZDA5NmYwMmUtMDViZS00M2ZkLWE3NDgtODVhZDhkNzEwOGYzN2ZiMjU3NGUtYjAwOS00NDJjLThjNDktZDhmYzU0ZjFkNWUx%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_AnGwKaTg4IjDnfdlGsfd3a_gh9VgLoITI4qzLb9n5ltHpD10Me1MqLO0YIbSs_ED7UH0uKbic3zpFIFXqA82wMHo_NL27oPE4wEVwCR6w1w5NjA7qRwRknfejnxgqqMgX6sDP2KaFFXtWSmR5K_cDrpEsPOim-CLwK-d1Eewk0z7CxsgoOYxhpJhkfohFSRgslolAh6LHpOHMC5CBKfeCdHyUtP47DsRbIJuoik1yD6N-BMf2wzW8WFugZpQFJ0mWU9KpEod9qpqvxR7tGFOHOhXvfY5kHEuXYARTSMoep5wdyHFbSz9WYX0fztsaCeF_61aD0caue11FrqCmoItecfuHMStXvUEMctFHMxN8L8g%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-18 18:04:34.169 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-18 18:04:34.170 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-18 18:04:34.170 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-18 18:04:34.171 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:04:34.173 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:04:34.174 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:04:34.174 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:04:34.174 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-18 18:04:34.174 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-18 18:04:34.174 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-18 18:04:34.175 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:04:34.175 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-18 18:04:34.175 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:04:34.175 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:04:34.176 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:04:34.176 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:04:34.176 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-18 18:04:34.176 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:04:34.177 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:04:34.177 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:04:34.177 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:04:34.177 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:04:34.177 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:04:34.178 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:04:34.178 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:04:34.179 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:04:34.181 +07:00 [DBG] View lookup cache hit for view 'Login' in controller 'Account'.
2020-09-18 18:04:34.181 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-18 18:04:34.182 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 0.9682ms.
2020-09-18 18:04:34.183 +07:00 [DBG] View lookup cache hit for view '_ValidationSummary' in controller 'Account'.
2020-09-18 18:04:34.184 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-18 18:04:34.185 +07:00 [DBG] An antiforgery cookie token was reused.
2020-09-18 18:04:34.187 +07:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Account'.
2020-09-18 18:04:34.188 +07:00 [DBG] View lookup cache hit for view '_Nav' in controller 'Account'.
2020-09-18 18:04:34.188 +07:00 [DBG] Found the endpoints ["Route: {controller=Home}/{action=Index}/{id?}"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-18 18:04:34.188 +07:00 [DBG] Successfully processed template {controller=Home}/{action=Index}/{id?} for Route: {controller=Home}/{action=Index}/{id?} resulting in /Account/Logout and 
2020-09-18 18:04:34.189 +07:00 [DBG] Link generation succeeded for endpoints ["Route: {controller=Home}/{action=Index}/{id?}"] with result /Account/Logout
2020-09-18 18:04:34.190 +07:00 [INF] Executed ViewResult - view Login executed in 9.1679ms.
2020-09-18 18:04:34.190 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 14.9866ms
2020-09-18 18:04:34.190 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:04:34.190 +07:00 [INF] Request finished in 22.2904ms 200 text/html; charset=utf-8
2020-09-18 18:04:34.239 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css  
2020-09-18 18:04:34.239 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/css/site.css  
2020-09-18 18:04:34.241 +07:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\css\site.css'
2020-09-18 18:04:34.242 +07:00 [INF] Request finished in 1.9366ms 200 text/css
2020-09-18 18:04:34.258 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/jquery/dist/jquery.slim.min.js  
2020-09-18 18:04:34.258 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/icon.png  
2020-09-18 18:04:34.287 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js  
2020-09-18 18:04:34.295 +07:00 [INF] Sending file. Request path: '/icon.png'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\icon.png'
2020-09-18 18:04:34.296 +07:00 [INF] Request finished in 37.5415ms 200 image/png
2020-09-18 18:04:34.300 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2020-09-18 18:04:34.300 +07:00 [INF] Request finished in 61.573ms 200 text/css
2020-09-18 18:04:34.305 +07:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\lib\jquery\dist\jquery.slim.min.js'
2020-09-18 18:04:34.305 +07:00 [INF] Request finished in 47.3867ms 200 application/javascript
2020-09-18 18:04:34.305 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2020-09-18 18:04:34.305 +07:00 [INF] Request finished in 18.7659ms 200 application/javascript
2020-09-18 18:04:34.390 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css.map  
2020-09-18 18:04:34.413 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2020-09-18 18:04:34.414 +07:00 [INF] Request finished in 24.0195ms 200 text/plain
2020-09-18 18:04:34.476 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map  
2020-09-18 18:04:34.478 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2020-09-18 18:04:34.478 +07:00 [INF] Request finished in 2.1571ms 200 text/plain
2020-09-18 18:04:43.449 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:04:43.450 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.3479ms - processed: 2 items - remaining: 0 items
2020-09-18 18:26:11.058 +07:00 [INF] Starting host...
2020-09-18 18:26:11.877 +07:00 [DBG] Hosting starting
2020-09-18 18:26:11.915 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-18 18:26:11.924 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-18 18:26:11.935 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-18 18:26:11.935 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-18 18:26:11.935 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-18 18:26:11.939 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-18 18:26:11.943 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-18 18:26:11.943 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-18 18:26:11.943 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-18 18:26:11.948 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-18 18:26:11.957 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-18 18:26:11.959 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-18 18:26:11.960 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-18 18:26:11.963 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-18 18:26:11.965 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-18 18:26:11.968 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-18 18:26:11.968 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-18 18:26:12.005 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-18 18:26:12.012 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-18 18:26:12.014 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-18 18:26:12.014 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-18 18:26:12.014 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-18 18:26:12.014 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-18 18:26:12.014 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-18 18:26:12.014 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-18 18:26:12.142 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-18 18:26:12.142 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-18 18:26:12.142 +07:00 [INF] Hosting environment: Development
2020-09-18 18:26:12.142 +07:00 [INF] Content root path: D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4
2020-09-18 18:26:12.143 +07:00 [DBG] Hosting started
2020-09-18 18:26:12.179 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-18 18:26:12.181 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-18 18:26:12.182 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-18 18:26:12.203 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-18 18:26:12.203 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:26:12.223 +07:00 [DBG] Login Url: /Account/Login
2020-09-18 18:26:12.223 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-18 18:26:12.223 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-18 18:26:12.224 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-18 18:26:12.224 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-18 18:26:12.224 +07:00 [DBG] Error Url: /home/error
2020-09-18 18:26:12.224 +07:00 [DBG] Error Id Parameter: errorId
2020-09-18 18:26:12.226 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:12.231 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:12.234 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-18 18:26:12.237 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-18 18:26:12.237 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-18 18:26:12.239 +07:00 [DBG] Start discovery request
2020-09-18 18:26:12.282 +07:00 [INF] Request finished in 104.9774ms 200 application/json; charset=UTF-8
2020-09-18 18:26:12.407 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-18 18:26:12.407 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-18 18:26:12.408 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-18 18:26:12.408 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:26:12.414 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:12.414 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:12.414 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-18 18:26:12.414 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-18 18:26:12.414 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-18 18:26:12.418 +07:00 [DBG] Start key discovery request
2020-09-18 18:26:12.431 +07:00 [INF] Request finished in 24.342ms 200 application/json; charset=UTF-8
2020-09-18 18:26:12.765 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=WW2WXbl1gS3GcrIOSmFZ0OuxaRuwsXpkj67GB-pev-M&code_challenge_method=S256&response_mode=form_post&nonce=637360251724478469.Yzg4NzM1N2QtYTlkZS00ZTUxLTg3NjItMWQ3OTg5MTY0YjBlZGNhY2EyZTctZmEwZC00NjlhLTk2MDUtY2MyYjQzYmZkMmVk&state=CfDJ8H9fZSx1BlxCmY17EnGX2_Ajs0xDj6gcbh-YVT3MlpOljPZs3RCatElLQqgbB-mRPGI5SuwIMUwmVED0TKR9B65FiXUpOy9byYvF689FoADKyX4e2nbXRLbyUA_81fJY9RoeNn8dm66bMGUl_eFl1n_klvhxmc4iSMHqgDOZKxUeo_rdoXBlIgngTI6EAKc0YSs9r4CEFpp1J-E_YBB5q-1GmBE6rus_pinEdakD84zGwKj0Ze14V8HAq2klEk4TET65NKHSdc8vDrzQfOoiCrKxeYzdJrH1ozHDxDKDGmgFHWL_3zgGValSyW4NVzZlaEGzWEIKh6DBZrvN2HmXa82mA_Nf8lJvaNSy0xnmUVIZm3txSYr18Dbt6ZbvXn8V_g&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-18 18:26:12.765 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-18 18:26:12.766 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-18 18:26:12.766 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:26:12.770 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:12.771 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:12.772 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-18 18:26:12.782 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-18 18:26:12.782 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-18 18:26:12.783 +07:00 [DBG] Start authorize request
2020-09-18 18:26:12.786 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:12.787 +07:00 [DBG] No user present in authorize request
2020-09-18 18:26:12.788 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:26:12.795 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:12.802 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:26:12.816 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:26:12.825 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile admin","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_Ajs0xDj6gcbh-YVT3MlpOljPZs3RCatElLQqgbB-mRPGI5SuwIMUwmVED0TKR9B65FiXUpOy9…","UiLocales":null,"Nonce":"637360251724478469.Yzg4NzM1N2QtYTlkZS00ZTUxLTg3NjItMWQ3OTg5MTY0YjBlZGNhY2EyZTctZmEwZC00NjlhLTk2MDUt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile admin","code_challenge":"WW2WXbl1gS3GcrIOSmFZ0OuxaRuwsXpkj67GB-pev-M","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360251724478469.Yzg4NzM1N2QtYTlkZS00ZTUxLTg3NjItMWQ3OTg5MTY0YjBlZGNhY2EyZTctZmEwZC00NjlhLTk2MDUt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_Ajs0xDj6gcbh-YVT3MlpOljPZs3RCatElLQqgbB-mRPGI5SuwIMUwmVED0TKR9B65FiXUpOy9…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-18 18:26:12.841 +07:00 [INF] Showing login: User is not authenticated
2020-09-18 18:26:12.844 +07:00 [INF] Request finished in 79.3464ms 302 
2020-09-18 18:26:12.848 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520admin%26code_challenge%3DWW2WXbl1gS3GcrIOSmFZ0OuxaRuwsXpkj67GB-pev-M%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360251724478469.Yzg4NzM1N2QtYTlkZS00ZTUxLTg3NjItMWQ3OTg5MTY0YjBlZGNhY2EyZTctZmEwZC00NjlhLTk2MDUtY2MyYjQzYmZkMmVk%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_Ajs0xDj6gcbh-YVT3MlpOljPZs3RCatElLQqgbB-mRPGI5SuwIMUwmVED0TKR9B65FiXUpOy9byYvF689FoADKyX4e2nbXRLbyUA_81fJY9RoeNn8dm66bMGUl_eFl1n_klvhxmc4iSMHqgDOZKxUeo_rdoXBlIgngTI6EAKc0YSs9r4CEFpp1J-E_YBB5q-1GmBE6rus_pinEdakD84zGwKj0Ze14V8HAq2klEk4TET65NKHSdc8vDrzQfOoiCrKxeYzdJrH1ozHDxDKDGmgFHWL_3zgGValSyW4NVzZlaEGzWEIKh6DBZrvN2HmXa82mA_Nf8lJvaNSy0xnmUVIZm3txSYr18Dbt6ZbvXn8V_g%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-18 18:26:12.848 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-18 18:26:12.851 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-18 18:26:12.854 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-18 18:26:12.855 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:12.855 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:12.855 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:12.856 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:12.860 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-18 18:26:12.885 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-18 18:26:12.886 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-18 18:26:12.887 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-18 18:26:12.887 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:12.887 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-18 18:26:12.887 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:12.888 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:26:12.890 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:26:12.893 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:26:12.895 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-18 18:26:12.896 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:12.896 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:12.896 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:26:12.898 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:12.907 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:12.907 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:26:12.907 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:12.907 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:26:12.908 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:26:12.909 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-18 18:26:12.916 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-18 18:26:12.922 +07:00 [DBG] View lookup cache miss for view 'Login' in controller 'Account'.
2020-09-18 18:26:12.928 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-18 18:26:12.931 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 6.2671ms.
2020-09-18 18:26:12.959 +07:00 [DBG] View lookup cache miss for view '_ValidationSummary' in controller 'Account'.
2020-09-18 18:26:12.972 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-18 18:26:12.976 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-18 18:26:13.000 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2020-09-18 18:26:13.012 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Account'.
2020-09-18 18:26:13.021 +07:00 [INF] Executed ViewResult - view Login executed in 99.394ms.
2020-09-18 18:26:13.022 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 134.0855ms
2020-09-18 18:26:13.022 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:13.023 +07:00 [INF] Request finished in 175.4774ms 200 text/html; charset=utf-8
2020-09-18 18:26:26.446 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=2EOTaTHccl4vCLB6nVakVZYzjSdyWx2DkapJXffCb6E&code_challenge_method=S256&response_mode=form_post&nonce=637360251864405973.MjQ3ZmU1NzMtYjRiMy00YjgzLTg1ZDktN2QyZmFhNDkyYzRlYjNlYjBmODYtYjIwMi00MTEwLWE0MTctOWYxYThkZjlkYWE5&state=CfDJ8H9fZSx1BlxCmY17EnGX2_AhrIxh6mgJu7AC3tFnWALwsZano5WsP4IKPFTtOjf6yH6b4PsdGZK3JHWVSHns2qnOLq9K9jG6lnBMx1xdfXBp999Vo4x5_X7PYe3YakXXawU_bElCn1oBU8m3rDZTclVHks0w3A8dZKXje4Z5xkbwFL2aqZ53t0QhJX3YF11lhNZx02ggXgj8b2Ei6VgonauInRIRe-A_4eY0zijzWm8gx1_kdcH5DpMclNfvF4jiWoTiYn4ZSsHrUI64EInxR9ixDn9f6A9nW0e1yXgIkSXJngLNQQhlA9QbZ-sPYvXyP1ePpZItXKwZbJY82uqKd9EEhvWRRENiNS86A4pNHCNxZiSAQlItLrw2-cTU22DElw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-18 18:26:26.447 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-18 18:26:26.448 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-18 18:26:26.448 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:26:26.450 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:26.451 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:26.452 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-18 18:26:26.453 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-18 18:26:26.454 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-18 18:26:26.454 +07:00 [DBG] Start authorize request
2020-09-18 18:26:26.454 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:26.455 +07:00 [DBG] No user present in authorize request
2020-09-18 18:26:26.455 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:26:26.455 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:26.456 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:26:26.457 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:26:26.458 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile admin","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_AhrIxh6mgJu7AC3tFnWALwsZano5WsP4IKPFTtOjf6yH6b4PsdGZK3JHWVSHns2qnOLq9K9jG…","UiLocales":null,"Nonce":"637360251864405973.MjQ3ZmU1NzMtYjRiMy00YjgzLTg1ZDktN2QyZmFhNDkyYzRlYjNlYjBmODYtYjIwMi00MTEwLWE0MTct…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile admin","code_challenge":"2EOTaTHccl4vCLB6nVakVZYzjSdyWx2DkapJXffCb6E","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360251864405973.MjQ3ZmU1NzMtYjRiMy00YjgzLTg1ZDktN2QyZmFhNDkyYzRlYjNlYjBmODYtYjIwMi00MTEwLWE0MTct…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_AhrIxh6mgJu7AC3tFnWALwsZano5WsP4IKPFTtOjf6yH6b4PsdGZK3JHWVSHns2qnOLq9K9jG…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-18 18:26:26.458 +07:00 [INF] Showing login: User is not authenticated
2020-09-18 18:26:26.459 +07:00 [INF] Request finished in 12.8863ms 302 
2020-09-18 18:26:26.468 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520admin%26code_challenge%3D2EOTaTHccl4vCLB6nVakVZYzjSdyWx2DkapJXffCb6E%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360251864405973.MjQ3ZmU1NzMtYjRiMy00YjgzLTg1ZDktN2QyZmFhNDkyYzRlYjNlYjBmODYtYjIwMi00MTEwLWE0MTctOWYxYThkZjlkYWE5%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_AhrIxh6mgJu7AC3tFnWALwsZano5WsP4IKPFTtOjf6yH6b4PsdGZK3JHWVSHns2qnOLq9K9jG6lnBMx1xdfXBp999Vo4x5_X7PYe3YakXXawU_bElCn1oBU8m3rDZTclVHks0w3A8dZKXje4Z5xkbwFL2aqZ53t0QhJX3YF11lhNZx02ggXgj8b2Ei6VgonauInRIRe-A_4eY0zijzWm8gx1_kdcH5DpMclNfvF4jiWoTiYn4ZSsHrUI64EInxR9ixDn9f6A9nW0e1yXgIkSXJngLNQQhlA9QbZ-sPYvXyP1ePpZItXKwZbJY82uqKd9EEhvWRRENiNS86A4pNHCNxZiSAQlItLrw2-cTU22DElw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-18 18:26:26.469 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-18 18:26:26.469 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-18 18:26:26.470 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-18 18:26:26.470 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:26.470 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:26.470 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:26.470 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:26.471 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-18 18:26:26.471 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-18 18:26:26.471 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-18 18:26:26.471 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:26.471 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-18 18:26:26.471 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:26.471 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:26:26.472 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:26:26.472 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:26:26.473 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-18 18:26:26.473 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:26.473 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:26.473 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:26:26.473 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:26.473 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:26.473 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:26:26.473 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:26.474 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:26:26.474 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:26:26.474 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:26.475 +07:00 [DBG] View lookup cache hit for view 'Login' in controller 'Account'.
2020-09-18 18:26:26.475 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-18 18:26:26.475 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 0.2771ms.
2020-09-18 18:26:26.475 +07:00 [DBG] View lookup cache hit for view '_ValidationSummary' in controller 'Account'.
2020-09-18 18:26:26.476 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-18 18:26:26.476 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-18 18:26:26.478 +07:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Account'.
2020-09-18 18:26:26.479 +07:00 [DBG] View lookup cache hit for view '_Nav' in controller 'Account'.
2020-09-18 18:26:26.479 +07:00 [INF] Executed ViewResult - view Login executed in 4.8088ms.
2020-09-18 18:26:26.479 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 8.2718ms
2020-09-18 18:26:26.480 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:26.480 +07:00 [INF] Request finished in 11.4403ms 200 text/html; charset=utf-8
2020-09-18 18:26:29.768 +07:00 [INF] Request starting HTTP/2.0 POST https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520admin%26code_challenge%3D2EOTaTHccl4vCLB6nVakVZYzjSdyWx2DkapJXffCb6E%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360251864405973.MjQ3ZmU1NzMtYjRiMy00YjgzLTg1ZDktN2QyZmFhNDkyYzRlYjNlYjBmODYtYjIwMi00MTEwLWE0MTctOWYxYThkZjlkYWE5%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_AhrIxh6mgJu7AC3tFnWALwsZano5WsP4IKPFTtOjf6yH6b4PsdGZK3JHWVSHns2qnOLq9K9jG6lnBMx1xdfXBp999Vo4x5_X7PYe3YakXXawU_bElCn1oBU8m3rDZTclVHks0w3A8dZKXje4Z5xkbwFL2aqZ53t0QhJX3YF11lhNZx02ggXgj8b2Ei6VgonauInRIRe-A_4eY0zijzWm8gx1_kdcH5DpMclNfvF4jiWoTiYn4ZSsHrUI64EInxR9ixDn9f6A9nW0e1yXgIkSXJngLNQQhlA9QbZ-sPYvXyP1ePpZItXKwZbJY82uqKd9EEhvWRRENiNS86A4pNHCNxZiSAQlItLrw2-cTU22DElw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 application/x-www-form-urlencoded 1143
2020-09-18 18:26:29.768 +07:00 [DBG] POST requests are not supported
2020-09-18 18:26:29.769 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-18 18:26:29.769 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-18 18:26:29.769 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:29.773 +07:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-18 18:26:29.773 +07:00 [INF] No CORS policy found for the specified request.
2020-09-18 18:26:29.774 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:29.774 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:29.774 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:29.780 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IdentityServerHost.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-18 18:26:29.780 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"]
2020-09-18 18:26:29.780 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-18 18:26:29.781 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:29.781 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-18 18:26:29.781 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:29.790 +07:00 [DBG] Antiforgery successfully validated a request.
2020-09-18 18:26:29.790 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:26:29.792 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:26:29.794 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-18 18:26:29.795 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' using the name '' in request data ...
2020-09-18 18:26:29.796 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String' using the name 'Username' in request data ...
2020-09-18 18:26:29.796 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String'.
2020-09-18 18:26:29.797 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String' using the name 'Password' in request data ...
2020-09-18 18:26:29.797 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String'.
2020-09-18 18:26:29.797 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean' using the name 'RememberLogin' in request data ...
2020-09-18 18:26:29.797 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean'.
2020-09-18 18:26:29.798 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String' using the name 'ReturnUrl' in request data ...
2020-09-18 18:26:29.798 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String'.
2020-09-18 18:26:29.798 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-18 18:26:29.798 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-18 18:26:29.798 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-18 18:26:29.802 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-18 18:26:29.802 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' ...
2020-09-18 18:26:29.802 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' using the name 'button' in request data ...
2020-09-18 18:26:29.802 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-18 18:26:29.803 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-18 18:26:29.803 +07:00 [DBG] Attempting to validate the bound parameter 'button' of type 'System.String' ...
2020-09-18 18:26:29.803 +07:00 [DBG] Done attempting to validate the bound parameter 'button' of type 'System.String'.
2020-09-18 18:26:29.807 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:29.807 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:26:29.807 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:29.807 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:26:29.808 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:26:29.818 +07:00 [DBG] Augmenting SignInContext
2020-09-18 18:26:29.820 +07:00 [DBG] Adding idp claim with value: local
2020-09-18 18:26:29.821 +07:00 [DBG] Adding amr claim with value: pwd
2020-09-18 18:26:29.821 +07:00 [DBG] Adding auth_time claim with value: 1600428389
2020-09-18 18:26:29.823 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:29.828 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-18 18:26:29.832 +07:00 [INF] Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=2EOTaTHccl4vCLB6nVakVZYzjSdyWx2DkapJXffCb6E&code_challenge_method=S256&response_mode=form_post&nonce=637360251864405973.MjQ3ZmU1NzMtYjRiMy00YjgzLTg1ZDktN2QyZmFhNDkyYzRlYjNlYjBmODYtYjIwMi00MTEwLWE0MTctOWYxYThkZjlkYWE5&state=CfDJ8H9fZSx1BlxCmY17EnGX2_AhrIxh6mgJu7AC3tFnWALwsZano5WsP4IKPFTtOjf6yH6b4PsdGZK3JHWVSHns2qnOLq9K9jG6lnBMx1xdfXBp999Vo4x5_X7PYe3YakXXawU_bElCn1oBU8m3rDZTclVHks0w3A8dZKXje4Z5xkbwFL2aqZ53t0QhJX3YF11lhNZx02ggXgj8b2Ei6VgonauInRIRe-A_4eY0zijzWm8gx1_kdcH5DpMclNfvF4jiWoTiYn4ZSsHrUI64EInxR9ixDn9f6A9nW0e1yXgIkSXJngLNQQhlA9QbZ-sPYvXyP1ePpZItXKwZbJY82uqKd9EEhvWRRENiNS86A4pNHCNxZiSAQlItLrw2-cTU22DElw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0.
2020-09-18 18:26:29.832 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 51.4441ms
2020-09-18 18:26:29.833 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:29.835 +07:00 [INF] Request finished in 67.4766ms 302 
2020-09-18 18:26:29.841 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize/callback?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=2EOTaTHccl4vCLB6nVakVZYzjSdyWx2DkapJXffCb6E&code_challenge_method=S256&response_mode=form_post&nonce=637360251864405973.MjQ3ZmU1NzMtYjRiMy00YjgzLTg1ZDktN2QyZmFhNDkyYzRlYjNlYjBmODYtYjIwMi00MTEwLWE0MTctOWYxYThkZjlkYWE5&state=CfDJ8H9fZSx1BlxCmY17EnGX2_AhrIxh6mgJu7AC3tFnWALwsZano5WsP4IKPFTtOjf6yH6b4PsdGZK3JHWVSHns2qnOLq9K9jG6lnBMx1xdfXBp999Vo4x5_X7PYe3YakXXawU_bElCn1oBU8m3rDZTclVHks0w3A8dZKXje4Z5xkbwFL2aqZ53t0QhJX3YF11lhNZx02ggXgj8b2Ei6VgonauInRIRe-A_4eY0zijzWm8gx1_kdcH5DpMclNfvF4jiWoTiYn4ZSsHrUI64EInxR9ixDn9f6A9nW0e1yXgIkSXJngLNQQhlA9QbZ-sPYvXyP1ePpZItXKwZbJY82uqKd9EEhvWRRENiNS86A4pNHCNxZiSAQlItLrw2-cTU22DElw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-18 18:26:29.841 +07:00 [DBG] The request path /connect/authorize/callback does not match a supported file type
2020-09-18 18:26:29.841 +07:00 [DBG] No candidates found for the request path '/connect/authorize/callback'
2020-09-18 18:26:29.841 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:26:29.843 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:26:29.843 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:26:29.843 +07:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-18 18:26:29.843 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-18 18:26:29.843 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-18 18:26:29.845 +07:00 [DBG] Start authorize callback request
2020-09-18 18:26:29.847 +07:00 [DBG] User in authorize request: 123456
2020-09-18 18:26:29.847 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:26:29.847 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:29.847 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:26:29.847 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:26:29.847 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile admin","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_AhrIxh6mgJu7AC3tFnWALwsZano5WsP4IKPFTtOjf6yH6b4PsdGZK3JHWVSHns2qnOLq9K9jG…","UiLocales":null,"Nonce":"637360251864405973.MjQ3ZmU1NzMtYjRiMy00YjgzLTg1ZDktN2QyZmFhNDkyYzRlYjNlYjBmODYtYjIwMi00MTEwLWE0MTct…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"5C6A72EAF5156BC25B59741D1824ECF6","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile admin","code_challenge":"2EOTaTHccl4vCLB6nVakVZYzjSdyWx2DkapJXffCb6E","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360251864405973.MjQ3ZmU1NzMtYjRiMy00YjgzLTg1ZDktN2QyZmFhNDkyYzRlYjNlYjBmODYtYjIwMi00MTEwLWE0MTct…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_AhrIxh6mgJu7AC3tFnWALwsZano5WsP4IKPFTtOjf6yH6b4PsdGZK3JHWVSHns2qnOLq9K9jG…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-18 18:26:29.848 +07:00 [DBG] IsActive called from: AuthorizeEndpoint
2020-09-18 18:26:29.849 +07:00 [INF] Showing login: User is not active
2020-09-18 18:26:29.849 +07:00 [INF] Request finished in 7.881ms 302 
2020-09-18 18:26:29.853 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520admin%26code_challenge%3D2EOTaTHccl4vCLB6nVakVZYzjSdyWx2DkapJXffCb6E%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360251864405973.MjQ3ZmU1NzMtYjRiMy00YjgzLTg1ZDktN2QyZmFhNDkyYzRlYjNlYjBmODYtYjIwMi00MTEwLWE0MTctOWYxYThkZjlkYWE5%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_AhrIxh6mgJu7AC3tFnWALwsZano5WsP4IKPFTtOjf6yH6b4PsdGZK3JHWVSHns2qnOLq9K9jG6lnBMx1xdfXBp999Vo4x5_X7PYe3YakXXawU_bElCn1oBU8m3rDZTclVHks0w3A8dZKXje4Z5xkbwFL2aqZ53t0QhJX3YF11lhNZx02ggXgj8b2Ei6VgonauInRIRe-A_4eY0zijzWm8gx1_kdcH5DpMclNfvF4jiWoTiYn4ZSsHrUI64EInxR9ixDn9f6A9nW0e1yXgIkSXJngLNQQhlA9QbZ-sPYvXyP1ePpZItXKwZbJY82uqKd9EEhvWRRENiNS86A4pNHCNxZiSAQlItLrw2-cTU22DElw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-18 18:26:29.853 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-18 18:26:29.854 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-18 18:26:29.854 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-18 18:26:29.854 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:29.855 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:26:29.855 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:26:29.855 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:29.855 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-18 18:26:29.855 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-18 18:26:29.855 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-18 18:26:29.855 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:29.855 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-18 18:26:29.855 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:29.855 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:26:29.855 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:26:29.856 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:26:29.856 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-18 18:26:29.856 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:29.856 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:29.856 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:26:29.856 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:29.856 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:26:29.856 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:29.856 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:26:29.856 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:26:29.856 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:29.857 +07:00 [DBG] View lookup cache hit for view 'Login' in controller 'Account'.
2020-09-18 18:26:29.857 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-18 18:26:29.857 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 0.1625ms.
2020-09-18 18:26:29.858 +07:00 [DBG] View lookup cache hit for view '_ValidationSummary' in controller 'Account'.
2020-09-18 18:26:29.858 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-18 18:26:29.858 +07:00 [DBG] An antiforgery cookie token was reused.
2020-09-18 18:26:29.859 +07:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Account'.
2020-09-18 18:26:29.860 +07:00 [DBG] View lookup cache hit for view '_Nav' in controller 'Account'.
2020-09-18 18:26:29.861 +07:00 [DBG] Found the endpoints ["Route: {controller=Home}/{action=Index}/{id?}"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-18 18:26:29.866 +07:00 [DBG] Successfully processed template {controller=Home}/{action=Index}/{id?} for Route: {controller=Home}/{action=Index}/{id?} resulting in /Account/Logout and 
2020-09-18 18:26:29.874 +07:00 [DBG] Link generation succeeded for endpoints ["Route: {controller=Home}/{action=Index}/{id?}"] with result /Account/Logout
2020-09-18 18:26:29.875 +07:00 [INF] Executed ViewResult - view Login executed in 18.1542ms.
2020-09-18 18:26:29.875 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 19.529ms
2020-09-18 18:26:29.875 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:29.875 +07:00 [INF] Request finished in 21.7629ms 200 text/html; charset=utf-8
2020-09-18 18:26:39.905 +07:00 [INF] Request starting HTTP/2.0 POST https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520admin%26code_challenge%3D2EOTaTHccl4vCLB6nVakVZYzjSdyWx2DkapJXffCb6E%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360251864405973.MjQ3ZmU1NzMtYjRiMy00YjgzLTg1ZDktN2QyZmFhNDkyYzRlYjNlYjBmODYtYjIwMi00MTEwLWE0MTctOWYxYThkZjlkYWE5%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_AhrIxh6mgJu7AC3tFnWALwsZano5WsP4IKPFTtOjf6yH6b4PsdGZK3JHWVSHns2qnOLq9K9jG6lnBMx1xdfXBp999Vo4x5_X7PYe3YakXXawU_bElCn1oBU8m3rDZTclVHks0w3A8dZKXje4Z5xkbwFL2aqZ53t0QhJX3YF11lhNZx02ggXgj8b2Ei6VgonauInRIRe-A_4eY0zijzWm8gx1_kdcH5DpMclNfvF4jiWoTiYn4ZSsHrUI64EInxR9ixDn9f6A9nW0e1yXgIkSXJngLNQQhlA9QbZ-sPYvXyP1ePpZItXKwZbJY82uqKd9EEhvWRRENiNS86A4pNHCNxZiSAQlItLrw2-cTU22DElw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 application/x-www-form-urlencoded 1186
2020-09-18 18:26:39.906 +07:00 [DBG] POST requests are not supported
2020-09-18 18:26:39.906 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-18 18:26:39.907 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-18 18:26:39.907 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:39.908 +07:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-18 18:26:39.908 +07:00 [INF] No CORS policy found for the specified request.
2020-09-18 18:26:39.909 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:39.909 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:39.909 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:39.910 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IdentityServerHost.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-18 18:26:39.910 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"]
2020-09-18 18:26:39.910 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-18 18:26:39.910 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:39.910 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-18 18:26:39.910 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:39.913 +07:00 [INF] Antiforgery token validation failed. The required antiforgery cookie ".AspNetCore.Antiforgery.xMnsna4M5r8" is not present.
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery cookie ".AspNetCore.Antiforgery.xMnsna4M5r8" is not present.
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2020-09-18 18:26:39.945 +07:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter'.
2020-09-18 18:26:39.949 +07:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 400
2020-09-18 18:26:39.950 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 39.0045ms
2020-09-18 18:26:39.950 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:39.950 +07:00 [INF] Request finished in 45.6783ms 400 
2020-09-18 18:26:43.004 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=Y8Z8cMKaaq-Wjb418hLiNcCxaFTWAj1QEoB2A4Zi0F4&code_challenge_method=S256&response_mode=form_post&nonce=637360252029745377.NWM5NjBiNjUtYzZiOC00NzlhLWE1OGItYjgzYzUyYTliMWRkYjFhYWZlNzYtZGE4ZS00NTkyLThlZjQtYTQ4NGI4MDJiZjky&state=CfDJ8H9fZSx1BlxCmY17EnGX2_BDU8ph9W_DXOiTdpK9qR2APzxOO50uQzjE7iGkHcsxig15t9JiTQUw2KIXJj2Br26Oplfl24ZyEc_62h2Z5UelMyqBAzLMZDoYNi_r6NfZffKoun8ptbQmTE8uvbiuJglOZrVsaOND_0H8AA-cIjcXptYmbNRqv8iAHS7kIy3nbrjp5iqZr0qUpSR-Lybutd8WCZbjLqTgaoCyRvTKFuvoOYAW-nnNjSUCJpEhOpSM_FzjhB8nPRmFrXfkSksrLDypOgRIXVYSj01rVSj-set7dhgo8wB2U_Bt34M7x_31N1Oie2BTjTMD23ZPFd-HpBSvDua3PRkkiNFe0LrNuGfj6sIUUPxGuWsvUb1_s9BmHQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-18 18:26:43.004 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-18 18:26:43.004 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-18 18:26:43.004 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:26:43.005 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:43.005 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:43.005 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-18 18:26:43.008 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-18 18:26:43.008 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-18 18:26:43.008 +07:00 [DBG] Start authorize request
2020-09-18 18:26:43.008 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:43.008 +07:00 [DBG] No user present in authorize request
2020-09-18 18:26:43.008 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:26:43.008 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:43.008 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:26:43.009 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:26:43.009 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile admin","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_BDU8ph9W_DXOiTdpK9qR2APzxOO50uQzjE7iGkHcsxig15t9JiTQUw2KIXJj2Br26Oplfl24Z…","UiLocales":null,"Nonce":"637360252029745377.NWM5NjBiNjUtYzZiOC00NzlhLWE1OGItYjgzYzUyYTliMWRkYjFhYWZlNzYtZGE4ZS00NTkyLThlZjQt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile admin","code_challenge":"Y8Z8cMKaaq-Wjb418hLiNcCxaFTWAj1QEoB2A4Zi0F4","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360252029745377.NWM5NjBiNjUtYzZiOC00NzlhLWE1OGItYjgzYzUyYTliMWRkYjFhYWZlNzYtZGE4ZS00NTkyLThlZjQt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_BDU8ph9W_DXOiTdpK9qR2APzxOO50uQzjE7iGkHcsxig15t9JiTQUw2KIXJj2Br26Oplfl24Z…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-18 18:26:43.009 +07:00 [INF] Showing login: User is not authenticated
2020-09-18 18:26:43.010 +07:00 [INF] Request finished in 6.4835ms 302 
2020-09-18 18:26:43.013 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520admin%26code_challenge%3DY8Z8cMKaaq-Wjb418hLiNcCxaFTWAj1QEoB2A4Zi0F4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360252029745377.NWM5NjBiNjUtYzZiOC00NzlhLWE1OGItYjgzYzUyYTliMWRkYjFhYWZlNzYtZGE4ZS00NTkyLThlZjQtYTQ4NGI4MDJiZjky%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_BDU8ph9W_DXOiTdpK9qR2APzxOO50uQzjE7iGkHcsxig15t9JiTQUw2KIXJj2Br26Oplfl24ZyEc_62h2Z5UelMyqBAzLMZDoYNi_r6NfZffKoun8ptbQmTE8uvbiuJglOZrVsaOND_0H8AA-cIjcXptYmbNRqv8iAHS7kIy3nbrjp5iqZr0qUpSR-Lybutd8WCZbjLqTgaoCyRvTKFuvoOYAW-nnNjSUCJpEhOpSM_FzjhB8nPRmFrXfkSksrLDypOgRIXVYSj01rVSj-set7dhgo8wB2U_Bt34M7x_31N1Oie2BTjTMD23ZPFd-HpBSvDua3PRkkiNFe0LrNuGfj6sIUUPxGuWsvUb1_s9BmHQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-18 18:26:43.013 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-18 18:26:43.014 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-18 18:26:43.014 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-18 18:26:43.014 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:43.014 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:43.014 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:43.014 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:43.014 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-18 18:26:43.014 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-18 18:26:43.014 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-18 18:26:43.014 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:43.014 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-18 18:26:43.015 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:43.015 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:26:43.015 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:26:43.015 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:26:43.015 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-18 18:26:43.015 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:43.015 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:43.016 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:26:43.016 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:43.016 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:43.016 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:26:43.016 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:43.016 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:26:43.016 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:26:43.017 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:43.017 +07:00 [DBG] View lookup cache hit for view 'Login' in controller 'Account'.
2020-09-18 18:26:43.017 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-18 18:26:43.017 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 0.2284ms.
2020-09-18 18:26:43.059 +07:00 [DBG] View lookup cache hit for view '_ValidationSummary' in controller 'Account'.
2020-09-18 18:26:43.060 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-18 18:26:43.060 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-18 18:26:43.061 +07:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Account'.
2020-09-18 18:26:43.062 +07:00 [DBG] View lookup cache hit for view '_Nav' in controller 'Account'.
2020-09-18 18:26:43.062 +07:00 [INF] Executed ViewResult - view Login executed in 45.2186ms.
2020-09-18 18:26:43.062 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 47.6939ms
2020-09-18 18:26:43.062 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:43.062 +07:00 [INF] Request finished in 49.0995ms 200 text/html; charset=utf-8
2020-09-18 18:26:44.978 +07:00 [INF] Request starting HTTP/2.0 POST https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520admin%26code_challenge%3DY8Z8cMKaaq-Wjb418hLiNcCxaFTWAj1QEoB2A4Zi0F4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360252029745377.NWM5NjBiNjUtYzZiOC00NzlhLWE1OGItYjgzYzUyYTliMWRkYjFhYWZlNzYtZGE4ZS00NTkyLThlZjQtYTQ4NGI4MDJiZjky%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_BDU8ph9W_DXOiTdpK9qR2APzxOO50uQzjE7iGkHcsxig15t9JiTQUw2KIXJj2Br26Oplfl24ZyEc_62h2Z5UelMyqBAzLMZDoYNi_r6NfZffKoun8ptbQmTE8uvbiuJglOZrVsaOND_0H8AA-cIjcXptYmbNRqv8iAHS7kIy3nbrjp5iqZr0qUpSR-Lybutd8WCZbjLqTgaoCyRvTKFuvoOYAW-nnNjSUCJpEhOpSM_FzjhB8nPRmFrXfkSksrLDypOgRIXVYSj01rVSj-set7dhgo8wB2U_Bt34M7x_31N1Oie2BTjTMD23ZPFd-HpBSvDua3PRkkiNFe0LrNuGfj6sIUUPxGuWsvUb1_s9BmHQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 application/x-www-form-urlencoded 1143
2020-09-18 18:26:44.978 +07:00 [DBG] POST requests are not supported
2020-09-18 18:26:44.978 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-18 18:26:44.978 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-18 18:26:44.978 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:44.978 +07:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-18 18:26:44.979 +07:00 [INF] No CORS policy found for the specified request.
2020-09-18 18:26:44.979 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:44.979 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:44.980 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:44.980 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IdentityServerHost.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-18 18:26:44.980 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"]
2020-09-18 18:26:44.980 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-18 18:26:44.980 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:44.980 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-18 18:26:44.980 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:44.981 +07:00 [DBG] Antiforgery successfully validated a request.
2020-09-18 18:26:44.982 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:26:44.982 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:26:44.982 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-18 18:26:44.983 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' using the name '' in request data ...
2020-09-18 18:26:44.983 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String' using the name 'Username' in request data ...
2020-09-18 18:26:44.983 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String'.
2020-09-18 18:26:44.983 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String' using the name 'Password' in request data ...
2020-09-18 18:26:44.983 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String'.
2020-09-18 18:26:44.983 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean' using the name 'RememberLogin' in request data ...
2020-09-18 18:26:44.983 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean'.
2020-09-18 18:26:44.983 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String' using the name 'ReturnUrl' in request data ...
2020-09-18 18:26:44.983 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String'.
2020-09-18 18:26:44.983 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-18 18:26:44.984 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-18 18:26:44.984 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-18 18:26:44.984 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-18 18:26:44.985 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' ...
2020-09-18 18:26:44.985 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' using the name 'button' in request data ...
2020-09-18 18:26:44.985 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-18 18:26:44.985 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-18 18:26:44.985 +07:00 [DBG] Attempting to validate the bound parameter 'button' of type 'System.String' ...
2020-09-18 18:26:44.985 +07:00 [DBG] Done attempting to validate the bound parameter 'button' of type 'System.String'.
2020-09-18 18:26:44.986 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:44.986 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:26:44.986 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:44.986 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:26:44.986 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:26:44.988 +07:00 [DBG] Augmenting SignInContext
2020-09-18 18:26:44.988 +07:00 [DBG] Adding idp claim with value: local
2020-09-18 18:26:44.988 +07:00 [DBG] Adding amr claim with value: pwd
2020-09-18 18:26:44.988 +07:00 [DBG] Adding auth_time claim with value: 1600428404
2020-09-18 18:26:44.988 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:26:44.989 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-18 18:26:44.990 +07:00 [INF] Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=Y8Z8cMKaaq-Wjb418hLiNcCxaFTWAj1QEoB2A4Zi0F4&code_challenge_method=S256&response_mode=form_post&nonce=637360252029745377.NWM5NjBiNjUtYzZiOC00NzlhLWE1OGItYjgzYzUyYTliMWRkYjFhYWZlNzYtZGE4ZS00NTkyLThlZjQtYTQ4NGI4MDJiZjky&state=CfDJ8H9fZSx1BlxCmY17EnGX2_BDU8ph9W_DXOiTdpK9qR2APzxOO50uQzjE7iGkHcsxig15t9JiTQUw2KIXJj2Br26Oplfl24ZyEc_62h2Z5UelMyqBAzLMZDoYNi_r6NfZffKoun8ptbQmTE8uvbiuJglOZrVsaOND_0H8AA-cIjcXptYmbNRqv8iAHS7kIy3nbrjp5iqZr0qUpSR-Lybutd8WCZbjLqTgaoCyRvTKFuvoOYAW-nnNjSUCJpEhOpSM_FzjhB8nPRmFrXfkSksrLDypOgRIXVYSj01rVSj-set7dhgo8wB2U_Bt34M7x_31N1Oie2BTjTMD23ZPFd-HpBSvDua3PRkkiNFe0LrNuGfj6sIUUPxGuWsvUb1_s9BmHQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0.
2020-09-18 18:26:44.990 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 9.4403ms
2020-09-18 18:26:44.990 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:44.990 +07:00 [INF] Request finished in 12.9288ms 302 
2020-09-18 18:26:44.995 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize/callback?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=Y8Z8cMKaaq-Wjb418hLiNcCxaFTWAj1QEoB2A4Zi0F4&code_challenge_method=S256&response_mode=form_post&nonce=637360252029745377.NWM5NjBiNjUtYzZiOC00NzlhLWE1OGItYjgzYzUyYTliMWRkYjFhYWZlNzYtZGE4ZS00NTkyLThlZjQtYTQ4NGI4MDJiZjky&state=CfDJ8H9fZSx1BlxCmY17EnGX2_BDU8ph9W_DXOiTdpK9qR2APzxOO50uQzjE7iGkHcsxig15t9JiTQUw2KIXJj2Br26Oplfl24ZyEc_62h2Z5UelMyqBAzLMZDoYNi_r6NfZffKoun8ptbQmTE8uvbiuJglOZrVsaOND_0H8AA-cIjcXptYmbNRqv8iAHS7kIy3nbrjp5iqZr0qUpSR-Lybutd8WCZbjLqTgaoCyRvTKFuvoOYAW-nnNjSUCJpEhOpSM_FzjhB8nPRmFrXfkSksrLDypOgRIXVYSj01rVSj-set7dhgo8wB2U_Bt34M7x_31N1Oie2BTjTMD23ZPFd-HpBSvDua3PRkkiNFe0LrNuGfj6sIUUPxGuWsvUb1_s9BmHQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-18 18:26:44.995 +07:00 [DBG] The request path /connect/authorize/callback does not match a supported file type
2020-09-18 18:26:44.995 +07:00 [DBG] No candidates found for the request path '/connect/authorize/callback'
2020-09-18 18:26:44.995 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:26:44.995 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:26:44.995 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:26:44.995 +07:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-18 18:26:44.996 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-18 18:26:44.996 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-18 18:26:44.996 +07:00 [DBG] Start authorize callback request
2020-09-18 18:26:44.996 +07:00 [DBG] User in authorize request: 123456
2020-09-18 18:26:44.996 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:26:44.996 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:44.996 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:26:44.996 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:26:44.997 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile admin","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_BDU8ph9W_DXOiTdpK9qR2APzxOO50uQzjE7iGkHcsxig15t9JiTQUw2KIXJj2Br26Oplfl24Z…","UiLocales":null,"Nonce":"637360252029745377.NWM5NjBiNjUtYzZiOC00NzlhLWE1OGItYjgzYzUyYTliMWRkYjFhYWZlNzYtZGE4ZS00NTkyLThlZjQt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"646A5A275B261E22DF4F2BEA953EC9B3","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile admin","code_challenge":"Y8Z8cMKaaq-Wjb418hLiNcCxaFTWAj1QEoB2A4Zi0F4","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360252029745377.NWM5NjBiNjUtYzZiOC00NzlhLWE1OGItYjgzYzUyYTliMWRkYjFhYWZlNzYtZGE4ZS00NTkyLThlZjQt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_BDU8ph9W_DXOiTdpK9qR2APzxOO50uQzjE7iGkHcsxig15t9JiTQUw2KIXJj2Br26Oplfl24Z…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-18 18:26:44.997 +07:00 [DBG] IsActive called from: AuthorizeEndpoint
2020-09-18 18:26:44.997 +07:00 [INF] Showing login: User is not active
2020-09-18 18:26:44.997 +07:00 [INF] Request finished in 2.4937ms 302 
2020-09-18 18:26:45.000 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520admin%26code_challenge%3DY8Z8cMKaaq-Wjb418hLiNcCxaFTWAj1QEoB2A4Zi0F4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360252029745377.NWM5NjBiNjUtYzZiOC00NzlhLWE1OGItYjgzYzUyYTliMWRkYjFhYWZlNzYtZGE4ZS00NTkyLThlZjQtYTQ4NGI4MDJiZjky%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_BDU8ph9W_DXOiTdpK9qR2APzxOO50uQzjE7iGkHcsxig15t9JiTQUw2KIXJj2Br26Oplfl24ZyEc_62h2Z5UelMyqBAzLMZDoYNi_r6NfZffKoun8ptbQmTE8uvbiuJglOZrVsaOND_0H8AA-cIjcXptYmbNRqv8iAHS7kIy3nbrjp5iqZr0qUpSR-Lybutd8WCZbjLqTgaoCyRvTKFuvoOYAW-nnNjSUCJpEhOpSM_FzjhB8nPRmFrXfkSksrLDypOgRIXVYSj01rVSj-set7dhgo8wB2U_Bt34M7x_31N1Oie2BTjTMD23ZPFd-HpBSvDua3PRkkiNFe0LrNuGfj6sIUUPxGuWsvUb1_s9BmHQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-18 18:26:45.001 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-18 18:26:45.001 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-18 18:26:45.001 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-18 18:26:45.001 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:45.002 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:26:45.002 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:26:45.002 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:45.002 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-18 18:26:45.002 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-18 18:26:45.002 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-18 18:26:45.003 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:45.003 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-18 18:26:45.003 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:26:45.003 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:26:45.004 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:26:45.004 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:26:45.004 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-18 18:26:45.004 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:45.004 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:45.004 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:26:45.004 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:26:45.004 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:26:45.004 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:45.004 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:26:45.004 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:26:45.005 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:26:45.005 +07:00 [DBG] View lookup cache hit for view 'Login' in controller 'Account'.
2020-09-18 18:26:45.005 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-18 18:26:45.005 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 0.202ms.
2020-09-18 18:26:45.005 +07:00 [DBG] View lookup cache hit for view '_ValidationSummary' in controller 'Account'.
2020-09-18 18:26:45.006 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-18 18:26:45.006 +07:00 [DBG] An antiforgery cookie token was reused.
2020-09-18 18:26:45.007 +07:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Account'.
2020-09-18 18:26:45.008 +07:00 [DBG] View lookup cache hit for view '_Nav' in controller 'Account'.
2020-09-18 18:26:45.008 +07:00 [DBG] Found the endpoints ["Route: {controller=Home}/{action=Index}/{id?}"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-18 18:26:45.008 +07:00 [DBG] Successfully processed template {controller=Home}/{action=Index}/{id?} for Route: {controller=Home}/{action=Index}/{id?} resulting in /Account/Logout and 
2020-09-18 18:26:45.008 +07:00 [DBG] Link generation succeeded for endpoints ["Route: {controller=Home}/{action=Index}/{id?}"] with result /Account/Logout
2020-09-18 18:26:45.009 +07:00 [INF] Executed ViewResult - view Login executed in 3.8227ms.
2020-09-18 18:26:45.009 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 6.0235ms
2020-09-18 18:26:45.009 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:26:45.009 +07:00 [INF] Request finished in 8.432ms 200 text/html; charset=utf-8
2020-09-18 18:27:06.033 +07:00 [INF] Starting host...
2020-09-18 18:27:06.749 +07:00 [DBG] Hosting starting
2020-09-18 18:27:06.784 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-18 18:27:06.794 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-18 18:27:06.805 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-18 18:27:06.806 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-18 18:27:06.806 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-18 18:27:06.810 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-18 18:27:06.814 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-18 18:27:06.814 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-18 18:27:06.814 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-18 18:27:06.820 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-18 18:27:06.828 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-18 18:27:06.830 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-18 18:27:06.831 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-18 18:27:06.833 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-18 18:27:06.835 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-18 18:27:06.838 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-18 18:27:06.838 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-18 18:27:06.867 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-18 18:27:06.873 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-18 18:27:06.875 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-18 18:27:06.875 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-18 18:27:06.875 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-18 18:27:06.875 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-18 18:27:06.875 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-18 18:27:06.875 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-18 18:27:06.999 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-18 18:27:07.000 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-18 18:27:07.000 +07:00 [INF] Hosting environment: Development
2020-09-18 18:27:07.000 +07:00 [INF] Content root path: D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4
2020-09-18 18:27:07.000 +07:00 [DBG] Hosting started
2020-09-18 18:27:07.036 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-18 18:27:07.038 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-18 18:27:07.039 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-18 18:27:07.061 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-18 18:27:07.062 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:27:07.080 +07:00 [DBG] Login Url: /Account/Login
2020-09-18 18:27:07.080 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-18 18:27:07.080 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-18 18:27:07.080 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-18 18:27:07.080 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-18 18:27:07.080 +07:00 [DBG] Error Url: /home/error
2020-09-18 18:27:07.080 +07:00 [DBG] Error Id Parameter: errorId
2020-09-18 18:27:07.083 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:07.087 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:07.090 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-18 18:27:07.092 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-18 18:27:07.092 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-18 18:27:07.093 +07:00 [DBG] Start discovery request
2020-09-18 18:27:07.138 +07:00 [INF] Request finished in 104.6958ms 200 application/json; charset=UTF-8
2020-09-18 18:27:07.274 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-18 18:27:07.274 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-18 18:27:07.276 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-18 18:27:07.276 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:27:07.276 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:07.277 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:07.277 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-18 18:27:07.280 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-18 18:27:07.280 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-18 18:27:07.281 +07:00 [DBG] Start key discovery request
2020-09-18 18:27:07.300 +07:00 [INF] Request finished in 26.0503ms 200 application/json; charset=UTF-8
2020-09-18 18:27:07.638 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=kpLB47FBEoHHV8PI5ThGMYpjdf9JOPbOD59aIpS5U70&code_challenge_method=S256&response_mode=form_post&nonce=637360252273177367.ZGM2YTNkNDgtYjc0YS00ODMwLWIzNDUtNmQzNmE0YjA2YWRhY2Q0YTJhMGItM2JlYi00YWY2LTk4NjctODliYmI1OTNlYWEw&state=CfDJ8H9fZSx1BlxCmY17EnGX2_Aabbz34L5ujAVAqZCHoUfIChUgwsOrF5bsKwlnU231R0C57um5QhrNZGN9CxzyhJEAP7RhogHGP5zRQ-nBA2Iz4c4fD-HPPyxdMdDlcEcphx_B8_7rlam7qk5Ngq-4U2vveil1sTawsFCNT-NB7S13auflviYr-Fg1WXGxkU77qdxjmYwqNxj8cYJItbPs4RdkJB-2JYQ2N8Go6RFJ027uunQcfCAcXngfZaHzkSZNT_00AjtlXXq6iI5-WzuD4OumoJxX8pvQyAFNw79zymdiEIWA-4TZvsXqG4gURV8lDJNOBHQIFGRIOowP0z5Ymh4Y8SppDBX1iGAxoqc3o_tcsWy9P4LrulgKnibm20Rrqg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-18 18:27:07.639 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-18 18:27:07.639 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-18 18:27:07.639 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:27:07.645 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:27:07.647 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:27:07.648 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-18 18:27:07.661 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-18 18:27:07.661 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-18 18:27:07.662 +07:00 [DBG] Start authorize request
2020-09-18 18:27:07.666 +07:00 [DBG] User in authorize request: 123456
2020-09-18 18:27:07.667 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:27:07.674 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:07.681 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:27:07.696 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:27:07.704 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile admin","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_Aabbz34L5ujAVAqZCHoUfIChUgwsOrF5bsKwlnU231R0C57um5QhrNZGN9CxzyhJEAP7RhogH…","UiLocales":null,"Nonce":"637360252273177367.ZGM2YTNkNDgtYjc0YS00ODMwLWIzNDUtNmQzNmE0YjA2YWRhY2Q0YTJhMGItM2JlYi00YWY2LTk4Njct…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"646A5A275B261E22DF4F2BEA953EC9B3","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile admin","code_challenge":"kpLB47FBEoHHV8PI5ThGMYpjdf9JOPbOD59aIpS5U70","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360252273177367.ZGM2YTNkNDgtYjc0YS00ODMwLWIzNDUtNmQzNmE0YjA2YWRhY2Q0YTJhMGItM2JlYi00YWY2LTk4Njct…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_Aabbz34L5ujAVAqZCHoUfIChUgwsOrF5bsKwlnU231R0C57um5QhrNZGN9CxzyhJEAP7RhogH…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-18 18:27:07.719 +07:00 [DBG] IsActive called from: AuthorizeEndpoint
2020-09-18 18:27:07.722 +07:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-18 18:27:07.724 +07:00 [DBG] Creating Authorization Code Flow response.
2020-09-18 18:27:07.779 +07:00 [DBG] Authorize endpoint response
{"SubjectId":"123456","ClientId":"mvc","RedirectUri":"https://localhost:44388/signin-oidc","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_Aabbz34L5ujAVAqZCHoUfIChUgwsOrF5bsKwlnU231R0C57um5QhrNZGN9CxzyhJEAP7RhogH…","Scope":"openid profile admin","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-18 18:27:07.783 +07:00 [DBG] Augmenting SignInContext
2020-09-18 18:27:07.787 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-18 18:27:07.791 +07:00 [INF] Request finished in 153.0599ms 200 text/html; charset=UTF-8
2020-09-18 18:27:08.182 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44313/connect/token application/x-www-form-urlencoded 251
2020-09-18 18:27:08.182 +07:00 [DBG] POST requests are not supported
2020-09-18 18:27:08.182 +07:00 [DBG] No candidates found for the request path '/connect/token'
2020-09-18 18:27:08.183 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:27:08.183 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:08.183 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:08.183 +07:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-18 18:27:08.185 +07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-18 18:27:08.185 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-18 18:27:08.187 +07:00 [DBG] Start token request.
2020-09-18 18:27:08.189 +07:00 [DBG] Start client validation
2020-09-18 18:27:08.192 +07:00 [DBG] Start parsing Basic Authentication secret
2020-09-18 18:27:08.193 +07:00 [DBG] Start parsing for secret in post body
2020-09-18 18:27:08.198 +07:00 [DBG] Parser found secret: PostBodySecretParser
2020-09-18 18:27:08.198 +07:00 [DBG] Secret id found: mvc
2020-09-18 18:27:08.199 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:08.204 +07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2020-09-18 18:27:08.204 +07:00 [DBG] Client validation success
2020-09-18 18:27:08.205 +07:00 [DBG] Start token request validation
2020-09-18 18:27:08.208 +07:00 [DBG] Start validation of authorization code token request
2020-09-18 18:27:08.228 +07:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-09-18 18:27:08.229 +07:00 [DBG] IsActive called from: AuthorizationCodeValidation
2020-09-18 18:27:08.229 +07:00 [DBG] Validation of authorization code token request success
2020-09-18 18:27:08.231 +07:00 [INF] Token request validation success, {"ClientId":"mvc","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"0C645D6BBB66BD31FA9E5721B9F9248B253E7FB72B1851C97A16EAA220474D32","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"mvc","client_secret":"***REDACTED***","code":"0C645D6BBB66BD31FA9E5721B9F9248B253E7FB72B1851C97A16EAA220474D32","grant_type":"authorization_code","redirect_uri":"https://localhost:44388/signin-oidc","code_verifier":"9v2skNbCvFd3E_4zTyMRGZXNxtf0wDJ4HlSgAZjX_kI"},"$type":"TokenRequestValidationLog"}
2020-09-18 18:27:08.234 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:08.243 +07:00 [DBG] Getting claims for access token for client: mvc
2020-09-18 18:27:08.244 +07:00 [DBG] Getting claims for access token for subject: 123456
2020-09-18 18:27:08.246 +07:00 [DBG] Get profile called for subject 123456 from client mvc with claim types [] via ClaimsProviderAccessToken
2020-09-18 18:27:08.246 +07:00 [DBG] Issued claims: []
2020-09-18 18:27:08.289 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:08.294 +07:00 [DBG] Getting claims for identity token for subject: 123456 and client: mvc
2020-09-18 18:27:08.294 +07:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-18 18:27:08.296 +07:00 [DBG] Token request success.
2020-09-18 18:27:08.301 +07:00 [INF] Request finished in 119.1718ms 200 application/json; charset=UTF-8
2020-09-18 18:27:08.481 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/connect/userinfo  
2020-09-18 18:27:08.481 +07:00 [DBG] The request path /connect/userinfo does not match a supported file type
2020-09-18 18:27:08.481 +07:00 [DBG] No candidates found for the request path '/connect/userinfo'
2020-09-18 18:27:08.481 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:27:08.481 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:08.481 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:08.481 +07:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2020-09-18 18:27:08.482 +07:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2020-09-18 18:27:08.482 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-09-18 18:27:08.484 +07:00 [DBG] Start userinfo request
2020-09-18 18:27:08.485 +07:00 [DBG] Bearer token found in header
2020-09-18 18:27:08.579 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:08.580 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:08.581 +07:00 [DBG] IsActive called from: AccessTokenValidation
2020-09-18 18:27:08.581 +07:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-09-18 18:27:08.581 +07:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"6242374134CCCB5ABAB8664BA341DAA4","Claims":{"nbf":1600428428,"exp":1600432028,"iss":"https://localhost:44313","client_id":"mvc","sub":"123456","auth_time":1600428404,"idp":"local","jti":"6242374134CCCB5ABAB8664BA341DAA4","sid":"646A5A275B261E22DF4F2BEA953EC9B3","iat":1600428428},"$type":"TokenValidationLog"}
2020-09-18 18:27:08.582 +07:00 [DBG] IsActive called from: UserInfoRequestValidation
2020-09-18 18:27:08.584 +07:00 [DBG] Creating userinfo response
2020-09-18 18:27:08.585 +07:00 [DBG] Scopes in access token: openid profile admin
2020-09-18 18:27:08.587 +07:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2020-09-18 18:27:08.588 +07:00 [DBG] Get profile called for subject 123456 from client mvc with claim types ["sub","name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website"] via UserInfoEndpoint
2020-09-18 18:27:08.588 +07:00 [DBG] Issued claims: ["sub"]
2020-09-18 18:27:08.588 +07:00 [INF] Profile service returned the following claim types: sub
2020-09-18 18:27:08.589 +07:00 [DBG] End userinfo request
2020-09-18 18:27:08.590 +07:00 [INF] Request finished in 109.6603ms 200 application/json; charset=UTF-8
2020-09-18 18:27:17.002 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=rnzk__HoAjW88Wi-qPbKo2nBazqmAX2YZpAUrLehKrQ&code_challenge_method=S256&response_mode=form_post&nonce=637360252369966088.MGUwMTlkYWYtNjFmYy00YTgzLTgyYzQtMGU4NDRhYjEzMTQxMzNiN2M5MDEtZDFkMi00OWI0LTlkZjUtZWEyNjljNjAzMmZk&state=CfDJ8H9fZSx1BlxCmY17EnGX2_DRrvRLK52z1xiBReC54Wi_Go_oR2cXN-zla8342qg5uO9lPLP7gvo_Dpse9qpF72yj6wFl7L2DVwrE0Brd45xvJyrTy3lWFeW6cxVxvMg90XVw-F2L78b6h86i7CS-QHOKYsMY_mOIYLh-7Z6aRj67W27IeH0ZJsCs_DEQ7H6WSVl6A7HN-iTLLGvYQS6W21L0jrgeJ202Ol4LUYzEmMPuVShpNyArtgUpu8m-AtCAAH9lhxhNGyzmqTw_MPkjmg3jA_FWi-l47Hlgc8gv1cavdK3wuM5-jPDoStbHpqZmG7JdBDpYgV8YJ3G35Bbr-aF31CMi5XIDEknFuJ6IEWhp0-M-uoz4Cq4o1fz5uICztw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-18 18:27:17.003 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-18 18:27:17.003 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-18 18:27:17.004 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:27:17.004 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:17.005 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:17.006 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-18 18:27:17.007 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-18 18:27:17.007 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-18 18:27:17.008 +07:00 [DBG] Start authorize request
2020-09-18 18:27:17.008 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:17.009 +07:00 [DBG] No user present in authorize request
2020-09-18 18:27:17.009 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:27:17.009 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:17.010 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:27:17.010 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:27:17.011 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile admin","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DRrvRLK52z1xiBReC54Wi_Go_oR2cXN-zla8342qg5uO9lPLP7gvo_Dpse9qpF72yj6wFl7L2…","UiLocales":null,"Nonce":"637360252369966088.MGUwMTlkYWYtNjFmYy00YTgzLTgyYzQtMGU4NDRhYjEzMTQxMzNiN2M5MDEtZDFkMi00OWI0LTlkZjUt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile admin","code_challenge":"rnzk__HoAjW88Wi-qPbKo2nBazqmAX2YZpAUrLehKrQ","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360252369966088.MGUwMTlkYWYtNjFmYy00YTgzLTgyYzQtMGU4NDRhYjEzMTQxMzNiN2M5MDEtZDFkMi00OWI0LTlkZjUt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_DRrvRLK52z1xiBReC54Wi_Go_oR2cXN-zla8342qg5uO9lPLP7gvo_Dpse9qpF72yj6wFl7L2…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-18 18:27:17.011 +07:00 [INF] Showing login: User is not authenticated
2020-09-18 18:27:17.014 +07:00 [INF] Request finished in 12.6744ms 302 
2020-09-18 18:27:17.019 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520admin%26code_challenge%3Drnzk__HoAjW88Wi-qPbKo2nBazqmAX2YZpAUrLehKrQ%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360252369966088.MGUwMTlkYWYtNjFmYy00YTgzLTgyYzQtMGU4NDRhYjEzMTQxMzNiN2M5MDEtZDFkMi00OWI0LTlkZjUtZWEyNjljNjAzMmZk%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_DRrvRLK52z1xiBReC54Wi_Go_oR2cXN-zla8342qg5uO9lPLP7gvo_Dpse9qpF72yj6wFl7L2DVwrE0Brd45xvJyrTy3lWFeW6cxVxvMg90XVw-F2L78b6h86i7CS-QHOKYsMY_mOIYLh-7Z6aRj67W27IeH0ZJsCs_DEQ7H6WSVl6A7HN-iTLLGvYQS6W21L0jrgeJ202Ol4LUYzEmMPuVShpNyArtgUpu8m-AtCAAH9lhxhNGyzmqTw_MPkjmg3jA_FWi-l47Hlgc8gv1cavdK3wuM5-jPDoStbHpqZmG7JdBDpYgV8YJ3G35Bbr-aF31CMi5XIDEknFuJ6IEWhp0-M-uoz4Cq4o1fz5uICztw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-18 18:27:17.019 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-18 18:27:17.023 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-18 18:27:17.025 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-18 18:27:17.025 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:27:17.026 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:17.026 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:17.027 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:27:17.031 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-18 18:27:17.067 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-18 18:27:17.069 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-18 18:27:17.069 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-18 18:27:17.069 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:27:17.070 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-18 18:27:17.070 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:27:17.071 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:27:17.074 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:27:17.077 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:27:17.080 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-18 18:27:17.080 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:27:17.080 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:27:17.080 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-18 18:27:17.082 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-18 18:27:17.090 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:17.090 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:27:17.090 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:17.090 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:27:17.091 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:27:17.092 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-18 18:27:17.099 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-18 18:27:17.105 +07:00 [DBG] View lookup cache miss for view 'Login' in controller 'Account'.
2020-09-18 18:27:17.110 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-18 18:27:17.113 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 6.3275ms.
2020-09-18 18:27:17.143 +07:00 [DBG] View lookup cache miss for view '_ValidationSummary' in controller 'Account'.
2020-09-18 18:27:17.156 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-18 18:27:17.158 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-18 18:27:17.186 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2020-09-18 18:27:17.196 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Account'.
2020-09-18 18:27:17.206 +07:00 [INF] Executed ViewResult - view Login executed in 101.8429ms.
2020-09-18 18:27:17.207 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 136.5812ms
2020-09-18 18:27:17.207 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:27:17.208 +07:00 [INF] Request finished in 189.8466ms 200 text/html; charset=utf-8
2020-09-18 18:27:19.385 +07:00 [INF] Request starting HTTP/2.0 POST https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520admin%26code_challenge%3Drnzk__HoAjW88Wi-qPbKo2nBazqmAX2YZpAUrLehKrQ%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360252369966088.MGUwMTlkYWYtNjFmYy00YTgzLTgyYzQtMGU4NDRhYjEzMTQxMzNiN2M5MDEtZDFkMi00OWI0LTlkZjUtZWEyNjljNjAzMmZk%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_DRrvRLK52z1xiBReC54Wi_Go_oR2cXN-zla8342qg5uO9lPLP7gvo_Dpse9qpF72yj6wFl7L2DVwrE0Brd45xvJyrTy3lWFeW6cxVxvMg90XVw-F2L78b6h86i7CS-QHOKYsMY_mOIYLh-7Z6aRj67W27IeH0ZJsCs_DEQ7H6WSVl6A7HN-iTLLGvYQS6W21L0jrgeJ202Ol4LUYzEmMPuVShpNyArtgUpu8m-AtCAAH9lhxhNGyzmqTw_MPkjmg3jA_FWi-l47Hlgc8gv1cavdK3wuM5-jPDoStbHpqZmG7JdBDpYgV8YJ3G35Bbr-aF31CMi5XIDEknFuJ6IEWhp0-M-uoz4Cq4o1fz5uICztw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 application/x-www-form-urlencoded 1143
2020-09-18 18:27:19.386 +07:00 [DBG] POST requests are not supported
2020-09-18 18:27:19.389 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-18 18:27:19.389 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-18 18:27:19.389 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:27:19.392 +07:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-18 18:27:19.392 +07:00 [INF] No CORS policy found for the specified request.
2020-09-18 18:27:19.392 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:19.393 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:19.393 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:27:19.399 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IdentityServerHost.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-18 18:27:19.399 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"]
2020-09-18 18:27:19.399 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-18 18:27:19.399 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:27:19.399 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-18 18:27:19.399 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-18 18:27:19.450 +07:00 [DBG] Antiforgery successfully validated a request.
2020-09-18 18:27:19.450 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:27:19.451 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-18 18:27:19.454 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-18 18:27:19.455 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' using the name '' in request data ...
2020-09-18 18:27:19.457 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String' using the name 'Username' in request data ...
2020-09-18 18:27:19.457 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String'.
2020-09-18 18:27:19.457 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String' using the name 'Password' in request data ...
2020-09-18 18:27:19.457 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String'.
2020-09-18 18:27:19.457 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean' using the name 'RememberLogin' in request data ...
2020-09-18 18:27:19.457 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean'.
2020-09-18 18:27:19.458 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String' using the name 'ReturnUrl' in request data ...
2020-09-18 18:27:19.458 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String'.
2020-09-18 18:27:19.458 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-18 18:27:19.458 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-18 18:27:19.458 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-18 18:27:19.462 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-18 18:27:19.462 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' ...
2020-09-18 18:27:19.462 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' using the name 'button' in request data ...
2020-09-18 18:27:19.462 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-18 18:27:19.462 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-18 18:27:19.462 +07:00 [DBG] Attempting to validate the bound parameter 'button' of type 'System.String' ...
2020-09-18 18:27:19.462 +07:00 [DBG] Done attempting to validate the bound parameter 'button' of type 'System.String'.
2020-09-18 18:27:19.464 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:19.465 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:27:19.465 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:19.465 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:27:19.465 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:27:19.473 +07:00 [DBG] Augmenting SignInContext
2020-09-18 18:27:19.473 +07:00 [DBG] Adding idp claim with value: local
2020-09-18 18:27:19.473 +07:00 [DBG] Adding amr claim with value: pwd
2020-09-18 18:27:19.473 +07:00 [DBG] Adding auth_time claim with value: 1600428439
2020-09-18 18:27:19.473 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:19.475 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-18 18:27:19.479 +07:00 [INF] Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=rnzk__HoAjW88Wi-qPbKo2nBazqmAX2YZpAUrLehKrQ&code_challenge_method=S256&response_mode=form_post&nonce=637360252369966088.MGUwMTlkYWYtNjFmYy00YTgzLTgyYzQtMGU4NDRhYjEzMTQxMzNiN2M5MDEtZDFkMi00OWI0LTlkZjUtZWEyNjljNjAzMmZk&state=CfDJ8H9fZSx1BlxCmY17EnGX2_DRrvRLK52z1xiBReC54Wi_Go_oR2cXN-zla8342qg5uO9lPLP7gvo_Dpse9qpF72yj6wFl7L2DVwrE0Brd45xvJyrTy3lWFeW6cxVxvMg90XVw-F2L78b6h86i7CS-QHOKYsMY_mOIYLh-7Z6aRj67W27IeH0ZJsCs_DEQ7H6WSVl6A7HN-iTLLGvYQS6W21L0jrgeJ202Ol4LUYzEmMPuVShpNyArtgUpu8m-AtCAAH9lhxhNGyzmqTw_MPkjmg3jA_FWi-l47Hlgc8gv1cavdK3wuM5-jPDoStbHpqZmG7JdBDpYgV8YJ3G35Bbr-aF31CMi5XIDEknFuJ6IEWhp0-M-uoz4Cq4o1fz5uICztw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0.
2020-09-18 18:27:19.480 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 80.7432ms
2020-09-18 18:27:19.480 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-18 18:27:19.485 +07:00 [INF] Request finished in 99.9796ms 302 
2020-09-18 18:27:19.490 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize/callback?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=rnzk__HoAjW88Wi-qPbKo2nBazqmAX2YZpAUrLehKrQ&code_challenge_method=S256&response_mode=form_post&nonce=637360252369966088.MGUwMTlkYWYtNjFmYy00YTgzLTgyYzQtMGU4NDRhYjEzMTQxMzNiN2M5MDEtZDFkMi00OWI0LTlkZjUtZWEyNjljNjAzMmZk&state=CfDJ8H9fZSx1BlxCmY17EnGX2_DRrvRLK52z1xiBReC54Wi_Go_oR2cXN-zla8342qg5uO9lPLP7gvo_Dpse9qpF72yj6wFl7L2DVwrE0Brd45xvJyrTy3lWFeW6cxVxvMg90XVw-F2L78b6h86i7CS-QHOKYsMY_mOIYLh-7Z6aRj67W27IeH0ZJsCs_DEQ7H6WSVl6A7HN-iTLLGvYQS6W21L0jrgeJ202Ol4LUYzEmMPuVShpNyArtgUpu8m-AtCAAH9lhxhNGyzmqTw_MPkjmg3jA_FWi-l47Hlgc8gv1cavdK3wuM5-jPDoStbHpqZmG7JdBDpYgV8YJ3G35Bbr-aF31CMi5XIDEknFuJ6IEWhp0-M-uoz4Cq4o1fz5uICztw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-18 18:27:19.490 +07:00 [DBG] The request path /connect/authorize/callback does not match a supported file type
2020-09-18 18:27:19.490 +07:00 [DBG] No candidates found for the request path '/connect/authorize/callback'
2020-09-18 18:27:19.490 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:27:19.490 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:27:19.490 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-18 18:27:19.490 +07:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-18 18:27:19.491 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-18 18:27:19.491 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-18 18:27:19.492 +07:00 [DBG] Start authorize callback request
2020-09-18 18:27:19.495 +07:00 [DBG] User in authorize request: 123456
2020-09-18 18:27:19.495 +07:00 [DBG] Start authorize request protocol validation
2020-09-18 18:27:19.495 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:19.495 +07:00 [DBG] Checking for PKCE parameters
2020-09-18 18:27:19.495 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-18 18:27:19.495 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile admin","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DRrvRLK52z1xiBReC54Wi_Go_oR2cXN-zla8342qg5uO9lPLP7gvo_Dpse9qpF72yj6wFl7L2…","UiLocales":null,"Nonce":"637360252369966088.MGUwMTlkYWYtNjFmYy00YTgzLTgyYzQtMGU4NDRhYjEzMTQxMzNiN2M5MDEtZDFkMi00OWI0LTlkZjUt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"C542A126B4B8C739DF1B91E9A2D9F506","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile admin","code_challenge":"rnzk__HoAjW88Wi-qPbKo2nBazqmAX2YZpAUrLehKrQ","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360252369966088.MGUwMTlkYWYtNjFmYy00YTgzLTgyYzQtMGU4NDRhYjEzMTQxMzNiN2M5MDEtZDFkMi00OWI0LTlkZjUt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_DRrvRLK52z1xiBReC54Wi_Go_oR2cXN-zla8342qg5uO9lPLP7gvo_Dpse9qpF72yj6wFl7L2…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-18 18:27:19.495 +07:00 [DBG] IsActive called from: AuthorizeEndpoint
2020-09-18 18:27:19.495 +07:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-18 18:27:19.495 +07:00 [DBG] Creating Authorization Code Flow response.
2020-09-18 18:27:19.496 +07:00 [DBG] Authorize endpoint response
{"SubjectId":"123456","ClientId":"mvc","RedirectUri":"https://localhost:44388/signin-oidc","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DRrvRLK52z1xiBReC54Wi_Go_oR2cXN-zla8342qg5uO9lPLP7gvo_Dpse9qpF72yj6wFl7L2…","Scope":"openid profile admin","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-18 18:27:19.496 +07:00 [DBG] Augmenting SignInContext
2020-09-18 18:27:19.497 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-18 18:27:19.497 +07:00 [INF] Request finished in 7.5239ms 200 text/html; charset=UTF-8
2020-09-18 18:27:19.636 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44313/connect/token application/x-www-form-urlencoded 251
2020-09-18 18:27:19.636 +07:00 [DBG] POST requests are not supported
2020-09-18 18:27:19.636 +07:00 [DBG] No candidates found for the request path '/connect/token'
2020-09-18 18:27:19.636 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:27:19.636 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:19.636 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:19.636 +07:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-18 18:27:19.636 +07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-18 18:27:19.636 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-18 18:27:19.636 +07:00 [DBG] Start token request.
2020-09-18 18:27:19.636 +07:00 [DBG] Start client validation
2020-09-18 18:27:19.636 +07:00 [DBG] Start parsing Basic Authentication secret
2020-09-18 18:27:19.636 +07:00 [DBG] Start parsing for secret in post body
2020-09-18 18:27:19.637 +07:00 [DBG] Parser found secret: PostBodySecretParser
2020-09-18 18:27:19.637 +07:00 [DBG] Secret id found: mvc
2020-09-18 18:27:19.637 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:19.637 +07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2020-09-18 18:27:19.637 +07:00 [DBG] Client validation success
2020-09-18 18:27:19.637 +07:00 [DBG] Start token request validation
2020-09-18 18:27:19.637 +07:00 [DBG] Start validation of authorization code token request
2020-09-18 18:27:19.638 +07:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-09-18 18:27:19.638 +07:00 [DBG] IsActive called from: AuthorizationCodeValidation
2020-09-18 18:27:19.638 +07:00 [DBG] Validation of authorization code token request success
2020-09-18 18:27:19.639 +07:00 [INF] Token request validation success, {"ClientId":"mvc","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"2F781A9EEE6807D59C6FB11E01F70E6B171E182E3442358BCBFE0016C38F47EC","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"mvc","client_secret":"***REDACTED***","code":"2F781A9EEE6807D59C6FB11E01F70E6B171E182E3442358BCBFE0016C38F47EC","grant_type":"authorization_code","redirect_uri":"https://localhost:44388/signin-oidc","code_verifier":"z9PCNqgmZXgzbYhjPaIHEnQ6PCMfrq-0mgq8hDkBADk"},"$type":"TokenRequestValidationLog"}
2020-09-18 18:27:19.639 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:19.639 +07:00 [DBG] Getting claims for access token for client: mvc
2020-09-18 18:27:19.639 +07:00 [DBG] Getting claims for access token for subject: 123456
2020-09-18 18:27:19.639 +07:00 [DBG] Get profile called for subject 123456 from client mvc with claim types [] via ClaimsProviderAccessToken
2020-09-18 18:27:19.639 +07:00 [DBG] Issued claims: []
2020-09-18 18:27:19.641 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:19.641 +07:00 [DBG] Getting claims for identity token for subject: 123456 and client: mvc
2020-09-18 18:27:19.641 +07:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-18 18:27:19.642 +07:00 [DBG] Token request success.
2020-09-18 18:27:19.642 +07:00 [INF] Request finished in 6.88ms 200 application/json; charset=UTF-8
2020-09-18 18:27:19.646 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/connect/userinfo  
2020-09-18 18:27:19.646 +07:00 [DBG] The request path /connect/userinfo does not match a supported file type
2020-09-18 18:27:19.646 +07:00 [DBG] No candidates found for the request path '/connect/userinfo'
2020-09-18 18:27:19.646 +07:00 [DBG] Request did not match any endpoints
2020-09-18 18:27:19.646 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:19.646 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-18 18:27:19.646 +07:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2020-09-18 18:27:19.647 +07:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2020-09-18 18:27:19.647 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-09-18 18:27:19.647 +07:00 [DBG] Start userinfo request
2020-09-18 18:27:19.647 +07:00 [DBG] Bearer token found in header
2020-09-18 18:27:19.647 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:19.648 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-18 18:27:19.648 +07:00 [DBG] IsActive called from: AccessTokenValidation
2020-09-18 18:27:19.648 +07:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-09-18 18:27:19.648 +07:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"8D2436FB191C0324D3ECE7FCCBAFC6A7","Claims":{"nbf":1600428439,"exp":1600432039,"iss":"https://localhost:44313","client_id":"mvc","sub":"123456","auth_time":1600428439,"idp":"local","jti":"8D2436FB191C0324D3ECE7FCCBAFC6A7","sid":"C542A126B4B8C739DF1B91E9A2D9F506","iat":1600428439},"$type":"TokenValidationLog"}
2020-09-18 18:27:19.648 +07:00 [DBG] IsActive called from: UserInfoRequestValidation
2020-09-18 18:27:19.648 +07:00 [DBG] Creating userinfo response
2020-09-18 18:27:19.648 +07:00 [DBG] Scopes in access token: openid profile admin
2020-09-18 18:27:19.648 +07:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2020-09-18 18:27:19.648 +07:00 [DBG] Get profile called for subject 123456 from client mvc with claim types ["sub","name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website"] via UserInfoEndpoint
2020-09-18 18:27:19.648 +07:00 [DBG] Issued claims: ["sub"]
2020-09-18 18:27:19.648 +07:00 [INF] Profile service returned the following claim types: sub
2020-09-18 18:27:19.648 +07:00 [DBG] End userinfo request
2020-09-18 18:27:19.649 +07:00 [INF] Request finished in 2.7823ms 200 application/json; charset=UTF-8
2020-09-18 18:29:07.083 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:BackChannelLogoutClient'
2020-09-18 18:29:07.665 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:JwtRequestUriClient'
2020-09-18 18:29:17.086 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:29:17.090 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0497ms - processed: 0 items - remaining: 2 items
2020-09-18 18:29:27.102 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:29:27.102 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2020-09-18 18:29:37.102 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:29:37.103 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 2 items
2020-09-18 18:29:47.103 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:29:47.104 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 2 items
2020-09-18 18:29:57.104 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:29:57.105 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 2 items
2020-09-18 18:30:07.105 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:30:07.106 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 2 items
2020-09-18 18:30:17.107 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:30:17.107 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2020-09-18 18:30:27.117 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:30:27.118 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
2020-09-18 18:30:37.118 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:30:37.118 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 2 items
2020-09-18 18:30:47.119 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:30:47.119 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 2 items
2020-09-18 18:30:57.120 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:30:57.120 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 2 items
2020-09-18 18:31:07.120 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:31:07.121 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 2 items
2020-09-18 18:31:17.122 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:31:17.122 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
2020-09-18 18:31:27.123 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:31:27.123 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
2020-09-18 18:31:37.124 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:31:37.124 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 2 items
2020-09-18 18:31:47.124 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:31:47.124 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
2020-09-18 18:31:57.125 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:31:57.125 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
2020-09-18 18:32:07.127 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:32:07.127 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
2020-09-18 18:32:17.128 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:32:17.128 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
2020-09-18 18:32:27.129 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:32:27.129 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 2 items
2020-09-18 18:32:37.129 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:32:37.129 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 2 items
2020-09-18 18:32:47.130 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:32:47.130 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
2020-09-18 18:32:57.131 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:32:57.131 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
2020-09-18 18:33:07.131 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:33:07.131 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 2 items
2020-09-18 18:33:17.136 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:33:17.136 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 2 items
2020-09-18 18:33:27.136 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:33:27.137 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 2 items
2020-09-18 18:33:37.138 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:33:37.138 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 2 items
2020-09-18 18:33:47.138 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:33:47.138 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
2020-09-18 18:33:57.139 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:33:57.139 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
2020-09-18 18:34:07.141 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:34:07.141 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
2020-09-18 18:34:17.145 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:34:17.146 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 2 items
2020-09-18 18:34:27.146 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:34:27.147 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:34:37.148 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:34:37.149 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-18 18:34:47.150 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:34:47.150 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2020-09-18 18:34:57.150 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:34:57.151 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2020-09-18 18:35:07.151 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:35:07.151 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 2 items
2020-09-18 18:35:17.152 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:35:17.152 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:35:27.153 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:35:27.153 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-18 18:35:37.153 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:35:37.153 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:35:47.154 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:35:47.154 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:35:57.154 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:35:57.154 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-18 18:36:07.155 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:36:07.155 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:36:17.156 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:36:17.156 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 2 items
2020-09-18 18:36:27.157 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:36:27.157 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:36:37.159 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:36:37.159 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:36:47.159 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:36:47.159 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-18 18:36:57.160 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:36:57.160 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:37:07.161 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:37:07.161 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:37:17.162 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:37:17.162 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 2 items
2020-09-18 18:37:27.163 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:37:27.163 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:37:37.163 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:37:37.164 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:37:47.164 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:37:47.164 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 2 items
2020-09-18 18:37:57.164 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:37:57.165 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:38:07.165 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:38:07.166 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:38:17.166 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:38:17.166 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:38:27.166 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:38:27.166 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:38:37.167 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:38:37.167 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-18 18:38:47.167 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:38:47.167 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-18 18:38:57.168 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:38:57.168 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:39:07.168 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:39:07.168 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-18 18:39:17.169 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:39:17.169 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2020-09-18 18:39:27.169 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:39:27.169 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-18 18:39:37.170 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:39:37.170 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:39:47.170 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:39:47.170 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:39:57.171 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:39:57.171 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:40:07.172 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:40:07.172 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2020-09-18 18:40:17.173 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:40:17.173 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-18 18:40:27.173 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:40:27.173 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:40:37.174 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:40:37.175 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:40:47.175 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:40:47.176 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:40:57.177 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:40:57.177 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:41:07.177 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:41:07.177 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:41:17.178 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:41:17.178 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:41:27.179 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:41:27.179 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-18 18:41:37.180 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:41:37.180 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:41:47.181 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:41:47.181 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:41:57.181 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:41:57.181 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:42:07.181 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:42:07.182 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:42:17.182 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:42:17.183 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 2 items
2020-09-18 18:42:27.184 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:42:27.184 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:42:37.184 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:42:37.184 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 2 items
2020-09-18 18:42:47.185 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:42:47.185 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-18 18:42:57.185 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:42:57.186 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:43:07.186 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:43:07.186 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-18 18:43:17.186 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:43:17.187 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:43:27.187 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:43:27.187 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:43:37.188 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:43:37.188 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2020-09-18 18:43:47.189 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:43:47.189 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:43:57.190 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:43:57.191 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:44:07.191 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:44:07.192 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:44:17.192 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:44:17.192 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:44:27.193 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:44:27.193 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:44:37.193 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:44:37.194 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-18 18:44:47.195 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:44:47.195 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2020-09-18 18:44:57.195 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:44:57.195 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:45:07.196 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:45:07.197 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 2 items
2020-09-18 18:45:17.197 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:45:17.197 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2020-09-18 18:45:27.198 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:45:27.198 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-18 18:45:37.198 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:45:37.198 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-18 18:45:47.199 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:45:47.199 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:45:57.200 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:45:57.200 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-18 18:46:07.201 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:46:07.201 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2020-09-18 18:46:17.201 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:46:17.201 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:46:27.202 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:46:27.202 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 2 items
2020-09-18 18:46:37.203 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:46:37.203 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 2 items
2020-09-18 18:46:47.203 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:46:47.203 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-18 18:46:57.204 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:46:57.204 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-18 18:47:07.205 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:47:07.205 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:47:17.205 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:47:17.205 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2020-09-18 18:47:27.206 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:47:27.206 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:47:37.207 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:47:37.207 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:47:47.207 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:47:47.207 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:47:57.208 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:47:57.208 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 2 items
2020-09-18 18:48:07.208 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:48:07.208 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:48:17.209 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:48:17.209 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:48:27.210 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:48:27.211 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-18 18:48:37.212 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:48:37.212 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:48:47.213 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:48:47.213 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:48:57.213 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:48:57.214 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 2 items
2020-09-18 18:49:07.214 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:49:07.214 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:49:17.215 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:49:17.215 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-18 18:49:27.216 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:49:27.216 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 2 items
2020-09-18 18:49:37.217 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:49:37.217 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2020-09-18 18:49:47.218 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:49:47.218 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2020-09-18 18:49:57.219 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:49:57.220 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2020-09-18 18:50:07.221 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:50:07.221 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:50:17.222 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:50:17.222 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:50:27.227 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:50:27.227 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:50:37.228 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:50:37.228 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-18 18:50:47.230 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:50:47.230 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2020-09-18 18:50:57.231 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:50:57.231 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 2 items
2020-09-18 18:51:07.232 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:51:07.232 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:51:17.234 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:51:17.234 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:51:27.236 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:51:27.237 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2020-09-18 18:51:37.237 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:51:37.237 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:51:47.238 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:51:47.238 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 2 items
2020-09-18 18:51:57.240 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:51:57.240 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-18 18:52:07.240 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:52:07.241 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:52:17.242 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:52:17.242 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:52:27.243 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:52:27.243 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:52:37.244 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:52:37.245 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 2 items
2020-09-18 18:52:47.245 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:52:47.245 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-18 18:52:57.246 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:52:57.246 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:53:07.246 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:53:07.246 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-18 18:53:17.247 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:53:17.247 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-18 18:53:27.248 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-18 18:53:27.249 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-19 09:54:02.922 +07:00 [INF] Starting host...
2020-09-19 09:54:03.588 +07:00 [DBG] Hosting starting
2020-09-19 09:54:03.604 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-19 09:54:03.612 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-19 09:54:03.618 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-19 09:54:03.618 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-19 09:54:03.619 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-19 09:54:03.622 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-19 09:54:03.625 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-19 09:54:03.625 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-19 09:54:03.625 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-19 09:54:03.630 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-19 09:54:03.639 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 09:54:03.641 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-19 09:54:03.642 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 09:54:03.644 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-19 09:54:03.646 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-19 09:54:03.648 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-19 09:54:03.648 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-19 09:54:03.666 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-19 09:54:03.672 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-19 09:54:03.674 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-19 09:54:03.674 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-19 09:54:03.674 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-19 09:54:03.674 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-19 09:54:03.674 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-19 09:54:03.674 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-19 09:54:03.919 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-19 09:54:03.920 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-19 09:54:03.920 +07:00 [INF] Hosting environment: Development
2020-09-19 09:54:03.920 +07:00 [INF] Content root path: D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4
2020-09-19 09:54:03.920 +07:00 [DBG] Hosting started
2020-09-19 09:54:03.934 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-19 09:54:03.936 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-19 09:54:03.937 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-19 09:54:03.953 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-19 09:54:03.954 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:54:03.965 +07:00 [DBG] Login Url: /Account/Login
2020-09-19 09:54:03.965 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-19 09:54:03.965 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-19 09:54:03.966 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-19 09:54:03.966 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-19 09:54:03.966 +07:00 [DBG] Error Url: /home/error
2020-09-19 09:54:03.966 +07:00 [DBG] Error Id Parameter: errorId
2020-09-19 09:54:03.968 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:03.973 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:03.975 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-19 09:54:03.977 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-19 09:54:03.977 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-19 09:54:03.978 +07:00 [DBG] Start discovery request
2020-09-19 09:54:04.038 +07:00 [INF] Request finished in 96.541ms 200 application/json; charset=UTF-8
2020-09-19 09:54:04.328 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-19 09:54:04.329 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-19 09:54:04.331 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-19 09:54:04.331 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:54:04.332 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:04.332 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:04.332 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-19 09:54:04.332 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-19 09:54:04.333 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-19 09:54:04.333 +07:00 [DBG] Start key discovery request
2020-09-19 09:54:04.391 +07:00 [INF] Request finished in 62.8366ms 200 application/json; charset=UTF-8
2020-09-19 09:54:04.741 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20admin&code_challenge=KRopUqwTajf_N9wykD5pDd6WkdgIVUvOth5JiFeAFxo&code_challenge_method=S256&response_mode=form_post&nonce=637360808444136735.Y2UyYTRkOWEtN2ZmNS00MDU5LTlhYWQtZGI5OGNlNWU1ODRjYjNjNThlNDUtOTk5ZC00ZGYzLThlNTYtZTk0YzBjZTI4OWNk&state=CfDJ8H9fZSx1BlxCmY17EnGX2_Dc9XJ5vKhMamM0waGSqmDQvoVojiAK7E4UMf_PFBxJW7vFkxh6F4tmZn1hVaxEQQ9t7RA-bOmaXMj9T9hQjCaQbqGWZx7VtI8fdRqyMX8D2w8Uk51bqfFuAzIKOJjgil4Pkd4m6zu1jbI53G1efYeucXzxLJiY3pnGO_xU3DAbyuwFOfUnicnADNmGFYsISXohHPQ_zAcj3FLXggJKKsX91cHFnrOEJQW7GjKzG3viohCYjEfSN3LOQoBT0__EsjPIlIq_ZGw1c3sF6DQPf0I4jqnhVHaXk3W7aQhEFMu8REajHJ6uaLKxvJBqT6-PZbHo05TgSoJm7QkW76wdGw0jHG4qzsFMOibuBRRtoWHnvQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 09:54:04.741 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-19 09:54:04.741 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-19 09:54:04.741 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:54:04.745 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:04.747 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:04.747 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-19 09:54:04.810 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-19 09:54:04.810 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-19 09:54:04.811 +07:00 [DBG] Start authorize request
2020-09-19 09:54:04.813 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:04.814 +07:00 [DBG] No user present in authorize request
2020-09-19 09:54:04.815 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 09:54:04.824 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:54:04.831 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 09:54:04.844 +07:00 [ERR] Client mvc is not allowed access to scope admin.
2020-09-19 09:54:04.845 +07:00 [ERR] Request validation failed
2020-09-19 09:54:04.872 +07:00 [INF] {"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile admin","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_Dc9XJ5vKhMamM0waGSqmDQvoVojiAK7E4UMf_PFBxJW7vFkxh6F4tmZn1hVaxEQQ9t7RA-bOm…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile admin","code_challenge":"KRopUqwTajf_N9wykD5pDd6WkdgIVUvOth5JiFeAFxo","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360808444136735.Y2UyYTRkOWEtN2ZmNS00MDU5LTlhYWQtZGI5OGNlNWU1ODRjYjNjNThlNDUtOTk5ZC00ZGYzLThlNTYt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_Dc9XJ5vKhMamM0waGSqmDQvoVojiAK7E4UMf_PFBxJW7vFkxh6F4tmZn1hVaxEQQ9t7RA-bOm…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 09:54:04.892 +07:00 [INF] Request finished in 150.7923ms 302 
2020-09-19 09:54:04.896 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/home/error?errorId=CfDJ8H9fZSx1BlxCmY17EnGX2_DziwllVHSQYYyONp12xhl6iUS1ndkXf0l6t_Q2uHk5D6t3m6WaP-SBR5aUAc-JYa81niQhU1IgBTtPTZtto6Qsy4x51Wou1bM_6_WMQs69Y2sgEXReP6pm9BZ1yPIXVRNe_0yvAtskvL18HpdiyMp_rZSvImrOUYa27eiOSBlCnqOYtUO2ZQI0e54yqRuQK4NxPnJTV7aE8i_Fd8FvG0aceW89zJeM2kMlZbwwW_dggxH-mINCgvXC8-jfJ6uyT6lmDMJUktEyphIUohMA0raBO2FLHg5CvTt6eRbt636Wv_hU9lMOxovSF6HBwO0wT3H0llN3Xmi3k1AJ-vbxM2NCgk9wIcN-eQwkeLvNdmyJTVj1vWE-aUBjhKlTlub1iiDfyFhH2XbjqRrGuCkaGHMShlS0bbgfHHWGp5jM8CQ8YjH3Asxp7yopfzQCPH4J8j7VbRsDtGCsQjQLCQsjCkEfNZGvIWP2-5D2iy3M4BETpvRqoRmfK-QAZ-OWCCsmTRxyJMgeYPGcLVoMtnUXH_qbypfDh2kA5cKpJdPaGLM1L9nUC67tk7wBo2im2qt_b9_ryfQy8Kbb-P6mzjzJ4a-4rxGWMV0_14FgjTht2vqq7Yelhp9QqnQ9cG_cr5ljJZobsSCSCLsosRdbTZIN_pYhf1QryQy_EoGGQYixXyTUmTq2jT6N1sBv6HWhvPL14mdIcwLCIxSlMunM_UcJ0Wpj6O8_rO9sR5UQ5VGaZmOEgnkN2ySKIWLMdS2I8swTNCwjb6uOSJczi6A0IefhLIVP2NPa1riGsMtmBQFea9avGGSdXJ3A8DDHhwL7mvlI6-WS9noMtb0X3IH56rMJjocGrFip3WpMkmz5FQuiP4ZWynZjJpaf8qS7ntYkq5kQad1etClrkLAvr38EJ7smgfNQyEsCz4E1egjW8Lsi43l-gumFcNJpgqVRDiTu0WjUKdKy8NrMd83e4MAofgkeDPGlj6eNNfYMcUrfzZWJBBzvKqavlRSw8Mv8AGa2z-MKVWRHUVP5fqISqEmSC_N26ca9  
2020-09-19 09:54:04.896 +07:00 [DBG] The request path /home/error does not match a supported file type
2020-09-19 09:54:04.899 +07:00 [DBG] 1 candidate(s) found for the request path '/home/error'
2020-09-19 09:54:04.901 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/home/error'
2020-09-19 09:54:04.902 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:54:04.903 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:04.903 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:04.904 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:54:04.908 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-19 09:54:04.937 +07:00 [INF] Route matched with {action = "Error", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String) on controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4).
2020-09-19 09:54:04.938 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-19 09:54:04.938 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 09:54:04.938 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:54:04.938 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 09:54:04.938 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:54:04.939 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 09:54:04.940 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 09:54:04.947 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' ...
2020-09-19 09:54:04.949 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' using the name 'errorId' in request data ...
2020-09-19 09:54:04.949 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 09:54:04.949 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 09:54:04.949 +07:00 [DBG] Attempting to validate the bound parameter 'errorId' of type 'System.String' ...
2020-09-19 09:54:04.951 +07:00 [DBG] Done attempting to validate the bound parameter 'errorId' of type 'System.String'.
2020-09-19 09:54:04.960 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-19 09:54:04.960 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-19 09:54:04.961 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-19 09:54:04.965 +07:00 [DBG] View lookup cache miss for view 'Error' in controller 'Home'.
2020-09-19 09:54:04.970 +07:00 [INF] Executing ViewResult, running view Error.
2020-09-19 09:54:04.974 +07:00 [DBG] The view path '/Views/Shared/Error.cshtml' was found in 5.8121ms.
2020-09-19 09:54:04.989 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2020-09-19 09:54:05.003 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Home'.
2020-09-19 09:54:05.011 +07:00 [INF] Executed ViewResult - view Error executed in 46.2281ms.
2020-09-19 09:54:05.011 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4) in 73.0974ms
2020-09-19 09:54:05.011 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:54:05.013 +07:00 [INF] Request finished in 117.3333ms 200 text/html; charset=utf-8
2020-09-19 09:54:33.371 +07:00 [INF] Starting host...
2020-09-19 09:54:33.582 +07:00 [DBG] Hosting starting
2020-09-19 09:54:33.597 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-19 09:54:33.607 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-19 09:54:33.612 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-19 09:54:33.613 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-19 09:54:33.613 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-19 09:54:33.617 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-19 09:54:33.620 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-19 09:54:33.620 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-19 09:54:33.620 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-19 09:54:33.626 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-19 09:54:33.633 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 09:54:33.635 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-19 09:54:33.636 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 09:54:33.639 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-19 09:54:33.641 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-19 09:54:33.644 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-19 09:54:33.644 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-19 09:54:33.650 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-19 09:54:33.656 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-19 09:54:33.657 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-19 09:54:33.658 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-19 09:54:33.658 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-19 09:54:33.658 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-19 09:54:33.658 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-19 09:54:33.658 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-19 09:54:33.711 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-19 09:54:33.711 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-19 09:54:33.712 +07:00 [INF] Hosting environment: Development
2020-09-19 09:54:33.712 +07:00 [INF] Content root path: D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4
2020-09-19 09:54:33.712 +07:00 [DBG] Hosting started
2020-09-19 09:54:33.726 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-19 09:54:33.728 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-19 09:54:33.729 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-19 09:54:33.745 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-19 09:54:33.745 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:54:33.758 +07:00 [DBG] Login Url: /Account/Login
2020-09-19 09:54:33.758 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-19 09:54:33.758 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-19 09:54:33.758 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-19 09:54:33.758 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-19 09:54:33.758 +07:00 [DBG] Error Url: /home/error
2020-09-19 09:54:33.758 +07:00 [DBG] Error Id Parameter: errorId
2020-09-19 09:54:33.761 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:33.765 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:33.768 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-19 09:54:33.769 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-19 09:54:33.769 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-19 09:54:33.770 +07:00 [DBG] Start discovery request
2020-09-19 09:54:33.803 +07:00 [INF] Request finished in 79.4966ms 200 application/json; charset=UTF-8
2020-09-19 09:54:33.988 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-19 09:54:33.989 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-19 09:54:33.991 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-19 09:54:33.991 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:54:33.992 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:33.992 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:33.993 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-19 09:54:33.993 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-19 09:54:33.993 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-19 09:54:33.994 +07:00 [DBG] Start key discovery request
2020-09-19 09:54:34.004 +07:00 [INF] Request finished in 16.2596ms 200 application/json; charset=UTF-8
2020-09-19 09:54:34.349 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20cbtt&code_challenge=eXI4E92TfjqSj07fGUDERhB6XWl7txYKSahqG7Pg2kc&code_challenge_method=S256&response_mode=form_post&nonce=637360808740271554.MTQ4MWFiYmEtNGE3Ni00YmE3LTg2MmEtNTE1ZDczMmExNjYwMmQ5YWVhYWEtZTdiOS00ZDY2LWE0ZWItY2NiNGQwZmU1Mzgz&state=CfDJ8H9fZSx1BlxCmY17EnGX2_B4L03XYZowKiHvVVTbec-5YNuRCdhjbD0-0rryWI6og1L9fR7n6w94PfNKgchCQ3p0rCwKbDFZjaCBp-EDK0123aWD2WoGxqvsScQM9pvNKSF5EKYtpVy6wTMwumiJpWJXu_Np_yH5q6REXgrwa67FfE2xrgSSVIKSmM8P8p9k1OlQno0_fW7DJHQzfa9_EM6YgaAP9tBJrIfybxtcG_k595bxSaSORW3swqEJRTPJUSG09hJ18MY9Hfeq77vWFbRU0H9RJrwMDbqG04bbwIwP3V0lvntZlILP9N1TixLFI1n_dpgQcJbRFDF5Gdj4WffEwp92b5DhAtjGWhnQKeqPQPYWSGXBjDnMAzFeYelD4A&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 09:54:34.349 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-19 09:54:34.350 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-19 09:54:34.350 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:54:34.354 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:34.356 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:34.356 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-19 09:54:34.360 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-19 09:54:34.361 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-19 09:54:34.362 +07:00 [DBG] Start authorize request
2020-09-19 09:54:34.364 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:34.366 +07:00 [DBG] No user present in authorize request
2020-09-19 09:54:34.367 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 09:54:34.375 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:54:34.381 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 09:54:34.394 +07:00 [ERR] Scope cbtt not found in store.
2020-09-19 09:54:34.395 +07:00 [ERR] Request validation failed
2020-09-19 09:54:34.405 +07:00 [INF] {"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile cbtt","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_B4L03XYZowKiHvVVTbec-5YNuRCdhjbD0-0rryWI6og1L9fR7n6w94PfNKgchCQ3p0rCwKbDF…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile cbtt","code_challenge":"eXI4E92TfjqSj07fGUDERhB6XWl7txYKSahqG7Pg2kc","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360808740271554.MTQ4MWFiYmEtNGE3Ni00YmE3LTg2MmEtNTE1ZDczMmExNjYwMmQ5YWVhYWEtZTdiOS00ZDY2LWE0ZWIt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_B4L03XYZowKiHvVVTbec-5YNuRCdhjbD0-0rryWI6og1L9fR7n6w94PfNKgchCQ3p0rCwKbDF…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 09:54:34.421 +07:00 [INF] Request finished in 71.9148ms 302 
2020-09-19 09:54:34.455 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/home/error?errorId=CfDJ8H9fZSx1BlxCmY17EnGX2_BiVVDpPVm-IwW-QgRimv_DIXLKL2KVuIM7hkRLAe2nsNACduVDogyW_pum_fu8C-YzZ7qSdzMNWtBjq3QFxdLIBHZ5SlZOf_RCw_CBPKK-om5F2i1yJeMnRh0z_ULOHc5qyinwl1mMzh9yluj7sk2KWdulTX3ZxFd2a3EgfY-ws74H63ufSa_31rraETwhWwQd4z7hAe5rV2QibWVnytR5mf-WN81Q6y98JMkqLsd-owC8FxVK1k6DOmsy5nvPEvnuconBAEWjCooM0SYo8L5ir1oE4fb96SsylFXSPv3p8YsnUS1upp-gTQeFfuXvRM1tXbKygs-BfDIar6w02icQwxG4uuDZarKwJmv66TW0ISWqSBx7WNreFjFdxx7zrDGkvRHCfCeTVKfPLPP97hBM1gGUqMWkOn5A6IiWlAd5VcuDQVWqwbHORob1Yeqi4bwCMF1LQrL5q8pqvG5Zdzwl0Tvn4PCWQG8EOXmJix7ImMZbnrSrPap6rwA9AxOMqzecjYUvGHxT4Ruu6nTOd0dAu350HMHj8Pvosg5HI4V7k0IkD2r0bVNl86qrWKEOfysMTneuRs9R4yCWBUZvaIWuYeKGmQpZ1mAuratmUBbMsRK0vSqo6mj9BsSjNc-hIsdahybrdx9_IcCXlJ-qVPeNCEBml8P0UPVbtMZvqWGb2cVuPRhNZh706fT42hAIVs24wZZef9NE8X8bEzJcWcNzAsdDG_RpJzRkUtv789AoonNU8-h-V_pXjapujNuDYH7C5CC3FWMMZOxdU44Bfh9GBek9mH40N3jJXCwA6ti7ejtgYeidp5Dh_lKngTUjm3wc-RDb3dyTCI1xHBs9ybz3aoJUnhiglasdfPOVF_LGRf-YeVEBGIJEHsNn_QGxRg5aoqH1kVSO1JOkH441hLouixSQAGREMKqSsR5HgNHfrLERPLdSANY1fSOnyVkeMwIGHYP5iSXSx8vbKM_j9cugtv0bRM8THd2nsQbdplvNMwWOmevyLbSnzaBomyR21X79VZC1xD7Dd23mcI6vO23H  
2020-09-19 09:54:34.455 +07:00 [DBG] The request path /home/error does not match a supported file type
2020-09-19 09:54:34.458 +07:00 [DBG] 1 candidate(s) found for the request path '/home/error'
2020-09-19 09:54:34.461 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/home/error'
2020-09-19 09:54:34.461 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:54:34.462 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:34.462 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:54:34.463 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:54:34.467 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-19 09:54:34.488 +07:00 [INF] Route matched with {action = "Error", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String) on controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4).
2020-09-19 09:54:34.488 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-19 09:54:34.489 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 09:54:34.489 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:54:34.489 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 09:54:34.489 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:54:34.489 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 09:54:34.490 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 09:54:34.494 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' ...
2020-09-19 09:54:34.496 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' using the name 'errorId' in request data ...
2020-09-19 09:54:34.496 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 09:54:34.496 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 09:54:34.496 +07:00 [DBG] Attempting to validate the bound parameter 'errorId' of type 'System.String' ...
2020-09-19 09:54:34.497 +07:00 [DBG] Done attempting to validate the bound parameter 'errorId' of type 'System.String'.
2020-09-19 09:54:34.507 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-19 09:54:34.507 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-19 09:54:34.507 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-19 09:54:34.507 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-19 09:54:34.507 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-19 09:54:34.507 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-19 09:54:34.507 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-19 09:54:34.508 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-19 09:54:34.508 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-19 09:54:34.508 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-19 09:54:34.508 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-19 09:54:34.508 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-19 09:54:34.508 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-19 09:54:34.508 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-19 09:54:34.508 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-19 09:54:34.508 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-19 09:54:34.508 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-19 09:54:34.508 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-19 09:54:34.508 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-19 09:54:34.512 +07:00 [DBG] View lookup cache miss for view 'Error' in controller 'Home'.
2020-09-19 09:54:34.517 +07:00 [INF] Executing ViewResult, running view Error.
2020-09-19 09:54:34.520 +07:00 [DBG] The view path '/Views/Shared/Error.cshtml' was found in 5.6355ms.
2020-09-19 09:54:34.535 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2020-09-19 09:54:34.548 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Home'.
2020-09-19 09:54:34.556 +07:00 [INF] Executed ViewResult - view Error executed in 44.2647ms.
2020-09-19 09:54:34.556 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4) in 67.3288ms
2020-09-19 09:54:34.556 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:54:34.558 +07:00 [INF] Request finished in 102.8158ms 200 text/html; charset=utf-8
2020-09-19 09:55:20.004 +07:00 [INF] Starting host...
2020-09-19 09:55:20.237 +07:00 [DBG] Hosting starting
2020-09-19 09:55:20.254 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-19 09:55:20.261 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-19 09:55:20.266 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-19 09:55:20.266 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-19 09:55:20.267 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-19 09:55:20.271 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-19 09:55:20.273 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-19 09:55:20.274 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-19 09:55:20.274 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-19 09:55:20.279 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-19 09:55:20.286 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 09:55:20.288 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-19 09:55:20.289 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 09:55:20.292 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-19 09:55:20.294 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-19 09:55:20.297 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-19 09:55:20.297 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-19 09:55:20.304 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-19 09:55:20.310 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-19 09:55:20.312 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-19 09:55:20.312 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-19 09:55:20.312 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-19 09:55:20.312 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-19 09:55:20.312 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-19 09:55:20.312 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-19 09:55:20.368 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-19 09:55:20.368 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-19 09:55:20.368 +07:00 [INF] Hosting environment: Development
2020-09-19 09:55:20.368 +07:00 [INF] Content root path: D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4
2020-09-19 09:55:20.368 +07:00 [DBG] Hosting started
2020-09-19 09:55:20.382 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-19 09:55:20.384 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-19 09:55:20.385 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-19 09:55:20.401 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-19 09:55:20.402 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:55:20.413 +07:00 [DBG] Login Url: /Account/Login
2020-09-19 09:55:20.413 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-19 09:55:20.413 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-19 09:55:20.413 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-19 09:55:20.413 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-19 09:55:20.414 +07:00 [DBG] Error Url: /home/error
2020-09-19 09:55:20.414 +07:00 [DBG] Error Id Parameter: errorId
2020-09-19 09:55:20.416 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:20.420 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:20.422 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-19 09:55:20.423 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-19 09:55:20.423 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-19 09:55:20.424 +07:00 [DBG] Start discovery request
2020-09-19 09:55:20.458 +07:00 [INF] Request finished in 77.8274ms 200 application/json; charset=UTF-8
2020-09-19 09:55:20.645 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-19 09:55:20.646 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-19 09:55:20.648 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-19 09:55:20.648 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:55:20.649 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:20.649 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:20.649 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-19 09:55:20.649 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-19 09:55:20.649 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-19 09:55:20.650 +07:00 [DBG] Start key discovery request
2020-09-19 09:55:20.658 +07:00 [INF] Request finished in 14.0312ms 200 application/json; charset=UTF-8
2020-09-19 09:55:21.002 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20mvcclient&code_challenge=YpDYUNG3AJgaPvvyEeMiJ5RIZynKtBu0QJFb7IcRmB4&code_challenge_method=S256&response_mode=form_post&nonce=637360809206803864.NmM0YzNmYzMtNjA0YS00NzA4LWI2MjYtNmVmYjFlZjM0ZjRkNzdhNDM4MTEtNDY4YS00MTBiLTg3YjEtZmZmNWU5NGM1Y2Y5&state=CfDJ8H9fZSx1BlxCmY17EnGX2_CYVsumNfeLwSxofxi8OLAKRz65wscQePDj0GgWMdIJC1-mErl4sVEDxMb4EnJLmtYHi7i-zQ50XScEMWD34wZlgAl5HWjhPdGXSKBpmbyIgmmjsdkwxwOn9wXZWmzJInJFM4Aq8vitAdK0py0vjYXWIsn7f7p9sWapO6cOw6IMJZwwL019UIuI0iWvOpkVxw-3AhgtEDlN0SHiih3aXjTvpT7pftSFbeRArlbR_pwm9JR9_amJLNkTWECMa-l_P4ZA6-2xKYbGitw_q4-4ejUEWOHawlx_YdCL7R64yzPr9b6rdlFrurnb41GLPszggjF7aEVfs1TrgvDFEAqFL9DP_q2r4TSYMh52vbYxL9z8PA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 09:55:21.003 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-19 09:55:21.003 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-19 09:55:21.003 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:55:21.008 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:21.010 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:21.010 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-19 09:55:21.015 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-19 09:55:21.015 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-19 09:55:21.016 +07:00 [DBG] Start authorize request
2020-09-19 09:55:21.018 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:21.020 +07:00 [DBG] No user present in authorize request
2020-09-19 09:55:21.021 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 09:55:21.028 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:55:21.036 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 09:55:21.049 +07:00 [ERR] Scope mvcclient not found in store.
2020-09-19 09:55:21.050 +07:00 [ERR] Request validation failed
2020-09-19 09:55:21.058 +07:00 [INF] {"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile mvcclient","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_CYVsumNfeLwSxofxi8OLAKRz65wscQePDj0GgWMdIJC1-mErl4sVEDxMb4EnJLmtYHi7i-zQ5…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile mvcclient","code_challenge":"YpDYUNG3AJgaPvvyEeMiJ5RIZynKtBu0QJFb7IcRmB4","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360809206803864.NmM0YzNmYzMtNjA0YS00NzA4LWI2MjYtNmVmYjFlZjM0ZjRkNzdhNDM4MTEtNDY4YS00MTBiLTg3YjEt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_CYVsumNfeLwSxofxi8OLAKRz65wscQePDj0GgWMdIJC1-mErl4sVEDxMb4EnJLmtYHi7i-zQ5…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 09:55:21.074 +07:00 [INF] Request finished in 71.4818ms 302 
2020-09-19 09:55:21.077 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/home/error?errorId=CfDJ8H9fZSx1BlxCmY17EnGX2_BFqn_kPonP8Zjv81djJz_Sol-r5TtvXA1d1DumfXiU8HxizW3l8nVmSAWjmZ0WEp0R_7R2_pTcXpWKoVtiWBivwLlUBk6EXEI00ks3vC7-dybt_Whc9MlYUbAjMq8COFTAWH3WxDYhYxBDf7kmnwXayCDprWH8YI0YZSQtTEsMfngTN-0qelgHrxyAA_8Uk4Q6lTLkONUgia7GePFu4UNR-TBl_9TYN2ZPqdYtLFObWuKrXrNOhgXjWNjtcLxfnS8WtcB9i1_C7I0Hbj0qRGNYoHtLAxogTKvI-U2vatLi0fWir5SkdECWMZy3QAG4pT7bReutQaugn3zyCBdKur_owLfZOCPi1DYPQxYUPG3wctWUhWd4hfW5wm-oaNPSkRwmGl5bQ7bI0pSrtMWghS_W3DbV2pMMzwqlVRfY8wcWC51-OSsPmfBgXjWdwXCp9pc3xq-9Ggp6YQR_ZNOPODn4457F6fWZf-5oYsQKpHDd0F1sdwUd2eKcAup9y0qq050_RCvGWtoQG5zDJaNS0YV3JtUSUPgU9C0xCv6XI8LaGOR-bOwvKBNf18J9JLD-QQFZn5mtBkG-EFqKeLpYJP6wiF1LV0KZuaR76cx1dtLK0eHa6TSy52R8p9-0gDSZzrsg92MezPpWZk9r2oeOZGkePKA1t2QT55tXJJTn5vH0812qMrS1OgIMAT9niSP6SvpLuj0bziFGgccJmqi3WU-ebhqwZowMMw5Igh8YxdAlStb922M0l0Dp2fc5yEhZNBW7r-ubLdhjaRf8QBwmaBG3NehZAY2-fZgoaXKPO7-AqmMnLdrmxzSgmiSXVwisYXTfKWFNSX8ELtcG9rrahmo2Li9wzpCNSoXM19XhSYOe9oU-Hfy9_yGcE9e8VosjqgKQpLmVsT1XMstU-XWuIEKd1lUE3JlooY0_EFK7PhPqgFVqFGvF0po_zr6bjnToqQCsAhmpfgHxS-c_ACois8Bt-J7Yl1kNSgnRuV_x6DfqLROy1n24VUeEGXvzTZ87oVMYqw0tTOvUV4nlwY7zyPTQ  
2020-09-19 09:55:21.078 +07:00 [DBG] The request path /home/error does not match a supported file type
2020-09-19 09:55:21.081 +07:00 [DBG] 1 candidate(s) found for the request path '/home/error'
2020-09-19 09:55:21.084 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/home/error'
2020-09-19 09:55:21.084 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:55:21.084 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:21.085 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:21.086 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:55:21.089 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-19 09:55:21.110 +07:00 [INF] Route matched with {action = "Error", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String) on controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4).
2020-09-19 09:55:21.110 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-19 09:55:21.110 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 09:55:21.110 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:55:21.110 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 09:55:21.111 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:55:21.111 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 09:55:21.112 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 09:55:21.115 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' ...
2020-09-19 09:55:21.117 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' using the name 'errorId' in request data ...
2020-09-19 09:55:21.118 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 09:55:21.118 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 09:55:21.118 +07:00 [DBG] Attempting to validate the bound parameter 'errorId' of type 'System.String' ...
2020-09-19 09:55:21.119 +07:00 [DBG] Done attempting to validate the bound parameter 'errorId' of type 'System.String'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-19 09:55:21.129 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-19 09:55:21.134 +07:00 [DBG] View lookup cache miss for view 'Error' in controller 'Home'.
2020-09-19 09:55:21.139 +07:00 [INF] Executing ViewResult, running view Error.
2020-09-19 09:55:21.142 +07:00 [DBG] The view path '/Views/Shared/Error.cshtml' was found in 5.893ms.
2020-09-19 09:55:21.158 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2020-09-19 09:55:21.173 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Home'.
2020-09-19 09:55:21.181 +07:00 [INF] Executed ViewResult - view Error executed in 47.5714ms.
2020-09-19 09:55:21.181 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4) in 70.5966ms
2020-09-19 09:55:21.181 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:55:21.183 +07:00 [INF] Request finished in 105.5698ms 200 text/html; charset=utf-8
2020-09-19 09:55:53.885 +07:00 [INF] Starting host...
2020-09-19 09:55:54.127 +07:00 [DBG] Hosting starting
2020-09-19 09:55:54.143 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-19 09:55:54.151 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-19 09:55:54.155 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-19 09:55:54.156 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-19 09:55:54.156 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-19 09:55:54.160 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-19 09:55:54.163 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-19 09:55:54.163 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-19 09:55:54.163 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-19 09:55:54.168 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-19 09:55:54.175 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 09:55:54.176 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-19 09:55:54.177 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 09:55:54.181 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-19 09:55:54.183 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-19 09:55:54.185 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-19 09:55:54.185 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-19 09:55:54.191 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-19 09:55:54.196 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-19 09:55:54.198 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-19 09:55:54.198 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-19 09:55:54.198 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-19 09:55:54.198 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-19 09:55:54.198 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-19 09:55:54.198 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-19 09:55:54.253 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-19 09:55:54.253 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-19 09:55:54.253 +07:00 [INF] Hosting environment: Development
2020-09-19 09:55:54.253 +07:00 [INF] Content root path: D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4
2020-09-19 09:55:54.253 +07:00 [DBG] Hosting started
2020-09-19 09:55:54.268 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-19 09:55:54.270 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-19 09:55:54.271 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-19 09:55:54.287 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-19 09:55:54.287 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:55:54.299 +07:00 [DBG] Login Url: /Account/Login
2020-09-19 09:55:54.299 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-19 09:55:54.299 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-19 09:55:54.300 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-19 09:55:54.300 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-19 09:55:54.300 +07:00 [DBG] Error Url: /home/error
2020-09-19 09:55:54.300 +07:00 [DBG] Error Id Parameter: errorId
2020-09-19 09:55:54.302 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:54.306 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:54.308 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-19 09:55:54.310 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-19 09:55:54.310 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-19 09:55:54.310 +07:00 [DBG] Start discovery request
2020-09-19 09:55:54.343 +07:00 [INF] Request finished in 76.9189ms 200 application/json; charset=UTF-8
2020-09-19 09:55:54.531 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-19 09:55:54.531 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-19 09:55:54.532 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-19 09:55:54.532 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:55:54.533 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:54.533 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:54.533 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-19 09:55:54.533 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-19 09:55:54.534 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-19 09:55:54.534 +07:00 [DBG] Start key discovery request
2020-09-19 09:55:54.543 +07:00 [INF] Request finished in 12.0437ms 200 application/json; charset=UTF-8
2020-09-19 09:55:54.890 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20mvcclient.home&code_challenge=00AZdrAXWUhE4P2qvry4WAxv8Bn7SeSq4iA4ObETdzg&code_challenge_method=S256&response_mode=form_post&nonce=637360809545683302.MDA0MDFmMWEtODM2NC00NzQ0LWEyYzQtMjgwMGY4MDFjMzQ0MDNkZDNkYWYtOTY4Ni00YThhLTk2MzktMzcxZjU5YjEzMWUx&state=CfDJ8H9fZSx1BlxCmY17EnGX2_D-G0x33Y3-TzAOLy7O1cLJUcJ7c6hbFhsa-xfp_caZPWFv0-r0bzxbnamXCWmLcHQYw28aSgw5T3ILuzdelI9aS-aFzm3js_r4ZKuK3hrrj0MY_QYiH_XIyArVt7BDT7aTK0PaFNGQKnHoKbWlPvKmA0NeOMmH2GUG_9XTGU6Ypszy819hEjov7ptJgUv9OzQfSJeVyV9Wm-668Cmvcnvoob9GtYwBcEj7Tj6jpV_HBKmz4_8S031uYV5zzxWao67ODAnT7PeEGcAfsLvo7TJMprhcOW8-3xv6oqloFmY03jfXm-j2wuCDCceg0bgazL_c_dKbRooTcSA6y-JqqtcKizshdHJR28Ei68Pat0Z5ug&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 09:55:54.890 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-19 09:55:54.890 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-19 09:55:54.890 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:55:54.894 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:54.896 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:54.896 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-19 09:55:54.901 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-19 09:55:54.901 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-19 09:55:54.902 +07:00 [DBG] Start authorize request
2020-09-19 09:55:54.903 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:54.905 +07:00 [DBG] No user present in authorize request
2020-09-19 09:55:54.906 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 09:55:54.913 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:55:54.920 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 09:55:54.932 +07:00 [ERR] Client mvc is not allowed access to scope mvcclient.home.
2020-09-19 09:55:54.932 +07:00 [ERR] Request validation failed
2020-09-19 09:55:54.940 +07:00 [INF] {"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile mvcclient.home","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_D-G0x33Y3-TzAOLy7O1cLJUcJ7c6hbFhsa-xfp_caZPWFv0-r0bzxbnamXCWmLcHQYw28aSgw…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile mvcclient.home","code_challenge":"00AZdrAXWUhE4P2qvry4WAxv8Bn7SeSq4iA4ObETdzg","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360809545683302.MDA0MDFmMWEtODM2NC00NzQ0LWEyYzQtMjgwMGY4MDFjMzQ0MDNkZDNkYWYtOTY4Ni00YThhLTk2Mzkt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_D-G0x33Y3-TzAOLy7O1cLJUcJ7c6hbFhsa-xfp_caZPWFv0-r0bzxbnamXCWmLcHQYw28aSgw…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 09:55:54.956 +07:00 [INF] Request finished in 66.6069ms 302 
2020-09-19 09:55:54.960 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/home/error?errorId=CfDJ8H9fZSx1BlxCmY17EnGX2_BblAtXbcnrm4-qWxQy_7TyBZb1wLTXRamU-crKvQ91qRVAaM3ex0iemPfcN_d4XGnH9e5czxDjK9bySiBpr7OCgdflGR8AOxDYILHWY-PAx744J0bIbdUn2t6MSRfg4dslQ9UMCCdvVI0LrJWbu3nUITx2NtU-H6U4mVs3jVSQz3iX_opANyI-l01E4uW2AaPdSacO3enWj61ejLvesHJ1Z4WkXkQHBJHDohXheMm71EHmy6oUTeMqiE0_W2iZH_m8jmyeAH5s4ohRvYJ549_up5TCefWgoM8tR5MCPo27mYcCLutVqWKY6D2MB3kI3GI3tLVdHNm1geCbURoHoPcKKGDxtyvfDlJHyxULjq4xwF3HBU81987S3OfHF8NTeNp25owugkjXOZ92jnn3kESPJJCyOPylXVMhhFQ3UnG7GmmCHXBSGY5sDXAMSSEwtrQ24imrQuPHELDwbXz-fXGasBea1TP8ODDGRnOFEWT5zXLZM92pr_B3vpMiUGtCHwU49KJQfV0CbYb3hzzUKC49OVXARVTcGl05wGW5MAUI63RVHaTqMMaAj8FJVILlspIzl0-5DfyM8WFM7n81qm7LCfCaGhGYViFr-EEPUGqe6UwSYP5G56306I8OtxWU6kkAMY3OXEFHXTVgDl54fr_GJWv500-7Dg8bmdpMMzIF0vws7L6YeMmZHYajivw-9nO51wBtWIySPNC0W6JaYNqZM9TMnXgQ8V-W2ma-BPM4-9U5cWFLXP7jShIM16OEE-4B-wtRkmIF5NqsfhlOEmYipmRXoTgf80fXnrx40fi8Hi9FaDl-ghIRXYXRVJdzpD28WDgcqJcu986gDR_JmxmHenqvXsrQlgTzbdgHcrJ3ZqqYI3Knzu1J0PUNyoXYQ3v61UOqiaoKBJAbkV5GJLfniLkc5_8-_tt9HGLkH9Elh1-l1Tsy-tgRppHLOlQq5NbCELSjToYUqoNGxH7jSrTFBm6Wctd_rTjAQYYtf4NyfF8k9Vj6hBigx15Dbl586DonIZDmNvFMYYminZJR1lle  
2020-09-19 09:55:54.960 +07:00 [DBG] The request path /home/error does not match a supported file type
2020-09-19 09:55:54.964 +07:00 [DBG] 1 candidate(s) found for the request path '/home/error'
2020-09-19 09:55:54.966 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/home/error'
2020-09-19 09:55:54.966 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:55:54.967 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:54.967 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:55:54.968 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:55:54.971 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-19 09:55:54.992 +07:00 [INF] Route matched with {action = "Error", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String) on controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4).
2020-09-19 09:55:54.993 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-19 09:55:54.993 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 09:55:54.993 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:55:54.993 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 09:55:54.993 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:55:54.994 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 09:55:54.995 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 09:55:54.998 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' ...
2020-09-19 09:55:55.000 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' using the name 'errorId' in request data ...
2020-09-19 09:55:55.000 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 09:55:55.000 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 09:55:55.000 +07:00 [DBG] Attempting to validate the bound parameter 'errorId' of type 'System.String' ...
2020-09-19 09:55:55.001 +07:00 [DBG] Done attempting to validate the bound parameter 'errorId' of type 'System.String'.
2020-09-19 09:55:55.012 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-19 09:55:55.012 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-19 09:55:55.012 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-19 09:55:55.013 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-19 09:55:55.017 +07:00 [DBG] View lookup cache miss for view 'Error' in controller 'Home'.
2020-09-19 09:55:55.022 +07:00 [INF] Executing ViewResult, running view Error.
2020-09-19 09:55:55.025 +07:00 [DBG] The view path '/Views/Shared/Error.cshtml' was found in 5.2049ms.
2020-09-19 09:55:55.039 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2020-09-19 09:55:55.052 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Home'.
2020-09-19 09:55:55.060 +07:00 [INF] Executed ViewResult - view Error executed in 43.3741ms.
2020-09-19 09:55:55.061 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4) in 67.3487ms
2020-09-19 09:55:55.061 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:55:55.063 +07:00 [INF] Request finished in 102.8731ms 200 text/html; charset=utf-8
2020-09-19 09:57:39.758 +07:00 [INF] Starting host...
2020-09-19 09:57:39.996 +07:00 [DBG] Hosting starting
2020-09-19 09:57:40.012 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-19 09:57:40.020 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-19 09:57:40.025 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-19 09:57:40.025 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-19 09:57:40.026 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-19 09:57:40.029 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-19 09:57:40.032 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-19 09:57:40.032 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-19 09:57:40.032 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-19 09:57:40.038 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-19 09:57:40.045 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 09:57:40.047 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-19 09:57:40.048 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 09:57:40.050 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-19 09:57:40.052 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-19 09:57:40.055 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-19 09:57:40.055 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-19 09:57:40.064 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-19 09:57:40.069 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-19 09:57:40.071 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-19 09:57:40.071 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-19 09:57:40.071 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-19 09:57:40.072 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-19 09:57:40.072 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-19 09:57:40.072 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-19 09:57:40.131 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-19 09:57:40.131 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-19 09:57:40.131 +07:00 [INF] Hosting environment: Development
2020-09-19 09:57:40.131 +07:00 [INF] Content root path: D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4
2020-09-19 09:57:40.131 +07:00 [DBG] Hosting started
2020-09-19 09:57:40.148 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-19 09:57:40.150 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-19 09:57:40.152 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-19 09:57:40.169 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-19 09:57:40.170 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:57:40.182 +07:00 [DBG] Login Url: /Account/Login
2020-09-19 09:57:40.183 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-19 09:57:40.183 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-19 09:57:40.183 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-19 09:57:40.183 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-19 09:57:40.183 +07:00 [DBG] Error Url: /home/error
2020-09-19 09:57:40.183 +07:00 [DBG] Error Id Parameter: errorId
2020-09-19 09:57:40.186 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:57:40.191 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:57:40.194 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-19 09:57:40.195 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-19 09:57:40.196 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-19 09:57:40.197 +07:00 [DBG] Start discovery request
2020-09-19 09:57:40.244 +07:00 [INF] Request finished in 97.6446ms 200 application/json; charset=UTF-8
2020-09-19 09:57:40.493 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-19 09:57:40.494 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-19 09:57:40.495 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-19 09:57:40.495 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:57:40.496 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:57:40.496 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:57:40.496 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-19 09:57:40.497 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-19 09:57:40.497 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-19 09:57:40.497 +07:00 [DBG] Start key discovery request
2020-09-19 09:57:40.507 +07:00 [INF] Request finished in 14.3986ms 200 application/json; charset=UTF-8
2020-09-19 09:57:40.850 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20mvcclient.home&code_challenge=E0-xne09vvp5Fuvnd0WKOs3QP9gEwH5AhG1wUbZodcA&code_challenge_method=S256&response_mode=form_post&nonce=637360810605293394.ZmNkMjQxNmMtYWY1Ni00OTE3LThjYzEtYWE4ZDhiNzY0NzI1ZjMxZDJmZTQtMDhkOC00OTk5LTg2MzctY2FlY2M4OTVkNGQw&state=CfDJ8H9fZSx1BlxCmY17EnGX2_DZdIXWA9yafaXwDOxr_t3yrahgxgO_7K1FCQf4l1W-_GRMUK1EoU1vfdfDRJmcCaWlcYX3Gl5JZkTsDpKZBS9LFCUOVs1Rkz48VuYwVfAAGkUeX6y4d1XhNa6_cigfeD9PsU3BEku_szH18DthQReSQ-kf22p7KB-cL2sVE5X-N2KkV5OTSThOHwH8qKHjrrRCTg8CFKpOTy6eamoKvqsxcbkvfyaTjpuonBRyHY3LhRD--eK3bwGUciBJhq19HopSFKXzlSQqpHV7Xx-KqQw3lx3ypw_SFxAnPIwtBMAWc1PbAIprUrcLDZA8muuvoRd4i3H1a63Z_t8oZDUxTiNTPe8P18lKW7VyfynRc-ETIA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 09:57:40.850 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-19 09:57:40.850 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-19 09:57:40.851 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:57:40.855 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:57:40.857 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:57:40.857 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-19 09:57:40.862 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-19 09:57:40.862 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-19 09:57:40.863 +07:00 [DBG] Start authorize request
2020-09-19 09:57:40.865 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:57:40.867 +07:00 [DBG] No user present in authorize request
2020-09-19 09:57:40.868 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 09:57:40.877 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:57:40.883 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 09:57:40.894 +07:00 [ERR] Client mvc is not allowed access to scope mvcclient.home.
2020-09-19 09:57:40.895 +07:00 [ERR] Request validation failed
2020-09-19 09:57:40.904 +07:00 [INF] {"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile mvcclient.home","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DZdIXWA9yafaXwDOxr_t3yrahgxgO_7K1FCQf4l1W-_GRMUK1EoU1vfdfDRJmcCaWlcYX3Gl5…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile mvcclient.home","code_challenge":"E0-xne09vvp5Fuvnd0WKOs3QP9gEwH5AhG1wUbZodcA","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360810605293394.ZmNkMjQxNmMtYWY1Ni00OTE3LThjYzEtYWE4ZDhiNzY0NzI1ZjMxZDJmZTQtMDhkOC00OTk5LTg2Mzct…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_DZdIXWA9yafaXwDOxr_t3yrahgxgO_7K1FCQf4l1W-_GRMUK1EoU1vfdfDRJmcCaWlcYX3Gl5…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 09:57:40.921 +07:00 [INF] Request finished in 71.0727ms 302 
2020-09-19 09:57:40.925 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/home/error?errorId=CfDJ8H9fZSx1BlxCmY17EnGX2_CpmXVyRZ2E1gFPRAhVj7p_xVTF5Agrj7Lz3ngJxGSnXMyYhfg4ebeSJKGZKgpO5lsFjcj2w5yEXGjhvHK6JvB8GGpDCEcUidj6ahsxuzK89NPhub1VHhzsoCDgKB3pcLvxAsRYClzf3SsPyEqkYpMUVcprYJeinGFRyjjTYdfA8gOq6lbL_yI-JEKLj2uypSBcxRgF9HWViX_KM6u8dSovkpo93o0impVBV6x4EnU0nkGaw3rd4SS-qI9n699jdIekxGVc0-vxDo0pk06P0QubN2aWUtMpDDq7fDohg5bvhjARe8L4B_2hOyzAZ2oLY0n90bsGfos-EE-u5hLkvymANUHXuJSWuIT9sAUmkVWaIA9sZevPSt64li68Kyxxi838uYFKD0RI2hPI3StGRVUA0gnYsSOkSLHLmSU_id62iTNmENxG9pN8YyaixbnCD-n7MpWixrd6kP-QBNR9EnlywpYhhdmi4uWbgUcbQqtp6TOLtbcZr4FwZD-1JC5rixgyLYCcbLsFG4yM283bE1yTi7cgG43tEAzmg2MHTQ3e6LJkC5bq3o_1ZZBjNXp-yQQxJ2fGsYI35kJqvCYvSjTPrJg2I-s4TAWQ05Au75w230lVwstNgR05-ZVVJMyYg7iQs1ghufBbTb1Flay_Ggen87YQ1LkINjBdV7KIE5z-9j4nTiPpz5U4Lq1em0Gsdtr_sq1ZDVJrqVj7jBI1J9DC7A4bO_FkWLF2T7baWIrT7ldK6CHa5I8Yji8lF8Kj0RWEel8zpsCoUwl9dqcFD0F6Xb541nvz1GHcApnYXEhIRliew7LpU4AMxWJCXAO63VIwwZYud11pdSeirRYYy4Kq0C-yiI5bV9pYQthQM4HAgWn49wAA95ts3eKEER81qrJciduAcayebDFXrUDdIdHNLQw65z2WCKGYSL3hkcj-3vzzQG96Thtx0ELkrzgkc9614Q14zGhJUfdhHKE4DAYLK-qqpOOB0XRsAlply_YcE5NEaqlVCAgcfoPxbYXfrqzoljJk3mnukJKXo9t9sWCZ  
2020-09-19 09:57:40.925 +07:00 [DBG] The request path /home/error does not match a supported file type
2020-09-19 09:57:40.928 +07:00 [DBG] 1 candidate(s) found for the request path '/home/error'
2020-09-19 09:57:40.930 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/home/error'
2020-09-19 09:57:40.931 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:57:40.931 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:57:40.932 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:57:40.933 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:57:40.938 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-19 09:57:40.962 +07:00 [INF] Route matched with {action = "Error", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String) on controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4).
2020-09-19 09:57:40.963 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-19 09:57:40.963 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 09:57:40.963 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:57:40.963 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 09:57:40.963 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:57:40.964 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 09:57:40.965 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 09:57:40.968 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' ...
2020-09-19 09:57:40.970 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' using the name 'errorId' in request data ...
2020-09-19 09:57:40.971 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 09:57:40.971 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 09:57:40.971 +07:00 [DBG] Attempting to validate the bound parameter 'errorId' of type 'System.String' ...
2020-09-19 09:57:40.972 +07:00 [DBG] Done attempting to validate the bound parameter 'errorId' of type 'System.String'.
2020-09-19 09:57:40.982 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-19 09:57:40.982 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-19 09:57:40.982 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-19 09:57:40.982 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-19 09:57:40.982 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-19 09:57:40.983 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-19 09:57:40.983 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-19 09:57:40.983 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-19 09:57:40.983 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-19 09:57:40.983 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-19 09:57:40.983 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-19 09:57:40.983 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-19 09:57:40.983 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-19 09:57:40.983 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-19 09:57:40.983 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-19 09:57:40.983 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-19 09:57:40.983 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-19 09:57:40.983 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-19 09:57:40.983 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-19 09:57:40.988 +07:00 [DBG] View lookup cache miss for view 'Error' in controller 'Home'.
2020-09-19 09:57:40.993 +07:00 [INF] Executing ViewResult, running view Error.
2020-09-19 09:57:40.996 +07:00 [DBG] The view path '/Views/Shared/Error.cshtml' was found in 5.4432ms.
2020-09-19 09:57:41.014 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2020-09-19 09:57:41.027 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Home'.
2020-09-19 09:57:41.035 +07:00 [INF] Executed ViewResult - view Error executed in 47.2273ms.
2020-09-19 09:57:41.036 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4) in 72.3129ms
2020-09-19 09:57:41.036 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:57:41.038 +07:00 [INF] Request finished in 112.8189ms 200 text/html; charset=utf-8
2020-09-19 09:57:49.682 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20mvcclient.home&code_challenge=JOJhmEOhM1KiKsawALe4f7D7R-mJIVGOapaiIwj2Q7Y&code_challenge_method=S256&response_mode=form_post&nonce=637360810696738008.MjdiYjJmYjktNGU1My00ZTk4LTgwOGMtYjk5NDJlNzM1ODcwYzE2ZGFlMzgtZjEwMy00MGViLTk0NjgtODU0YzUyZGRhNjEw&state=CfDJ8H9fZSx1BlxCmY17EnGX2_DKic0U8RbntzGgUaWHZ_C0x3_nkdJbEA8IlDYSqGYo_UAIGArW7D3x9gHSEIPIcFXK-R9nZNa8V1gII26Pjp22ool3pQJadGHnxWLlnPvk5MgxlO-BvG3Y1wvgG-yXnyb8aQvMEiqR3IwJ_ln0nTq7Pe0np_jHaLALugls6wPde09SeQN43UALAhlFk-5KM6XGrgylrr8PS8Jqw64LS97CBge1UabmWLFvnLYQ35TBqhhUegBuqHC0pG9Qv_-wB_8YbtX1KkMn5OK93LJUtWbbB25Jpx5dyptRqXRCEJA5IPmlrx2Z7Z5E3PqspdVxI1mrezKumhDwttJvUWONP6TIWxHm_MlEfGdkZ4pNcw6GCQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 09:57:49.684 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-19 09:57:49.685 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-19 09:57:49.685 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:57:49.686 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:57:49.686 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:57:49.686 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-19 09:57:49.687 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-19 09:57:49.687 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-19 09:57:49.687 +07:00 [DBG] Start authorize request
2020-09-19 09:57:49.687 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:57:49.687 +07:00 [DBG] No user present in authorize request
2020-09-19 09:57:49.688 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 09:57:49.688 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:57:49.688 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 09:57:49.688 +07:00 [ERR] Client mvc is not allowed access to scope mvcclient.home.
2020-09-19 09:57:49.688 +07:00 [ERR] Request validation failed
2020-09-19 09:57:49.689 +07:00 [INF] {"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile mvcclient.home","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DKic0U8RbntzGgUaWHZ_C0x3_nkdJbEA8IlDYSqGYo_UAIGArW7D3x9gHSEIPIcFXK-R9nZNa…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile mvcclient.home","code_challenge":"JOJhmEOhM1KiKsawALe4f7D7R-mJIVGOapaiIwj2Q7Y","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360810696738008.MjdiYjJmYjktNGU1My00ZTk4LTgwOGMtYjk5NDJlNzM1ODcwYzE2ZGFlMzgtZjEwMy00MGViLTk0Njgt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_DKic0U8RbntzGgUaWHZ_C0x3_nkdJbEA8IlDYSqGYo_UAIGArW7D3x9gHSEIPIcFXK-R9nZNa…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 09:57:49.690 +07:00 [INF] Request finished in 7.9145ms 302 
2020-09-19 09:57:49.694 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/home/error?errorId=CfDJ8H9fZSx1BlxCmY17EnGX2_DGFwcf2v1a3fpbt-jpEQS8-wBbwnU0XfsFk0g9zRmbX-hIDEQOYS2WOFHEs8DzR8L-NuDTJBcXCGBcZbTx3YotaeThZ8ZXM4X_Bj-XrOEm9PYyckIgP8Ah7Cl1u-Wecwf6vj0NAM0IoW9JylciR2LgVHUvVCA7G-DfGZanlNOJatxZafSfijXh02yX7NdDE0CxrSKsAgPzFASKo4m5hBuFlbyCW2o5rYz-rAfETu0kD1afu9uuKZ6BL3_5G7NsbH9yPVkGJWgkTNmC8mcC7PQ7mhVjirBBzK5rMcJovDHDHcNR9eE8TLlFFeUDfo8QWzDDkng4NSjhPsWZt7KXQgir5ZrxUldn5finEJkgSo8sQLpdcDV9_6GyY79MrPseVLVeaS9ZW51BUdYKAZ8nPfWJbz5vrBx_wHeAWOGKtIC2ae5bXXrQosvzTc4fxrBDtzQxoLUjoNQtFkl91XIvTHNiw-BUtzfEnbhqjHf2KKU5qjzMzTQWN4RGW7RVgZvtIZK58KhJh4fDRYvvOj1bVVIz1rF2jupSg_NyVmjZb5BYmWgmH8S9KrVVOuZeTq0Y-BbVYeU_V_0gyCCpXi_ekPVD6sIvbFHk7DrExcQtNYDW3hF7dQ9PSSDtzhggBIKUGoWX-_QbdjFO7jtnRjNbQpG6sFsyZczqlwPHiz-O6vLyF_yJUqDTzFWLwNv_tiA5ldB0WvjlLWQJly1KtRcYPf4701n_laKYjll_FqTWNZ56V5ruKn2ECbQxoYe1ZtL2BOXb6oJUAElXK0IVqXDryBZKtzscPvQ1BRjrRfrQ64z2RMV4tJRNptcrN610zqkWQUu9PoAH2KcmUthNeXaXj-VqYvB0SSm1WKKh7g41QgkqdwAKhjxopE91gKLrmrev0HTHBVq9cZrCw_WVvym7EOdniYWvqhQ7MVwTTRt_7wJmyxmeFR3Hjcl9uA_asbNYsobm7MFWcWyTiP7I4jIHcygwLciixh_B_ctepQ0l9CHkHH1FT70r8drLwFs2fQywMmk5_N3z0tppJdmIxJu8wVJZ  
2020-09-19 09:57:49.695 +07:00 [DBG] The request path /home/error does not match a supported file type
2020-09-19 09:57:49.696 +07:00 [DBG] 1 candidate(s) found for the request path '/home/error'
2020-09-19 09:57:49.696 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/home/error'
2020-09-19 09:57:49.696 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:57:49.696 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:57:49.696 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:57:49.696 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:57:49.697 +07:00 [INF] Route matched with {action = "Error", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String) on controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4).
2020-09-19 09:57:49.697 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-19 09:57:49.697 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 09:57:49.697 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:57:49.697 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 09:57:49.697 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:57:49.697 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 09:57:49.697 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 09:57:49.697 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' ...
2020-09-19 09:57:49.698 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' using the name 'errorId' in request data ...
2020-09-19 09:57:49.698 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 09:57:49.698 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 09:57:49.698 +07:00 [DBG] Attempting to validate the bound parameter 'errorId' of type 'System.String' ...
2020-09-19 09:57:49.698 +07:00 [DBG] Done attempting to validate the bound parameter 'errorId' of type 'System.String'.
2020-09-19 09:57:49.699 +07:00 [DBG] View lookup cache hit for view 'Error' in controller 'Home'.
2020-09-19 09:57:49.699 +07:00 [INF] Executing ViewResult, running view Error.
2020-09-19 09:57:49.699 +07:00 [DBG] The view path '/Views/Shared/Error.cshtml' was found in 0.3019ms.
2020-09-19 09:57:49.699 +07:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2020-09-19 09:57:49.701 +07:00 [DBG] View lookup cache hit for view '_Nav' in controller 'Home'.
2020-09-19 09:57:49.701 +07:00 [INF] Executed ViewResult - view Error executed in 2.7168ms.
2020-09-19 09:57:49.701 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4) in 4.5806ms
2020-09-19 09:57:49.702 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 09:57:49.702 +07:00 [INF] Request finished in 7.614ms 200 text/html; charset=utf-8
2020-09-19 09:58:17.749 +07:00 [INF] Starting host...
2020-09-19 09:58:17.982 +07:00 [DBG] Hosting starting
2020-09-19 09:58:17.998 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-19 09:58:18.007 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-19 09:58:18.011 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-19 09:58:18.012 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-19 09:58:18.012 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-19 09:58:18.016 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-19 09:58:18.018 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-19 09:58:18.018 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-19 09:58:18.019 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-19 09:58:18.025 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-19 09:58:18.032 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 09:58:18.034 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-19 09:58:18.035 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 09:58:18.037 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-19 09:58:18.039 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-19 09:58:18.042 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-19 09:58:18.042 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-19 09:58:18.048 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-19 09:58:18.053 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-19 09:58:18.055 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-19 09:58:18.055 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-19 09:58:18.055 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-19 09:58:18.055 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-19 09:58:18.055 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-19 09:58:18.055 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-19 09:58:18.107 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-19 09:58:18.107 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-19 09:58:18.107 +07:00 [INF] Hosting environment: Development
2020-09-19 09:58:18.107 +07:00 [INF] Content root path: D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4
2020-09-19 09:58:18.107 +07:00 [DBG] Hosting started
2020-09-19 09:58:18.122 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-19 09:58:18.125 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-19 09:58:18.126 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-19 09:58:18.142 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-19 09:58:18.143 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:58:18.154 +07:00 [DBG] Login Url: /Account/Login
2020-09-19 09:58:18.154 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-19 09:58:18.154 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-19 09:58:18.154 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-19 09:58:18.154 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-19 09:58:18.154 +07:00 [DBG] Error Url: /home/error
2020-09-19 09:58:18.154 +07:00 [DBG] Error Id Parameter: errorId
2020-09-19 09:58:18.157 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:58:18.161 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:58:18.164 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-19 09:58:18.165 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-19 09:58:18.165 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-19 09:58:18.166 +07:00 [DBG] Start discovery request
2020-09-19 09:58:18.200 +07:00 [INF] Request finished in 80.428ms 200 application/json; charset=UTF-8
2020-09-19 09:58:18.384 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-19 09:58:18.384 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-19 09:58:18.385 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-19 09:58:18.385 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:58:18.386 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:58:18.386 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:58:18.386 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-19 09:58:18.386 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-19 09:58:18.386 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-19 09:58:18.387 +07:00 [DBG] Start key discovery request
2020-09-19 09:58:18.395 +07:00 [INF] Request finished in 11.0208ms 200 application/json; charset=UTF-8
2020-09-19 09:58:18.432 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20mvcclient.home&code_challenge=qaUXWa8PxT3rLt_QGAZkWBw2FlvA4r0nuepRpM8Hggg&code_challenge_method=S256&response_mode=form_post&nonce=637360810984130372.MmVjOGVjOTEtMGI2MC00MTVlLTgyNjEtNDdjODZjM2MwNzNjYzQ1ZTM4ZTAtMzcxOS00MDY5LWI3NDYtNzkwZmJkZjkzYTA4&state=CfDJ8H9fZSx1BlxCmY17EnGX2_DhpuU9DXD52_0DSWnynsb4M04OzPyBqDvNCfN0WmbbXNew3zNjQLUSjLyWRP1NtHxi_OgUnqmFK7bxU_gP48CltWhsHTOvxLmn6sbyaL8ID1kC4-w775_yWbgSJaLX1VV80j7YqR9_ZkiA9SBqxtke9YA_fu-2Q62jvH85JBV4RZIm7ox2hLIrTgjqmjhnof9eHBz0O4Cr3w-p3vOuUfFBTPQwr5882dXtjq8hu__rQXDVaKzj_0xVd7CgXV6gKDEhtoRvZgP8Eo5fdp0Ggql0W7YfoE6qCZmZ9kJvEen0NGUCihh7ox8OYgz9JPxI7nCO8pyz763eG9WQCVOpsLpNGviDFralT51yOFZr_u0Orw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 09:58:18.432 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-19 09:58:18.432 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-19 09:58:18.433 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:58:18.437 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:58:18.439 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:58:18.440 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-19 09:58:18.443 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-19 09:58:18.443 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-19 09:58:18.445 +07:00 [DBG] Start authorize request
2020-09-19 09:58:18.447 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:58:18.448 +07:00 [DBG] No user present in authorize request
2020-09-19 09:58:18.449 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 09:58:18.456 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:58:18.463 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 09:58:18.476 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-19 09:58:18.484 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile mvcclient.home","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DhpuU9DXD52_0DSWnynsb4M04OzPyBqDvNCfN0WmbbXNew3zNjQLUSjLyWRP1NtHxi_OgUnqm…","UiLocales":null,"Nonce":"637360810984130372.MmVjOGVjOTEtMGI2MC00MTVlLTgyNjEtNDdjODZjM2MwNzNjYzQ1ZTM4ZTAtMzcxOS00MDY5LWI3NDYt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile mvcclient.home","code_challenge":"qaUXWa8PxT3rLt_QGAZkWBw2FlvA4r0nuepRpM8Hggg","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360810984130372.MmVjOGVjOTEtMGI2MC00MTVlLTgyNjEtNDdjODZjM2MwNzNjYzQ1ZTM4ZTAtMzcxOS00MDY5LWI3NDYt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_DhpuU9DXD52_0DSWnynsb4M04OzPyBqDvNCfN0WmbbXNew3zNjQLUSjLyWRP1NtHxi_OgUnqm…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 09:58:18.493 +07:00 [INF] Showing login: User is not authenticated
2020-09-19 09:58:18.495 +07:00 [INF] Request finished in 63.2939ms 302 
2020-09-19 09:58:18.499 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520mvcclient.home%26code_challenge%3DqaUXWa8PxT3rLt_QGAZkWBw2FlvA4r0nuepRpM8Hggg%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360810984130372.MmVjOGVjOTEtMGI2MC00MTVlLTgyNjEtNDdjODZjM2MwNzNjYzQ1ZTM4ZTAtMzcxOS00MDY5LWI3NDYtNzkwZmJkZjkzYTA4%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_DhpuU9DXD52_0DSWnynsb4M04OzPyBqDvNCfN0WmbbXNew3zNjQLUSjLyWRP1NtHxi_OgUnqmFK7bxU_gP48CltWhsHTOvxLmn6sbyaL8ID1kC4-w775_yWbgSJaLX1VV80j7YqR9_ZkiA9SBqxtke9YA_fu-2Q62jvH85JBV4RZIm7ox2hLIrTgjqmjhnof9eHBz0O4Cr3w-p3vOuUfFBTPQwr5882dXtjq8hu__rQXDVaKzj_0xVd7CgXV6gKDEhtoRvZgP8Eo5fdp0Ggql0W7YfoE6qCZmZ9kJvEen0NGUCihh7ox8OYgz9JPxI7nCO8pyz763eG9WQCVOpsLpNGviDFralT51yOFZr_u0Orw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-19 09:58:18.499 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-19 09:58:18.502 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-19 09:58:18.505 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-19 09:58:18.505 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 09:58:18.505 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:58:18.505 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:58:18.507 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 09:58:18.510 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-19 09:58:18.531 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-19 09:58:18.532 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-19 09:58:18.532 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 09:58:18.532 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:58:18.532 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 09:58:18.532 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:58:18.533 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-19 09:58:18.534 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-19 09:58:18.537 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-19 09:58:18.540 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-19 09:58:18.540 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-19 09:58:18.540 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-19 09:58:18.540 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-19 09:58:18.542 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-19 09:58:18.549 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:58:18.549 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 09:58:18.549 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:58:18.549 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 09:58:18.550 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-19 09:58:18.551 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:58:18.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-19 09:58:18.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-19 09:58:18.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-19 09:58:18.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-19 09:58:18.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-19 09:58:18.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-19 09:58:18.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-19 09:58:18.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-19 09:58:18.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-19 09:58:18.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-19 09:58:18.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-19 09:58:18.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-19 09:58:18.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-19 09:58:18.559 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-19 09:58:18.559 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-19 09:58:18.559 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-19 09:58:18.559 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-19 09:58:18.559 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-19 09:58:18.559 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-19 09:58:18.563 +07:00 [DBG] View lookup cache miss for view 'Login' in controller 'Account'.
2020-09-19 09:58:18.568 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-19 09:58:18.571 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 5.3324ms.
2020-09-19 09:58:18.589 +07:00 [DBG] View lookup cache miss for view '_ValidationSummary' in controller 'Account'.
2020-09-19 09:58:18.599 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-19 09:58:18.602 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-19 09:58:18.698 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2020-09-19 09:58:18.708 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Account'.
2020-09-19 09:58:18.716 +07:00 [INF] Executed ViewResult - view Login executed in 152.9036ms.
2020-09-19 09:58:18.716 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 183.8198ms
2020-09-19 09:58:18.716 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 09:58:18.718 +07:00 [INF] Request finished in 218.8614ms 200 text/html; charset=utf-8
2020-09-19 09:59:19.919 +07:00 [INF] Request starting HTTP/2.0 POST https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520mvcclient.home%26code_challenge%3DqaUXWa8PxT3rLt_QGAZkWBw2FlvA4r0nuepRpM8Hggg%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360810984130372.MmVjOGVjOTEtMGI2MC00MTVlLTgyNjEtNDdjODZjM2MwNzNjYzQ1ZTM4ZTAtMzcxOS00MDY5LWI3NDYtNzkwZmJkZjkzYTA4%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_DhpuU9DXD52_0DSWnynsb4M04OzPyBqDvNCfN0WmbbXNew3zNjQLUSjLyWRP1NtHxi_OgUnqmFK7bxU_gP48CltWhsHTOvxLmn6sbyaL8ID1kC4-w775_yWbgSJaLX1VV80j7YqR9_ZkiA9SBqxtke9YA_fu-2Q62jvH85JBV4RZIm7ox2hLIrTgjqmjhnof9eHBz0O4Cr3w-p3vOuUfFBTPQwr5882dXtjq8hu__rQXDVaKzj_0xVd7CgXV6gKDEhtoRvZgP8Eo5fdp0Ggql0W7YfoE6qCZmZ9kJvEen0NGUCihh7ox8OYgz9JPxI7nCO8pyz763eG9WQCVOpsLpNGviDFralT51yOFZr_u0Orw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 application/x-www-form-urlencoded 1152
2020-09-19 09:59:19.920 +07:00 [DBG] POST requests are not supported
2020-09-19 09:59:19.921 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-19 09:59:19.921 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-19 09:59:19.921 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 09:59:19.924 +07:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-19 09:59:19.924 +07:00 [INF] No CORS policy found for the specified request.
2020-09-19 09:59:19.924 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:59:19.925 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:59:19.925 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 09:59:19.930 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IdentityServerHost.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-19 09:59:19.930 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"]
2020-09-19 09:59:19.930 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 09:59:19.931 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:59:19.931 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 09:59:19.931 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 09:59:19.938 +07:00 [DBG] Antiforgery successfully validated a request.
2020-09-19 09:59:19.938 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-19 09:59:19.939 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-19 09:59:19.940 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-19 09:59:19.941 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' using the name '' in request data ...
2020-09-19 09:59:19.942 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String' using the name 'Username' in request data ...
2020-09-19 09:59:19.942 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String'.
2020-09-19 09:59:19.943 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String' using the name 'Password' in request data ...
2020-09-19 09:59:19.943 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String'.
2020-09-19 09:59:19.943 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean' using the name 'RememberLogin' in request data ...
2020-09-19 09:59:19.943 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean'.
2020-09-19 09:59:19.943 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String' using the name 'ReturnUrl' in request data ...
2020-09-19 09:59:19.943 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String'.
2020-09-19 09:59:19.943 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-19 09:59:19.944 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-19 09:59:19.944 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-19 09:59:19.947 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-19 09:59:19.948 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' ...
2020-09-19 09:59:19.948 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' using the name 'button' in request data ...
2020-09-19 09:59:19.948 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-19 09:59:19.948 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-19 09:59:19.948 +07:00 [DBG] Attempting to validate the bound parameter 'button' of type 'System.String' ...
2020-09-19 09:59:19.948 +07:00 [DBG] Done attempting to validate the bound parameter 'button' of type 'System.String'.
2020-09-19 09:59:19.950 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:59:19.950 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 09:59:19.951 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:59:19.952 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 09:59:19.953 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-19 09:59:19.960 +07:00 [DBG] Augmenting SignInContext
2020-09-19 09:59:19.961 +07:00 [DBG] Adding idp claim with value: local
2020-09-19 09:59:19.961 +07:00 [DBG] Adding amr claim with value: pwd
2020-09-19 09:59:19.961 +07:00 [DBG] Adding auth_time claim with value: 1600484359
2020-09-19 09:59:19.962 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:59:19.965 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-19 09:59:19.970 +07:00 [INF] Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20mvcclient.home&code_challenge=qaUXWa8PxT3rLt_QGAZkWBw2FlvA4r0nuepRpM8Hggg&code_challenge_method=S256&response_mode=form_post&nonce=637360810984130372.MmVjOGVjOTEtMGI2MC00MTVlLTgyNjEtNDdjODZjM2MwNzNjYzQ1ZTM4ZTAtMzcxOS00MDY5LWI3NDYtNzkwZmJkZjkzYTA4&state=CfDJ8H9fZSx1BlxCmY17EnGX2_DhpuU9DXD52_0DSWnynsb4M04OzPyBqDvNCfN0WmbbXNew3zNjQLUSjLyWRP1NtHxi_OgUnqmFK7bxU_gP48CltWhsHTOvxLmn6sbyaL8ID1kC4-w775_yWbgSJaLX1VV80j7YqR9_ZkiA9SBqxtke9YA_fu-2Q62jvH85JBV4RZIm7ox2hLIrTgjqmjhnof9eHBz0O4Cr3w-p3vOuUfFBTPQwr5882dXtjq8hu__rQXDVaKzj_0xVd7CgXV6gKDEhtoRvZgP8Eo5fdp0Ggql0W7YfoE6qCZmZ9kJvEen0NGUCihh7ox8OYgz9JPxI7nCO8pyz763eG9WQCVOpsLpNGviDFralT51yOFZr_u0Orw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0.
2020-09-19 09:59:19.972 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 40.7287ms
2020-09-19 09:59:19.972 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 09:59:19.974 +07:00 [INF] Request finished in 57.0422ms 302 
2020-09-19 09:59:19.978 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize/callback?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20mvcclient.home&code_challenge=qaUXWa8PxT3rLt_QGAZkWBw2FlvA4r0nuepRpM8Hggg&code_challenge_method=S256&response_mode=form_post&nonce=637360810984130372.MmVjOGVjOTEtMGI2MC00MTVlLTgyNjEtNDdjODZjM2MwNzNjYzQ1ZTM4ZTAtMzcxOS00MDY5LWI3NDYtNzkwZmJkZjkzYTA4&state=CfDJ8H9fZSx1BlxCmY17EnGX2_DhpuU9DXD52_0DSWnynsb4M04OzPyBqDvNCfN0WmbbXNew3zNjQLUSjLyWRP1NtHxi_OgUnqmFK7bxU_gP48CltWhsHTOvxLmn6sbyaL8ID1kC4-w775_yWbgSJaLX1VV80j7YqR9_ZkiA9SBqxtke9YA_fu-2Q62jvH85JBV4RZIm7ox2hLIrTgjqmjhnof9eHBz0O4Cr3w-p3vOuUfFBTPQwr5882dXtjq8hu__rQXDVaKzj_0xVd7CgXV6gKDEhtoRvZgP8Eo5fdp0Ggql0W7YfoE6qCZmZ9kJvEen0NGUCihh7ox8OYgz9JPxI7nCO8pyz763eG9WQCVOpsLpNGviDFralT51yOFZr_u0Orw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 09:59:19.978 +07:00 [DBG] The request path /connect/authorize/callback does not match a supported file type
2020-09-19 09:59:19.978 +07:00 [DBG] No candidates found for the request path '/connect/authorize/callback'
2020-09-19 09:59:19.978 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:59:19.979 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-19 09:59:19.979 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-19 09:59:19.980 +07:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-19 09:59:19.980 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-19 09:59:19.980 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-19 09:59:19.981 +07:00 [DBG] Start authorize callback request
2020-09-19 09:59:19.983 +07:00 [DBG] User in authorize request: 123456
2020-09-19 09:59:19.983 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 09:59:19.983 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:59:19.983 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 09:59:19.983 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-19 09:59:19.984 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile mvcclient.home","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DhpuU9DXD52_0DSWnynsb4M04OzPyBqDvNCfN0WmbbXNew3zNjQLUSjLyWRP1NtHxi_OgUnqm…","UiLocales":null,"Nonce":"637360810984130372.MmVjOGVjOTEtMGI2MC00MTVlLTgyNjEtNDdjODZjM2MwNzNjYzQ1ZTM4ZTAtMzcxOS00MDY5LWI3NDYt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"230023EBCC3362499E5EF116C93A8A3D","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile mvcclient.home","code_challenge":"qaUXWa8PxT3rLt_QGAZkWBw2FlvA4r0nuepRpM8Hggg","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360810984130372.MmVjOGVjOTEtMGI2MC00MTVlLTgyNjEtNDdjODZjM2MwNzNjYzQ1ZTM4ZTAtMzcxOS00MDY5LWI3NDYt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_DhpuU9DXD52_0DSWnynsb4M04OzPyBqDvNCfN0WmbbXNew3zNjQLUSjLyWRP1NtHxi_OgUnqm…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 09:59:19.991 +07:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-19 09:59:19.993 +07:00 [DBG] Creating Authorization Code Flow response.
2020-09-19 09:59:20.054 +07:00 [DBG] Authorize endpoint response
{"SubjectId":"123456","ClientId":"mvc","RedirectUri":"https://localhost:44388/signin-oidc","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DhpuU9DXD52_0DSWnynsb4M04OzPyBqDvNCfN0WmbbXNew3zNjQLUSjLyWRP1NtHxi_OgUnqm…","Scope":"openid profile mvcclient.home","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-19 09:59:20.057 +07:00 [DBG] Augmenting SignInContext
2020-09-19 09:59:20.058 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-19 09:59:20.060 +07:00 [INF] Request finished in 81.8762ms 200 text/html; charset=UTF-8
2020-09-19 09:59:20.308 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44313/connect/token application/x-www-form-urlencoded 251
2020-09-19 09:59:20.309 +07:00 [DBG] POST requests are not supported
2020-09-19 09:59:20.310 +07:00 [DBG] No candidates found for the request path '/connect/token'
2020-09-19 09:59:20.310 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:59:20.311 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:59:20.311 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:59:20.312 +07:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-19 09:59:20.314 +07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-19 09:59:20.314 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-19 09:59:20.316 +07:00 [DBG] Start token request.
2020-09-19 09:59:20.318 +07:00 [DBG] Start client validation
2020-09-19 09:59:20.326 +07:00 [DBG] Start parsing Basic Authentication secret
2020-09-19 09:59:20.327 +07:00 [DBG] Start parsing for secret in post body
2020-09-19 09:59:20.328 +07:00 [DBG] Parser found secret: PostBodySecretParser
2020-09-19 09:59:20.328 +07:00 [DBG] Secret id found: mvc
2020-09-19 09:59:20.328 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:59:20.347 +07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2020-09-19 09:59:20.347 +07:00 [DBG] Client validation success
2020-09-19 09:59:20.348 +07:00 [DBG] Start token request validation
2020-09-19 09:59:20.352 +07:00 [DBG] Start validation of authorization code token request
2020-09-19 09:59:20.375 +07:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-09-19 09:59:20.376 +07:00 [DBG] Validation of authorization code token request success
2020-09-19 09:59:20.378 +07:00 [INF] Token request validation success, {"ClientId":"mvc","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"293B451EAA502D2A7DC143A1AB43094185A2382C9EB4B2FB007337540BB8210F","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"mvc","client_secret":"***REDACTED***","code":"293B451EAA502D2A7DC143A1AB43094185A2382C9EB4B2FB007337540BB8210F","grant_type":"authorization_code","redirect_uri":"https://localhost:44388/signin-oidc","code_verifier":"IJ305IVFt5kZt62tKR3pH31dv8L71HunqWPfwiyqayE"},"$type":"TokenRequestValidationLog"}
2020-09-19 09:59:20.382 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:59:20.392 +07:00 [DBG] Getting claims for access token for client: mvc
2020-09-19 09:59:20.392 +07:00 [DBG] Getting claims for access token for subject: 123456
2020-09-19 09:59:20.540 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:59:20.545 +07:00 [DBG] Getting claims for identity token for subject: 123456 and client: mvc
2020-09-19 09:59:20.545 +07:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-09-19 09:59:20.547 +07:00 [DBG] Token request success.
2020-09-19 09:59:20.552 +07:00 [INF] Request finished in 243.9636ms 200 application/json; charset=UTF-8
2020-09-19 09:59:20.736 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/connect/userinfo  
2020-09-19 09:59:20.736 +07:00 [DBG] The request path /connect/userinfo does not match a supported file type
2020-09-19 09:59:20.737 +07:00 [DBG] No candidates found for the request path '/connect/userinfo'
2020-09-19 09:59:20.737 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:59:20.737 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:59:20.737 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:59:20.737 +07:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2020-09-19 09:59:20.738 +07:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2020-09-19 09:59:20.738 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-09-19 09:59:20.739 +07:00 [DBG] Start userinfo request
2020-09-19 09:59:20.740 +07:00 [DBG] Bearer token found in header
2020-09-19 09:59:20.778 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:59:20.779 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 09:59:20.780 +07:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-09-19 09:59:20.781 +07:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"360A7020DFA1769E0AB2F4515A584701","Claims":{"nbf":1600484360,"exp":1600487960,"iss":"https://localhost:44313","aud":"mvcclient","client_id":"mvc","sub":"123456","auth_time":1600484359,"idp":"local","mvcclient.home.privacy":"{\"ids\"}: [1,2,3,4]","jti":"360A7020DFA1769E0AB2F4515A584701"},"$type":"TokenValidationLog"}
2020-09-19 09:59:20.783 +07:00 [DBG] Creating userinfo response
2020-09-19 09:59:20.784 +07:00 [DBG] Scopes in access token: openid profile mvcclient.home
2020-09-19 09:59:20.786 +07:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2020-09-19 09:59:20.788 +07:00 [INF] Profile service returned the following claim types: mvcclient.home.privacy
2020-09-19 09:59:20.788 +07:00 [DBG] End userinfo request
2020-09-19 09:59:20.789 +07:00 [INF] Request finished in 52.9092ms 200 application/json; charset=UTF-8
2020-09-19 09:59:47.922 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-19 09:59:47.922 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-19 09:59:47.922 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-19 09:59:47.922 +07:00 [DBG] Request did not match any endpoints
2020-09-19 09:59:47.923 +07:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2020-09-19 09:59:47.924 +07:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2020-09-19 09:59:47.924 +07:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2020-09-19 09:59:47.924 +07:00 [INF] No CORS policy found for the specified request.
2020-09-19 09:59:47.924 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:59:47.925 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 09:59:47.925 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-19 09:59:47.925 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-19 09:59:47.925 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-19 09:59:47.925 +07:00 [DBG] Start discovery request
2020-09-19 09:59:47.926 +07:00 [INF] Request finished in 4.7144ms 200 application/json; charset=UTF-8
2020-09-19 10:00:18.169 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:BackChannelLogoutClient'
2020-09-19 10:00:18.450 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:JwtRequestUriClient'
2020-09-19 10:00:28.191 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:00:28.210 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 8.8927ms - processed: 0 items - remaining: 2 items
2020-09-19 10:00:38.214 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:00:38.214 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0098ms - processed: 0 items - remaining: 2 items
2020-09-19 10:00:48.216 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:00:48.216 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0223ms - processed: 0 items - remaining: 2 items
2020-09-19 10:00:58.219 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:00:58.220 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0272ms - processed: 0 items - remaining: 2 items
2020-09-19 10:01:08.222 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:01:08.222 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
2020-09-19 10:01:18.223 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:01:18.224 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0235ms - processed: 0 items - remaining: 2 items
2020-09-19 10:01:28.227 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:01:28.227 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 2 items
2020-09-19 10:01:38.228 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:01:38.228 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
2020-09-19 10:01:48.228 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:01:48.229 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 2 items
2020-09-19 10:01:58.230 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:01:58.230 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 2 items
2020-09-19 10:02:08.242 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:02:08.242 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 2 items
2020-09-19 10:02:18.243 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:02:18.243 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 2 items
2020-09-19 10:02:28.243 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:02:28.243 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0154ms - processed: 0 items - remaining: 2 items
2020-09-19 10:02:38.244 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:02:38.245 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 2 items
2020-09-19 10:02:48.245 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:02:48.245 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.025ms - processed: 0 items - remaining: 2 items
2020-09-19 10:02:58.246 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:02:58.246 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
2020-09-19 10:03:08.247 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:03:08.247 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 2 items
2020-09-19 10:03:18.247 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:03:18.248 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 2 items
2020-09-19 10:03:28.248 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:03:28.248 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
2020-09-19 10:03:38.249 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:03:38.249 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
2020-09-19 10:03:48.251 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:03:48.251 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 2 items
2020-09-19 10:03:58.252 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:03:58.252 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 2 items
2020-09-19 10:04:08.259 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:04:08.259 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1658ms - processed: 2 items - remaining: 0 items
2020-09-19 10:11:34.862 +07:00 [INF] Starting host...
2020-09-19 10:11:35.099 +07:00 [DBG] Hosting starting
2020-09-19 10:11:35.114 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-19 10:11:35.122 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-19 10:11:35.127 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-19 10:11:35.127 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-19 10:11:35.127 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-19 10:11:35.131 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-19 10:11:35.134 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-19 10:11:35.134 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-19 10:11:35.134 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-19 10:11:35.140 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-19 10:11:35.147 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 10:11:35.149 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-19 10:11:35.151 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 10:11:35.154 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-19 10:11:35.156 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-19 10:11:35.159 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-19 10:11:35.159 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-19 10:11:35.165 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-19 10:11:35.170 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-19 10:11:35.172 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-19 10:11:35.172 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-19 10:11:35.172 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-19 10:11:35.172 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-19 10:11:35.173 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-19 10:11:35.173 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-19 10:11:35.227 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-19 10:11:35.227 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-19 10:11:35.227 +07:00 [INF] Hosting environment: Development
2020-09-19 10:11:35.227 +07:00 [INF] Content root path: D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4
2020-09-19 10:11:35.227 +07:00 [DBG] Hosting started
2020-09-19 10:11:35.242 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-19 10:11:35.243 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-19 10:11:35.244 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-19 10:11:35.260 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-19 10:11:35.261 +07:00 [DBG] Request did not match any endpoints
2020-09-19 10:11:35.272 +07:00 [DBG] Login Url: /Account/Login
2020-09-19 10:11:35.272 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-19 10:11:35.272 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-19 10:11:35.272 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-19 10:11:35.272 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-19 10:11:35.272 +07:00 [DBG] Error Url: /home/error
2020-09-19 10:11:35.272 +07:00 [DBG] Error Id Parameter: errorId
2020-09-19 10:11:35.275 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:11:35.279 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:11:35.282 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-19 10:11:35.283 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-19 10:11:35.283 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-19 10:11:35.284 +07:00 [DBG] Start discovery request
2020-09-19 10:11:35.317 +07:00 [INF] Request finished in 76.7561ms 200 application/json; charset=UTF-8
2020-09-19 10:11:35.488 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-19 10:11:35.488 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-19 10:11:35.490 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-19 10:11:35.491 +07:00 [DBG] Request did not match any endpoints
2020-09-19 10:11:35.492 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:11:35.492 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:11:35.492 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-19 10:11:35.493 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-19 10:11:35.493 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-19 10:11:35.494 +07:00 [DBG] Start key discovery request
2020-09-19 10:11:35.502 +07:00 [INF] Request finished in 14.6737ms 200 application/json; charset=UTF-8
2020-09-19 10:11:35.840 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20mvcclient.home&response_mode=form_post&nonce=637360818955251793.MGJiZjU2MjYtZWMyOC00Y2NiLTlkM2EtMmNlNTY0NWNiOWRkZmY3MTRhYzktYzhlMy00YTI5LThhNDItZjU3YTQwN2QzNTBh&state=CfDJ8H9fZSx1BlxCmY17EnGX2_DTpk6BAm2CVPFIMhNX_gtbmYpPMxJMCzAxhynlNqigU6h7z2uKH2VWAcN57Di55ZjktXn_GdFGWFVfmnODRZ4_HvBAkp4HvnYMtQZMFO75BEtkkXXwzizPXE7va0HlAycFCVM6fOsXwRwrjYRUAhnWTRANctKsJ5coUJFoRda7HBL9kPFmUe2ylyRUlCR80fI1b7VVxjh11gDOh9K98gEp2gHIi6rYwVqyKeVmt9ickFoOAyMoZDNXMFUmKZo5i9ITXE3rebI4agq4u-m4bVLt&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 10:11:35.840 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-19 10:11:35.840 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-19 10:11:35.841 +07:00 [DBG] Request did not match any endpoints
2020-09-19 10:11:35.845 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:11:35.846 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:11:35.846 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-19 10:11:35.851 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-19 10:11:35.851 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-19 10:11:35.852 +07:00 [DBG] Start authorize request
2020-09-19 10:11:35.854 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:11:35.855 +07:00 [DBG] No user present in authorize request
2020-09-19 10:11:35.856 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 10:11:35.864 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 10:11:35.870 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 10:11:35.879 +07:00 [ERR] code_challenge is missing
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code id_token","ResponseMode":"fragment","GrantType":"hybrid","RequestedScopes":"","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DTpk6BAm2CVPFIMhNX_gtbmYpPMxJMCzAxhynlNqigU6h7z2uKH2VWAcN57Di55ZjktXn_GdF…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code id_token","scope":"openid profile mvcclient.home","response_mode":"form_post","nonce":"637360818955251793.MGJiZjU2MjYtZWMyOC00Y2NiLTlkM2EtMmNlNTY0NWNiOWRkZmY3MTRhYzktYzhlMy00YTI5LThhNDIt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_DTpk6BAm2CVPFIMhNX_gtbmYpPMxJMCzAxhynlNqigU6h7z2uKH2VWAcN57Di55ZjktXn_GdF…","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 10:11:35.885 +07:00 [ERR] Request validation failed
2020-09-19 10:11:35.886 +07:00 [INF] {"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code id_token","ResponseMode":"fragment","GrantType":"hybrid","RequestedScopes":"","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DTpk6BAm2CVPFIMhNX_gtbmYpPMxJMCzAxhynlNqigU6h7z2uKH2VWAcN57Di55ZjktXn_GdF…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code id_token","scope":"openid profile mvcclient.home","response_mode":"form_post","nonce":"637360818955251793.MGJiZjU2MjYtZWMyOC00Y2NiLTlkM2EtMmNlNTY0NWNiOWRkZmY3MTRhYzktYzhlMy00YTI5LThhNDIt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_DTpk6BAm2CVPFIMhNX_gtbmYpPMxJMCzAxhynlNqigU6h7z2uKH2VWAcN57Di55ZjktXn_GdF…","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 10:11:35.896 +07:00 [INF] Request finished in 56.0817ms 302 
2020-09-19 10:11:35.900 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/home/error?errorId=CfDJ8H9fZSx1BlxCmY17EnGX2_C2ZmDiFLb8CV9KoPNnSmBrKVBbRDFDxIspOZANJ881ESNDF7MTOKralxeDyWn0aXktwgpdKB8awMuGWcY9C3abhqNtV2Noo7awYlTe4aGwELYaLUy0bD-BLEI52xJjD90jUkhe-ZWhZtWC8IAFAw3R4CeKaUMxup2rLI0_jEc1JcLB4GM-wVTWuyDcgU5QLqpccNBxXPhk4yOY40god7KAQ3NX1WO5XnLk4oCrJRzN47X_tlk9BogfxsjjVuDv1I7-FlUcjvBSXaMwM4tH3uDsWrlXfspTM_K4utTqqjTeq3X94mM2-oEjKWSo8T8byeKkr0BYqQi2-gbHrnUrteYMZmoo-NvZRwC9R3hS39AZOCkEcyBhEKF6JVAtyEx86Bwx5Z1_Pws055DerE8N597ymXCot0zEjvqhY4gvtFABYhO7kkwLOTHhmoC6BbjeNyXQ5MtIqi6GxjdP9hB9LFLCaQYdIjdz3XGBlN-54bkY6DJ3qX1kkaXyjYyNOaeWLFejni6io_zEUwoSJLs9QtFCB3a9RWRY5p0QES8734lGeQ4NCj0C5SDMIVorc9efyF9GiA2eERtGwoXKTrQr78xkovPCpkC41Q9f06nTUIwVY9Ve9iDeYFEvIipowF6oylmK6FQBAyyDCWpZla7U5__5pySVw-bxDZvdA94jMVIF3wp2ca4YlMqXn4dT19zQJfN-oSE_EJh7djjVQ5BGDAfBa5Y772XcAcR1sAmxuL0eHjBsN_rAVlX70KsfzTCkCJLKHbYTRNRPhHHzI9lc7S0UEQfuYIKjm4p_e03rnU_l1G3QWmV_0cP2ksfKZbGr_8qCGDAi75DLr_X5kYzlg2UFlfOTh3LQxmsOzFuHNuLYI8EDx5uwSKesgJ8n96cYXV_PeDY143b7LGipbn6BK4IAykS5I0DghnnzTk59o-2binwItEi2H8xSMJNyxN0aZmM  
2020-09-19 10:11:35.900 +07:00 [DBG] The request path /home/error does not match a supported file type
2020-09-19 10:11:35.903 +07:00 [DBG] 1 candidate(s) found for the request path '/home/error'
2020-09-19 10:11:35.905 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/home/error'
2020-09-19 10:11:35.906 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 10:11:35.906 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:11:35.906 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:11:35.907 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 10:11:35.911 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-19 10:11:35.931 +07:00 [INF] Route matched with {action = "Error", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String) on controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4).
2020-09-19 10:11:35.931 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-19 10:11:35.932 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 10:11:35.932 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 10:11:35.932 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 10:11:35.932 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 10:11:35.933 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 10:11:35.933 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 10:11:35.936 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' ...
2020-09-19 10:11:35.938 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' using the name 'errorId' in request data ...
2020-09-19 10:11:35.938 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 10:11:35.938 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 10:11:35.938 +07:00 [DBG] Attempting to validate the bound parameter 'errorId' of type 'System.String' ...
2020-09-19 10:11:35.940 +07:00 [DBG] Done attempting to validate the bound parameter 'errorId' of type 'System.String'.
2020-09-19 10:11:35.950 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-19 10:11:35.950 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-19 10:11:35.950 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-19 10:11:35.950 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-19 10:11:35.950 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-19 10:11:35.950 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-19 10:11:35.950 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-19 10:11:35.950 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-19 10:11:35.950 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-19 10:11:35.950 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-19 10:11:35.950 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-19 10:11:35.950 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-19 10:11:35.950 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-19 10:11:35.950 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-19 10:11:35.951 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-19 10:11:35.951 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-19 10:11:35.951 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-19 10:11:35.951 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-19 10:11:35.951 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-19 10:11:35.955 +07:00 [DBG] View lookup cache miss for view 'Error' in controller 'Home'.
2020-09-19 10:11:35.960 +07:00 [INF] Executing ViewResult, running view Error.
2020-09-19 10:11:35.963 +07:00 [DBG] The view path '/Views/Shared/Error.cshtml' was found in 5.6286ms.
2020-09-19 10:11:35.978 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2020-09-19 10:11:35.993 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Home'.
2020-09-19 10:11:36.002 +07:00 [INF] Executed ViewResult - view Error executed in 47.5795ms.
2020-09-19 10:11:36.002 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4) in 70.4228ms
2020-09-19 10:11:36.003 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 10:11:36.004 +07:00 [INF] Request finished in 104.6957ms 200 text/html; charset=utf-8
2020-09-19 10:12:53.326 +07:00 [INF] Starting host...
2020-09-19 10:12:53.537 +07:00 [DBG] Hosting starting
2020-09-19 10:12:53.554 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-19 10:12:53.564 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-19 10:12:53.571 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-19 10:12:53.572 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-19 10:12:53.572 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-19 10:12:53.576 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-19 10:12:53.579 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-19 10:12:53.579 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-19 10:12:53.579 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-19 10:12:53.585 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-19 10:12:53.594 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 10:12:53.595 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-19 10:12:53.596 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 10:12:53.599 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-19 10:12:53.601 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-19 10:12:53.603 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-19 10:12:53.604 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-19 10:12:53.611 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-19 10:12:53.616 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-19 10:12:53.619 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-19 10:12:53.619 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-19 10:12:53.620 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-19 10:12:53.620 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-19 10:12:53.620 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-19 10:12:53.620 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-19 10:12:53.672 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-19 10:12:53.672 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-19 10:12:53.673 +07:00 [INF] Hosting environment: Development
2020-09-19 10:12:53.673 +07:00 [INF] Content root path: D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4
2020-09-19 10:12:53.673 +07:00 [DBG] Hosting started
2020-09-19 10:12:53.687 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-19 10:12:53.689 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-19 10:12:53.690 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-19 10:12:53.706 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-19 10:12:53.706 +07:00 [DBG] Request did not match any endpoints
2020-09-19 10:12:53.718 +07:00 [DBG] Login Url: /Account/Login
2020-09-19 10:12:53.718 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-19 10:12:53.718 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-19 10:12:53.718 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-19 10:12:53.718 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-19 10:12:53.718 +07:00 [DBG] Error Url: /home/error
2020-09-19 10:12:53.718 +07:00 [DBG] Error Id Parameter: errorId
2020-09-19 10:12:53.721 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:12:53.725 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:12:53.728 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-19 10:12:53.729 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-19 10:12:53.729 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-19 10:12:53.730 +07:00 [DBG] Start discovery request
2020-09-19 10:12:53.767 +07:00 [INF] Request finished in 82.0601ms 200 application/json; charset=UTF-8
2020-09-19 10:12:53.944 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-19 10:12:53.945 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-19 10:12:53.946 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-19 10:12:53.947 +07:00 [DBG] Request did not match any endpoints
2020-09-19 10:12:53.947 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:12:53.948 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:12:53.948 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-19 10:12:53.948 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-19 10:12:53.948 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-19 10:12:53.949 +07:00 [DBG] Start key discovery request
2020-09-19 10:12:53.957 +07:00 [INF] Request finished in 13.6289ms 200 application/json; charset=UTF-8
2020-09-19 10:12:54.305 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20mvcclient.home&response_mode=form_post&nonce=637360819739808372.N2ZiNDg3MDktY2E4Yy00YWM0LWE4OWQtMjJjY2ZmYzI5Mjk3NmI2YjNlZjMtYmI5YS00ODA4LWEyMWQtMzQ0YWNmODkyYzUx&state=CfDJ8H9fZSx1BlxCmY17EnGX2_DAnTqmAEMdT-bw-qOAQZaP6X7T1-uaYDQGkOt34X2NSDWFMYB9ehtNtxWgxK5VmFK8-k4X3p4MxGbuQcARa2J_j1jr2SGGZnLOevCjU5W5jcnBLDw10qttAU0g1CvRFwvTFBXwN1pcZylygXPqGpFZQa7FiF_9NR3kvALe6b56ioE5zaBR1UXGjcY_gHhPrs2d8-qkDrNukCv7Zx4dh4oiebCEtU0fBHWE8Ps5fyrcuYJAdF_eanRL_JVqWjoUCNgL8UFz-zkmbbX3oCxnllDJ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 10:12:54.305 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-19 10:12:54.305 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-19 10:12:54.305 +07:00 [DBG] Request did not match any endpoints
2020-09-19 10:12:54.309 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:12:54.311 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:12:54.311 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-19 10:12:54.315 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-19 10:12:54.315 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-19 10:12:54.316 +07:00 [DBG] Start authorize request
2020-09-19 10:12:54.318 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:12:54.320 +07:00 [DBG] No user present in authorize request
2020-09-19 10:12:54.321 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 10:12:54.328 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 10:12:54.335 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 10:12:54.343 +07:00 [ERR] code_challenge is missing
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code id_token","ResponseMode":"fragment","GrantType":"hybrid","RequestedScopes":"","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DAnTqmAEMdT-bw-qOAQZaP6X7T1-uaYDQGkOt34X2NSDWFMYB9ehtNtxWgxK5VmFK8-k4X3p4…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code id_token","scope":"openid profile mvcclient.home","response_mode":"form_post","nonce":"637360819739808372.N2ZiNDg3MDktY2E4Yy00YWM0LWE4OWQtMjJjY2ZmYzI5Mjk3NmI2YjNlZjMtYmI5YS00ODA4LWEyMWQt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_DAnTqmAEMdT-bw-qOAQZaP6X7T1-uaYDQGkOt34X2NSDWFMYB9ehtNtxWgxK5VmFK8-k4X3p4…","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 10:12:54.350 +07:00 [ERR] Request validation failed
2020-09-19 10:12:54.350 +07:00 [INF] {"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code id_token","ResponseMode":"fragment","GrantType":"hybrid","RequestedScopes":"","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DAnTqmAEMdT-bw-qOAQZaP6X7T1-uaYDQGkOt34X2NSDWFMYB9ehtNtxWgxK5VmFK8-k4X3p4…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code id_token","scope":"openid profile mvcclient.home","response_mode":"form_post","nonce":"637360819739808372.N2ZiNDg3MDktY2E4Yy00YWM0LWE4OWQtMjJjY2ZmYzI5Mjk3NmI2YjNlZjMtYmI5YS00ODA4LWEyMWQt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_DAnTqmAEMdT-bw-qOAQZaP6X7T1-uaYDQGkOt34X2NSDWFMYB9ehtNtxWgxK5VmFK8-k4X3p4…","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 10:12:54.361 +07:00 [INF] Request finished in 56.3389ms 302 
2020-09-19 10:12:54.365 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/home/error?errorId=CfDJ8H9fZSx1BlxCmY17EnGX2_DzWPm6HnVvs30Ram42wIcrtcw7tJAN5YP0wGUCgRurr1eon722LcrGffXFUBhfiq3tBsFganw4aSsYsYchZunqhIWFRIJme2j1U90NZVoz49D8gMSN6wasv2sI0p52etW8KoZ0yY8Vx8KOkvapaftf7DRXxrOgUiS_vOpemOtAx3JbyA4AKdMyT8eOH7gnQ1BHq2EOKCeoJc2a3DN9C7Mt78Jk52FPNX9bXBxsgoZdBFSwzZwVw6SMiXZi00gfPtz9Lx3FGjdISIOh0VsE8miDIIhiYx1wrGEyivIXQ_O1SDL-BWLnjahhJnxbJIWX3cuY3o7AJt24hTWf6aZrkTEmNPXS5L4d63PgFyurZcYB6Fe3thLLgCeR3wyUxRnsvm2z0zWUQ8JssJ95i3ObQBa8udoWqC5QWtA4UGdvi4ryL5SCty1ZDRQKWS64XEqx94kLfl5DdJXgjTPIUz6AuutkIhvgIpQ2Nd35d-C5ftbb1IPPvjsNa-yK7CGt4mkhDoQw384sASdEMMh8HM8I4XoAvRyDdyWui_aWCEkcdN43ffJP4j07SgqqmxjkDfkiJkaf17ks7M2FuHt_CP86GA5L23GUUBrPnNrUt5ak5Oefccw5RNOKA36w1-OmiZmsJxJuxlqiMrFp4xVR4faxoo-9xjU6KvaViiC-xxfEEJ9lhYuVTSXwgfJNS_TzJJA1LAVG-wPOXlbBYuyVT4aYNdGu4gdYIPMtdQDMaE-GkEKK6lKKcxmlLxYEoopmF4Gt0wZpM5f2CvKd4d0C2-REdd293IjsU0o401Y75Bbhq1VP6KdnK6qEbIKdwiAfhL1i32M9GOS0LR1wQgNcViCmDZsNO83tneOqZNqor2olVzdRJUCBMXynIGhgL-RWawoeZs3myMvIXR7nXmeKYIZ1fuTGTWxgFDqe3SJBj5J4T3QHcsMBIlii7xKTd6NVd2836zg  
2020-09-19 10:12:54.365 +07:00 [DBG] The request path /home/error does not match a supported file type
2020-09-19 10:12:54.369 +07:00 [DBG] 1 candidate(s) found for the request path '/home/error'
2020-09-19 10:12:54.372 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/home/error'
2020-09-19 10:12:54.373 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 10:12:54.373 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:12:54.373 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:12:54.374 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 10:12:54.378 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-19 10:12:54.429 +07:00 [INF] Route matched with {action = "Error", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String) on controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4).
2020-09-19 10:12:54.430 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-19 10:12:54.430 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 10:12:54.430 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 10:12:54.430 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 10:12:54.430 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 10:12:54.430 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 10:12:54.431 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 10:12:54.435 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' ...
2020-09-19 10:12:54.437 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' using the name 'errorId' in request data ...
2020-09-19 10:12:54.438 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 10:12:54.438 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 10:12:54.438 +07:00 [DBG] Attempting to validate the bound parameter 'errorId' of type 'System.String' ...
2020-09-19 10:12:54.439 +07:00 [DBG] Done attempting to validate the bound parameter 'errorId' of type 'System.String'.
2020-09-19 10:12:54.448 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-19 10:12:54.448 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-19 10:12:54.448 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-19 10:12:54.448 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-19 10:12:54.448 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-19 10:12:54.448 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-19 10:12:54.449 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-19 10:12:54.449 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-19 10:12:54.449 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-19 10:12:54.449 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-19 10:12:54.449 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-19 10:12:54.449 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-19 10:12:54.449 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-19 10:12:54.449 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-19 10:12:54.449 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-19 10:12:54.449 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-19 10:12:54.449 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-19 10:12:54.449 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-19 10:12:54.449 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-19 10:12:54.454 +07:00 [DBG] View lookup cache miss for view 'Error' in controller 'Home'.
2020-09-19 10:12:54.459 +07:00 [INF] Executing ViewResult, running view Error.
2020-09-19 10:12:54.462 +07:00 [DBG] The view path '/Views/Shared/Error.cshtml' was found in 5.3412ms.
2020-09-19 10:12:54.476 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2020-09-19 10:12:54.489 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Home'.
2020-09-19 10:12:54.497 +07:00 [INF] Executed ViewResult - view Error executed in 42.7892ms.
2020-09-19 10:12:54.497 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4) in 66.9677ms
2020-09-19 10:12:54.497 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 10:12:54.499 +07:00 [INF] Request finished in 133.3993ms 200 text/html; charset=utf-8
2020-09-19 10:14:53.722 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:BackChannelLogoutClient'
2020-09-19 10:14:54.323 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:JwtRequestUriClient'
2020-09-19 10:15:03.734 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:15:03.737 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0301ms - processed: 0 items - remaining: 2 items
2020-09-19 10:15:13.747 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:15:13.747 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2020-09-19 10:15:23.749 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:15:23.749 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 2 items
2020-09-19 10:15:33.762 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:15:33.763 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 2 items
2020-09-19 10:15:43.764 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:15:43.764 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2020-09-19 10:15:53.765 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:15:53.765 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
2020-09-19 10:16:03.766 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:16:03.767 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 2 items
2020-09-19 10:16:13.768 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:16:13.768 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 2 items
2020-09-19 10:16:23.769 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:16:23.770 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2020-09-19 10:16:33.779 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:16:33.780 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0198ms - processed: 0 items - remaining: 2 items
2020-09-19 10:16:43.781 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:16:43.781 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0192ms - processed: 0 items - remaining: 2 items
2020-09-19 10:16:53.782 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:16:53.782 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 2 items
2020-09-19 10:17:03.788 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:17:03.789 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0222ms - processed: 0 items - remaining: 2 items
2020-09-19 10:17:12.742 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code%20id_token&scope=openid%20profile%20mvcclient.home&response_mode=form_post&nonce=637360822324339026.YzUzZjFmMDEtYzI2YS00NDI5LWE5YTktZGVkYzI2Njk0MGI1MzllYzkzNjctMzZjYi00NmRmLTlkNTYtYWU1ODJiZjA2M2Ez&state=CfDJ8H9fZSx1BlxCmY17EnGX2_CI87sfBmfQpck67Q_THIC65TlazXVu5CorOpAbLeBA5rcEvz1JfVhxezDRnje0rSiFm3Sr-QSXGEjF-ideusZSVGZ1FZtJly8wEZ-azvaLXuFOZmhteZP08YsOFmsiRCPmiFLP9Hz782rNZe_nrMEfppvNk2uNu6EOpGpq2asPA-vE1PITH0ZEgucj1gVPbOj54-7vYxjMi16_h7V4O97cQZpJhl9gl5tIftuVDhmgpH8Qzw5QfMT7w7xykeSFivVbREGhSOGNRXy2zLa8Jo6C&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 10:17:12.742 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-19 10:17:12.742 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-19 10:17:12.742 +07:00 [DBG] Request did not match any endpoints
2020-09-19 10:17:12.765 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:12.766 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:12.766 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-19 10:17:12.766 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-19 10:17:12.766 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-19 10:17:12.766 +07:00 [DBG] Start authorize request
2020-09-19 10:17:12.766 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:12.766 +07:00 [DBG] No user present in authorize request
2020-09-19 10:17:12.766 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 10:17:12.767 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 10:17:12.767 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 10:17:12.767 +07:00 [ERR] code_challenge is missing
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code id_token","ResponseMode":"fragment","GrantType":"hybrid","RequestedScopes":"","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_CI87sfBmfQpck67Q_THIC65TlazXVu5CorOpAbLeBA5rcEvz1JfVhxezDRnje0rSiFm3Sr-QS…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code id_token","scope":"openid profile mvcclient.home","response_mode":"form_post","nonce":"637360822324339026.YzUzZjFmMDEtYzI2YS00NDI5LWE5YTktZGVkYzI2Njk0MGI1MzllYzkzNjctMzZjYi00NmRmLTlkNTYt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_CI87sfBmfQpck67Q_THIC65TlazXVu5CorOpAbLeBA5rcEvz1JfVhxezDRnje0rSiFm3Sr-QS…","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 10:17:12.767 +07:00 [ERR] Request validation failed
2020-09-19 10:17:12.767 +07:00 [INF] {"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code id_token","ResponseMode":"fragment","GrantType":"hybrid","RequestedScopes":"","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_CI87sfBmfQpck67Q_THIC65TlazXVu5CorOpAbLeBA5rcEvz1JfVhxezDRnje0rSiFm3Sr-QS…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code id_token","scope":"openid profile mvcclient.home","response_mode":"form_post","nonce":"637360822324339026.YzUzZjFmMDEtYzI2YS00NDI5LWE5YTktZGVkYzI2Njk0MGI1MzllYzkzNjctMzZjYi00NmRmLTlkNTYt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_CI87sfBmfQpck67Q_THIC65TlazXVu5CorOpAbLeBA5rcEvz1JfVhxezDRnje0rSiFm3Sr-QS…","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.5.0.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 10:17:12.768 +07:00 [INF] Request finished in 26.4618ms 302 
2020-09-19 10:17:12.772 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/home/error?errorId=CfDJ8H9fZSx1BlxCmY17EnGX2_DnwIKQ452of9v7l5fi0roGjPWrjTN_8MhWHWvxWfASfQkGP3jiFINlPH8Uxl6JnO_5QpM_HFAlB-yfEwS8ebPDKmmir3T1ey2X23Z5cbuHGyr1cPoukXGUiZy5tPjzs_x_ezesjCcA3tdvYdvGzDeAf96NarsZIo7mmT6EyTjQarnSZio8gKJTLHv8kIHZEZwS7Q_ExSn_o4LQEbqWkyXJRbNMTLILv6mvRoX0NMXNLSzGwzQbbyKNMLY_SpyY5BPPEtPH5DUs3rS5glQjtEnQYBvyK0SRO3vTGLkwo7mbaNg7EMz-a6JnRcbn-fYfxAvQyjHSk8TP3gFm0YxqyiPY79asr9v2p2DXJKwy3u4_5F7VDaARfu_OmpMhp871OTZcGOwGlXwhoglHJQ_4xujNwqNVfvLeNzLX9nkx4W59rC6z40PopJiMT-WFQDQ9cYTcKZ5h8JfW0lWJwmSSIWpo8m5mvbu0o_iZDvGZ7QivtIa65ZqlruVnk-u42Fvzeh8ZxKrWidRl1g1Sy7r_uO23VItGrru0AcPSbQXh-pgMWH7zXhxCJeglQuHrfKTVWziYEvUf0EqM0om1t69RHNuBI2w2NNcLWuY0nUovO3_Bj3vYlZQC6bUND9i6UcMpkJzhpz9JS6AOy3UZutL2aILeK-uob2vhvns9wcBca06hvF0Kb16-MzCl1yGEpEStNswIKaBJyOJ8wpXa9l6XjNicRE2_0mP3R72ZICjOcEbzL0PiLIb_sXz7i4PyiJjzi9mavKvbJhywUMTKrOysixacKcXl_zJmbQbZVY0IejMqRGmWKVrFQfazx3sevYgUtpkp3aUIc5zO085pfLRm5wn2D2nOQPZ8G99fx6Yi97SoIjTyuCndtI65gTH7TLHg21XPIpp8P3s1H5hp31tgT9P9_QenQ33y5Auu7CliEBgSJ10fB2P3_OK9tD48M0BIccU  
2020-09-19 10:17:12.772 +07:00 [DBG] The request path /home/error does not match a supported file type
2020-09-19 10:17:12.773 +07:00 [DBG] 1 candidate(s) found for the request path '/home/error'
2020-09-19 10:17:12.773 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/home/error'
2020-09-19 10:17:12.773 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 10:17:12.774 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:12.774 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:12.774 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 10:17:12.774 +07:00 [INF] Route matched with {action = "Error", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String) on controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4).
2020-09-19 10:17:12.774 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-19 10:17:12.774 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 10:17:12.774 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 10:17:12.774 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 10:17:12.774 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 10:17:12.775 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 10:17:12.775 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-19 10:17:12.775 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' ...
2020-09-19 10:17:12.775 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' using the name 'errorId' in request data ...
2020-09-19 10:17:12.775 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 10:17:12.775 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-19 10:17:12.775 +07:00 [DBG] Attempting to validate the bound parameter 'errorId' of type 'System.String' ...
2020-09-19 10:17:12.775 +07:00 [DBG] Done attempting to validate the bound parameter 'errorId' of type 'System.String'.
2020-09-19 10:17:12.777 +07:00 [DBG] View lookup cache hit for view 'Error' in controller 'Home'.
2020-09-19 10:17:12.777 +07:00 [INF] Executing ViewResult, running view Error.
2020-09-19 10:17:12.777 +07:00 [DBG] The view path '/Views/Shared/Error.cshtml' was found in 0.2761ms.
2020-09-19 10:17:12.778 +07:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2020-09-19 10:17:12.779 +07:00 [DBG] View lookup cache hit for view '_Nav' in controller 'Home'.
2020-09-19 10:17:12.780 +07:00 [INF] Executed ViewResult - view Error executed in 3.3708ms.
2020-09-19 10:17:12.780 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4) in 5.4371ms
2020-09-19 10:17:12.780 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-19 10:17:12.780 +07:00 [INF] Request finished in 7.9624ms 200 text/html; charset=utf-8
2020-09-19 10:17:13.796 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:17:13.796 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0101ms - processed: 0 items - remaining: 2 items
2020-09-19 10:17:23.797 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:17:23.797 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0213ms - processed: 0 items - remaining: 2 items
2020-09-19 10:17:33.798 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:17:33.798 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
2020-09-19 10:17:45.266 +07:00 [INF] Starting host...
2020-09-19 10:17:45.499 +07:00 [DBG] Hosting starting
2020-09-19 10:17:45.514 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-19 10:17:45.521 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-19 10:17:45.526 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-19 10:17:45.527 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-19 10:17:45.527 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-19 10:17:45.532 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-19 10:17:45.534 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-19 10:17:45.534 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-19 10:17:45.535 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-19 10:17:45.539 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-19 10:17:45.547 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 10:17:45.550 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-19 10:17:45.551 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 10:17:45.554 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-19 10:17:45.556 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-19 10:17:45.558 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-19 10:17:45.558 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-19 10:17:45.567 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-19 10:17:45.572 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-19 10:17:45.574 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-19 10:17:45.574 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-19 10:17:45.574 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-19 10:17:45.574 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-19 10:17:45.574 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-19 10:17:45.574 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-19 10:17:45.632 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-19 10:17:45.633 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-19 10:17:45.633 +07:00 [INF] Hosting environment: Development
2020-09-19 10:17:45.633 +07:00 [INF] Content root path: D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4
2020-09-19 10:17:45.633 +07:00 [DBG] Hosting started
2020-09-19 10:17:45.649 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-19 10:17:45.651 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-19 10:17:45.652 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-19 10:17:45.668 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-19 10:17:45.668 +07:00 [DBG] Request did not match any endpoints
2020-09-19 10:17:45.680 +07:00 [DBG] Login Url: /Account/Login
2020-09-19 10:17:45.680 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-19 10:17:45.680 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-19 10:17:45.680 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-19 10:17:45.681 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-19 10:17:45.697 +07:00 [DBG] Error Url: /home/error
2020-09-19 10:17:45.697 +07:00 [DBG] Error Id Parameter: errorId
2020-09-19 10:17:45.699 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:45.704 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:45.707 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-19 10:17:45.708 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-19 10:17:45.708 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-19 10:17:45.709 +07:00 [DBG] Start discovery request
2020-09-19 10:17:45.742 +07:00 [INF] Request finished in 94.6061ms 200 application/json; charset=UTF-8
2020-09-19 10:17:45.927 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-19 10:17:45.927 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-19 10:17:45.929 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-19 10:17:45.929 +07:00 [DBG] Request did not match any endpoints
2020-09-19 10:17:45.929 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:45.930 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:45.930 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-19 10:17:45.930 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-19 10:17:45.930 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-19 10:17:45.931 +07:00 [DBG] Start key discovery request
2020-09-19 10:17:45.938 +07:00 [INF] Request finished in 11.7609ms 200 application/json; charset=UTF-8
2020-09-19 10:17:46.279 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20mvcclient.home&code_challenge=Cj0vl46tui65ynTH9F4LccVB9Y_P0Wze2lLPXS3XKo4&code_challenge_method=S256&response_mode=form_post&nonce=637360822659568583.Mzc2NzFjNTktNzAyYi00NTc1LWFkZjQtNjA0YTZmOWY5NDIzMDZlNzZkYWYtY2I1OS00OTM5LTg1OGQtYTg0YmUwOWNjZTgx&state=CfDJ8H9fZSx1BlxCmY17EnGX2_DYeAbPEcyjPYE2l_S1m28bEwgu4DkczcieVjohkHT8a6V6M94yUEcFar1QBuCpeuGdBp42DvfpHU7bM-GH3jePVAG0J6pzJhoJDvxjQP5L37LqFIRsae5sYehRfIU3aIx7dCEAS1eqzpObyIMBfIBJVioyIHwTMsLa-r3sBzrh8kZiHQM2ikVh2FU842zTU8GlEzPsD3JD0QVImZOOaqdw0oY7OCQCX4qd6tdr2WDdGbNW6NX1tS40MjxfvEpGEV5mOKw6i2MERvVTbcRSkMnBZ9iaUvXBU3qSxGEC1BcJppkx9qAiaGBWyT3wBVksBSG20HQpfcuNM4zYxUE5YqUeEngT65rzD7CgcD4iWuBG_A&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 10:17:46.280 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-19 10:17:46.280 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-19 10:17:46.280 +07:00 [DBG] Request did not match any endpoints
2020-09-19 10:17:46.284 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:46.285 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:46.286 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-19 10:17:46.290 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-19 10:17:46.290 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-19 10:17:46.291 +07:00 [DBG] Start authorize request
2020-09-19 10:17:46.293 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:46.294 +07:00 [DBG] No user present in authorize request
2020-09-19 10:17:46.295 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 10:17:46.302 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 10:17:46.309 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 10:17:46.322 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-19 10:17:46.331 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile mvcclient.home","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DYeAbPEcyjPYE2l_S1m28bEwgu4DkczcieVjohkHT8a6V6M94yUEcFar1QBuCpeuGdBp42Dvf…","UiLocales":null,"Nonce":"637360822659568583.Mzc2NzFjNTktNzAyYi00NTc1LWFkZjQtNjA0YTZmOWY5NDIzMDZlNzZkYWYtY2I1OS00OTM5LTg1OGQt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile mvcclient.home","code_challenge":"Cj0vl46tui65ynTH9F4LccVB9Y_P0Wze2lLPXS3XKo4","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360822659568583.Mzc2NzFjNTktNzAyYi00NTc1LWFkZjQtNjA0YTZmOWY5NDIzMDZlNzZkYWYtY2I1OS00OTM5LTg1OGQt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_DYeAbPEcyjPYE2l_S1m28bEwgu4DkczcieVjohkHT8a6V6M94yUEcFar1QBuCpeuGdBp42Dvf…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 10:17:46.339 +07:00 [INF] Showing login: User is not authenticated
2020-09-19 10:17:46.342 +07:00 [INF] Request finished in 62.4052ms 302 
2020-09-19 10:17:46.346 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520mvcclient.home%26code_challenge%3DCj0vl46tui65ynTH9F4LccVB9Y_P0Wze2lLPXS3XKo4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360822659568583.Mzc2NzFjNTktNzAyYi00NTc1LWFkZjQtNjA0YTZmOWY5NDIzMDZlNzZkYWYtY2I1OS00OTM5LTg1OGQtYTg0YmUwOWNjZTgx%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_DYeAbPEcyjPYE2l_S1m28bEwgu4DkczcieVjohkHT8a6V6M94yUEcFar1QBuCpeuGdBp42DvfpHU7bM-GH3jePVAG0J6pzJhoJDvxjQP5L37LqFIRsae5sYehRfIU3aIx7dCEAS1eqzpObyIMBfIBJVioyIHwTMsLa-r3sBzrh8kZiHQM2ikVh2FU842zTU8GlEzPsD3JD0QVImZOOaqdw0oY7OCQCX4qd6tdr2WDdGbNW6NX1tS40MjxfvEpGEV5mOKw6i2MERvVTbcRSkMnBZ9iaUvXBU3qSxGEC1BcJppkx9qAiaGBWyT3wBVksBSG20HQpfcuNM4zYxUE5YqUeEngT65rzD7CgcD4iWuBG_A%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-19 10:17:46.346 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-19 10:17:46.350 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-19 10:17:46.352 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-19 10:17:46.352 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 10:17:46.353 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:46.353 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:46.354 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 10:17:46.357 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-19 10:17:46.377 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-19 10:17:46.378 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-19 10:17:46.378 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 10:17:46.378 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 10:17:46.378 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 10:17:46.378 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 10:17:46.379 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-19 10:17:46.381 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-19 10:17:46.383 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-19 10:17:46.385 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-19 10:17:46.385 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-19 10:17:46.386 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-19 10:17:46.386 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-19 10:17:46.387 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-19 10:17:46.393 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:46.393 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 10:17:46.394 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 10:17:46.394 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 10:17:46.394 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-19 10:17:46.395 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-19 10:17:46.400 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-19 10:17:46.406 +07:00 [DBG] View lookup cache miss for view 'Login' in controller 'Account'.
2020-09-19 10:17:46.411 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-19 10:17:46.415 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 5.8907ms.
2020-09-19 10:17:46.435 +07:00 [DBG] View lookup cache miss for view '_ValidationSummary' in controller 'Account'.
2020-09-19 10:17:46.444 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-19 10:17:46.448 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-19 10:17:46.468 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2020-09-19 10:17:46.478 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Account'.
2020-09-19 10:17:46.486 +07:00 [INF] Executed ViewResult - view Login executed in 80.6141ms.
2020-09-19 10:17:46.486 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 107.7094ms
2020-09-19 10:17:46.486 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 10:17:46.488 +07:00 [INF] Request finished in 141.9792ms 200 text/html; charset=utf-8
2020-09-19 10:17:49.067 +07:00 [INF] Request starting HTTP/2.0 POST https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520mvcclient.home%26code_challenge%3DCj0vl46tui65ynTH9F4LccVB9Y_P0Wze2lLPXS3XKo4%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360822659568583.Mzc2NzFjNTktNzAyYi00NTc1LWFkZjQtNjA0YTZmOWY5NDIzMDZlNzZkYWYtY2I1OS00OTM5LTg1OGQtYTg0YmUwOWNjZTgx%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_DYeAbPEcyjPYE2l_S1m28bEwgu4DkczcieVjohkHT8a6V6M94yUEcFar1QBuCpeuGdBp42DvfpHU7bM-GH3jePVAG0J6pzJhoJDvxjQP5L37LqFIRsae5sYehRfIU3aIx7dCEAS1eqzpObyIMBfIBJVioyIHwTMsLa-r3sBzrh8kZiHQM2ikVh2FU842zTU8GlEzPsD3JD0QVImZOOaqdw0oY7OCQCX4qd6tdr2WDdGbNW6NX1tS40MjxfvEpGEV5mOKw6i2MERvVTbcRSkMnBZ9iaUvXBU3qSxGEC1BcJppkx9qAiaGBWyT3wBVksBSG20HQpfcuNM4zYxUE5YqUeEngT65rzD7CgcD4iWuBG_A%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 application/x-www-form-urlencoded 1152
2020-09-19 10:17:49.067 +07:00 [DBG] POST requests are not supported
2020-09-19 10:17:49.069 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-19 10:17:49.069 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-19 10:17:49.069 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 10:17:49.071 +07:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-19 10:17:49.071 +07:00 [INF] No CORS policy found for the specified request.
2020-09-19 10:17:49.072 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:49.072 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:49.072 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 10:17:49.078 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IdentityServerHost.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-19 10:17:49.078 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"]
2020-09-19 10:17:49.079 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 10:17:49.079 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 10:17:49.079 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 10:17:49.079 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 10:17:49.085 +07:00 [DBG] Antiforgery successfully validated a request.
2020-09-19 10:17:49.085 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-19 10:17:49.086 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-19 10:17:49.088 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-19 10:17:49.088 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' using the name '' in request data ...
2020-09-19 10:17:49.090 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String' using the name 'Username' in request data ...
2020-09-19 10:17:49.090 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String'.
2020-09-19 10:17:49.090 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String' using the name 'Password' in request data ...
2020-09-19 10:17:49.091 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String'.
2020-09-19 10:17:49.091 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean' using the name 'RememberLogin' in request data ...
2020-09-19 10:17:49.091 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean'.
2020-09-19 10:17:49.091 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String' using the name 'ReturnUrl' in request data ...
2020-09-19 10:17:49.091 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String'.
2020-09-19 10:17:49.091 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-19 10:17:49.091 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-19 10:17:49.091 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-19 10:17:49.095 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-19 10:17:49.095 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' ...
2020-09-19 10:17:49.095 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' using the name 'button' in request data ...
2020-09-19 10:17:49.095 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-19 10:17:49.095 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-19 10:17:49.095 +07:00 [DBG] Attempting to validate the bound parameter 'button' of type 'System.String' ...
2020-09-19 10:17:49.096 +07:00 [DBG] Done attempting to validate the bound parameter 'button' of type 'System.String'.
2020-09-19 10:17:49.097 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:49.098 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 10:17:49.099 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 10:17:49.099 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 10:17:49.100 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-19 10:17:49.107 +07:00 [DBG] Augmenting SignInContext
2020-09-19 10:17:49.108 +07:00 [DBG] Adding idp claim with value: local
2020-09-19 10:17:49.108 +07:00 [DBG] Adding amr claim with value: pwd
2020-09-19 10:17:49.108 +07:00 [DBG] Adding auth_time claim with value: 1600485469
2020-09-19 10:17:49.109 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:49.112 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-19 10:17:49.115 +07:00 [INF] Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20mvcclient.home&code_challenge=Cj0vl46tui65ynTH9F4LccVB9Y_P0Wze2lLPXS3XKo4&code_challenge_method=S256&response_mode=form_post&nonce=637360822659568583.Mzc2NzFjNTktNzAyYi00NTc1LWFkZjQtNjA0YTZmOWY5NDIzMDZlNzZkYWYtY2I1OS00OTM5LTg1OGQtYTg0YmUwOWNjZTgx&state=CfDJ8H9fZSx1BlxCmY17EnGX2_DYeAbPEcyjPYE2l_S1m28bEwgu4DkczcieVjohkHT8a6V6M94yUEcFar1QBuCpeuGdBp42DvfpHU7bM-GH3jePVAG0J6pzJhoJDvxjQP5L37LqFIRsae5sYehRfIU3aIx7dCEAS1eqzpObyIMBfIBJVioyIHwTMsLa-r3sBzrh8kZiHQM2ikVh2FU842zTU8GlEzPsD3JD0QVImZOOaqdw0oY7OCQCX4qd6tdr2WDdGbNW6NX1tS40MjxfvEpGEV5mOKw6i2MERvVTbcRSkMnBZ9iaUvXBU3qSxGEC1BcJppkx9qAiaGBWyT3wBVksBSG20HQpfcuNM4zYxUE5YqUeEngT65rzD7CgcD4iWuBG_A&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0.
2020-09-19 10:17:49.116 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 37.2997ms
2020-09-19 10:17:49.117 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 10:17:49.119 +07:00 [INF] Request finished in 54.5284ms 302 
2020-09-19 10:17:49.130 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize/callback?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20mvcclient.home&code_challenge=Cj0vl46tui65ynTH9F4LccVB9Y_P0Wze2lLPXS3XKo4&code_challenge_method=S256&response_mode=form_post&nonce=637360822659568583.Mzc2NzFjNTktNzAyYi00NTc1LWFkZjQtNjA0YTZmOWY5NDIzMDZlNzZkYWYtY2I1OS00OTM5LTg1OGQtYTg0YmUwOWNjZTgx&state=CfDJ8H9fZSx1BlxCmY17EnGX2_DYeAbPEcyjPYE2l_S1m28bEwgu4DkczcieVjohkHT8a6V6M94yUEcFar1QBuCpeuGdBp42DvfpHU7bM-GH3jePVAG0J6pzJhoJDvxjQP5L37LqFIRsae5sYehRfIU3aIx7dCEAS1eqzpObyIMBfIBJVioyIHwTMsLa-r3sBzrh8kZiHQM2ikVh2FU842zTU8GlEzPsD3JD0QVImZOOaqdw0oY7OCQCX4qd6tdr2WDdGbNW6NX1tS40MjxfvEpGEV5mOKw6i2MERvVTbcRSkMnBZ9iaUvXBU3qSxGEC1BcJppkx9qAiaGBWyT3wBVksBSG20HQpfcuNM4zYxUE5YqUeEngT65rzD7CgcD4iWuBG_A&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 10:17:49.130 +07:00 [DBG] The request path /connect/authorize/callback does not match a supported file type
2020-09-19 10:17:49.130 +07:00 [DBG] No candidates found for the request path '/connect/authorize/callback'
2020-09-19 10:17:49.130 +07:00 [DBG] Request did not match any endpoints
2020-09-19 10:17:49.133 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-19 10:17:49.133 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-19 10:17:49.134 +07:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-19 10:17:49.134 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-19 10:17:49.134 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-19 10:17:49.136 +07:00 [DBG] Start authorize callback request
2020-09-19 10:17:49.138 +07:00 [DBG] User in authorize request: 123456
2020-09-19 10:17:49.138 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 10:17:49.138 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 10:17:49.138 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 10:17:49.138 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-19 10:17:49.139 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile mvcclient.home","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DYeAbPEcyjPYE2l_S1m28bEwgu4DkczcieVjohkHT8a6V6M94yUEcFar1QBuCpeuGdBp42Dvf…","UiLocales":null,"Nonce":"637360822659568583.Mzc2NzFjNTktNzAyYi00NTc1LWFkZjQtNjA0YTZmOWY5NDIzMDZlNzZkYWYtY2I1OS00OTM5LTg1OGQt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"999C6E5EFB8D9A3A71FF6ACC402A0115","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile mvcclient.home","code_challenge":"Cj0vl46tui65ynTH9F4LccVB9Y_P0Wze2lLPXS3XKo4","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360822659568583.Mzc2NzFjNTktNzAyYi00NTc1LWFkZjQtNjA0YTZmOWY5NDIzMDZlNzZkYWYtY2I1OS00OTM5LTg1OGQt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_DYeAbPEcyjPYE2l_S1m28bEwgu4DkczcieVjohkHT8a6V6M94yUEcFar1QBuCpeuGdBp42Dvf…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 10:17:49.144 +07:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-19 10:17:49.146 +07:00 [DBG] Creating Authorization Code Flow response.
2020-09-19 10:17:49.194 +07:00 [DBG] Authorize endpoint response
{"SubjectId":"123456","ClientId":"mvc","RedirectUri":"https://localhost:44388/signin-oidc","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_DYeAbPEcyjPYE2l_S1m28bEwgu4DkczcieVjohkHT8a6V6M94yUEcFar1QBuCpeuGdBp42Dvf…","Scope":"openid profile mvcclient.home","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-19 10:17:49.197 +07:00 [DBG] Augmenting SignInContext
2020-09-19 10:17:49.197 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-19 10:17:49.201 +07:00 [INF] Request finished in 70.5796ms 200 text/html; charset=UTF-8
2020-09-19 10:17:49.376 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44313/connect/token application/x-www-form-urlencoded 251
2020-09-19 10:17:49.376 +07:00 [DBG] POST requests are not supported
2020-09-19 10:17:49.376 +07:00 [DBG] No candidates found for the request path '/connect/token'
2020-09-19 10:17:49.376 +07:00 [DBG] Request did not match any endpoints
2020-09-19 10:17:49.376 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:49.377 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:49.377 +07:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-19 10:17:49.379 +07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-19 10:17:49.379 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-19 10:17:49.381 +07:00 [DBG] Start token request.
2020-09-19 10:17:49.383 +07:00 [DBG] Start client validation
2020-09-19 10:17:49.386 +07:00 [DBG] Start parsing Basic Authentication secret
2020-09-19 10:17:49.387 +07:00 [DBG] Start parsing for secret in post body
2020-09-19 10:17:49.387 +07:00 [DBG] Parser found secret: PostBodySecretParser
2020-09-19 10:17:49.387 +07:00 [DBG] Secret id found: mvc
2020-09-19 10:17:49.388 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 10:17:49.392 +07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2020-09-19 10:17:49.392 +07:00 [DBG] Client validation success
2020-09-19 10:17:49.394 +07:00 [DBG] Start token request validation
2020-09-19 10:17:49.396 +07:00 [DBG] Start validation of authorization code token request
2020-09-19 10:17:49.415 +07:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-09-19 10:17:49.417 +07:00 [DBG] Validation of authorization code token request success
2020-09-19 10:17:49.419 +07:00 [INF] Token request validation success, {"ClientId":"mvc","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"D58E37C94F72663C0C958E5AA7757A966693EF0DD15B54AFF6B4D58272AFD18D","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"mvc","client_secret":"***REDACTED***","code":"D58E37C94F72663C0C958E5AA7757A966693EF0DD15B54AFF6B4D58272AFD18D","grant_type":"authorization_code","redirect_uri":"https://localhost:44388/signin-oidc","code_verifier":"bNI5JA-_jZfK6HhZqTi-ic_43Tq8MrWJGTTBnsYdtZE"},"$type":"TokenRequestValidationLog"}
2020-09-19 10:17:49.422 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 10:17:49.431 +07:00 [DBG] Getting claims for access token for client: mvc
2020-09-19 10:17:49.431 +07:00 [DBG] Getting claims for access token for subject: 123456
2020-09-19 10:17:49.471 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 10:17:49.474 +07:00 [DBG] Getting claims for identity token for subject: 123456 and client: mvc
2020-09-19 10:17:49.478 +07:00 [DBG] Token request success.
2020-09-19 10:17:49.483 +07:00 [INF] Request finished in 107.3136ms 200 application/json; charset=UTF-8
2020-09-19 10:17:49.566 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/connect/userinfo  
2020-09-19 10:17:49.566 +07:00 [DBG] The request path /connect/userinfo does not match a supported file type
2020-09-19 10:17:49.566 +07:00 [DBG] No candidates found for the request path '/connect/userinfo'
2020-09-19 10:17:49.566 +07:00 [DBG] Request did not match any endpoints
2020-09-19 10:17:49.566 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:49.567 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 10:17:49.567 +07:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2020-09-19 10:17:49.567 +07:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2020-09-19 10:17:49.567 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-09-19 10:17:49.569 +07:00 [DBG] Start userinfo request
2020-09-19 10:17:49.570 +07:00 [DBG] Bearer token found in header
2020-09-19 10:17:49.609 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 10:17:49.611 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 10:17:49.612 +07:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-09-19 10:17:49.613 +07:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"69FE7A29B16CAB139CDA77F7B6084217","Claims":{"nbf":1600485469,"exp":1600489069,"iss":"https://localhost:44313","aud":"mvcclient","client_id":"mvc","sub":"123456","auth_time":1600485469,"idp":"local","mvcclient.home.privacy":"{\"ids\"}: [1,2,3,4]","jti":"69FE7A29B16CAB139CDA77F7B6084217"},"$type":"TokenValidationLog"}
2020-09-19 10:17:49.616 +07:00 [DBG] Creating userinfo response
2020-09-19 10:17:49.617 +07:00 [DBG] Scopes in access token: openid profile mvcclient.home
2020-09-19 10:17:49.619 +07:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2020-09-19 10:17:49.620 +07:00 [INF] Profile service returned the following claim types: mvcclient.home.privacy
2020-09-19 10:17:49.621 +07:00 [DBG] End userinfo request
2020-09-19 10:17:49.622 +07:00 [INF] Request finished in 55.813ms 200 application/json; charset=UTF-8
2020-09-19 10:19:45.688 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:BackChannelLogoutClient'
2020-09-19 10:19:46.289 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:JwtRequestUriClient'
2020-09-19 10:19:55.704 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:19:55.708 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0357ms - processed: 0 items - remaining: 2 items
2020-09-19 10:20:05.715 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:20:05.716 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 2 items
2020-09-19 10:20:15.717 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:20:15.718 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.019ms - processed: 0 items - remaining: 2 items
2020-09-19 10:20:25.719 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:20:25.719 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 2 items
2020-09-19 10:20:35.720 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:20:35.721 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 2 items
2020-09-19 10:20:45.733 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:20:45.733 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 2 items
2020-09-19 10:20:55.734 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:20:55.734 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 2 items
2020-09-19 10:21:05.736 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:21:05.736 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
2020-09-19 10:21:15.738 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:21:15.738 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
2020-09-19 10:21:25.747 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:21:25.748 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 2 items
2020-09-19 10:21:35.748 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:21:35.748 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 2 items
2020-09-19 10:21:45.749 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:21:45.749 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.03ms - processed: 0 items - remaining: 2 items
2020-09-19 10:21:55.750 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:21:55.750 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 2 items
2020-09-19 10:22:05.751 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:22:05.752 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 2 items
2020-09-19 10:22:15.753 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:22:15.753 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
2020-09-19 10:22:25.763 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:22:25.763 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 2 items
2020-09-19 10:22:35.764 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:22:35.764 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 2 items
2020-09-19 10:22:45.765 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:22:45.765 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
2020-09-19 10:22:55.765 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:22:55.765 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 2 items
2020-09-19 10:23:05.766 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:23:05.766 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
2020-09-19 10:23:15.766 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:23:15.766 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 2 items
2020-09-19 10:23:25.767 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:23:25.767 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0108ms - processed: 0 items - remaining: 2 items
2020-09-19 10:23:35.768 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:23:35.768 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 2 items
2020-09-19 10:23:45.769 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:23:45.769 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 2 items
2020-09-19 10:23:55.770 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:23:55.770 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 2 items
2020-09-19 10:24:05.771 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:24:05.771 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 2 items
2020-09-19 10:24:15.772 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:24:15.772 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 2 items
2020-09-19 10:24:25.773 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:24:25.774 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 2 items
2020-09-19 10:24:35.775 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:24:35.775 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 2 items
2020-09-19 10:24:45.776 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:24:45.776 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 2 items
2020-09-19 10:24:55.776 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:24:55.776 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2020-09-19 10:25:05.777 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:25:05.777 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-19 10:25:15.778 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:25:15.778 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2020-09-19 10:25:25.778 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:25:25.778 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-19 10:25:35.779 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:25:35.779 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-19 10:25:45.780 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:25:45.780 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-19 10:25:55.780 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:25:55.780 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2020-09-19 10:26:05.781 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:26:05.781 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2020-09-19 10:26:15.782 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:26:15.782 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 2 items
2020-09-19 10:26:25.783 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:26:25.783 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-19 10:26:35.784 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:26:35.784 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 2 items
2020-09-19 10:26:45.785 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:26:45.785 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 2 items
2020-09-19 10:26:55.786 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:26:55.786 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-19 10:27:05.789 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:27:05.789 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 2 items
2020-09-19 10:27:15.790 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:27:15.790 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-19 10:27:25.790 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:27:25.790 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-19 10:27:35.791 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:27:35.791 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-19 10:27:45.792 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:27:45.792 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-19 10:27:55.793 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:27:55.794 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-19 10:28:05.794 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:28:05.794 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-19 10:28:15.795 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:28:15.795 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-19 10:28:25.796 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:28:25.796 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 2 items
2020-09-19 10:28:35.796 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:28:35.797 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-19 10:28:45.797 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:28:45.797 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-19 10:28:55.798 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:28:55.798 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-19 10:29:05.799 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:29:05.799 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-19 10:29:15.799 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:29:15.799 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2020-09-19 10:29:25.799 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:29:25.799 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-19 10:29:35.800 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:29:35.800 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 2 items
2020-09-19 10:29:45.802 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:29:45.802 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2020-09-19 10:29:55.802 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:29:55.803 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-19 10:30:05.804 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:30:05.804 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 2 items
2020-09-19 10:30:15.805 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:30:15.805 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-19 10:30:25.805 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:30:25.806 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-19 10:30:35.807 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:30:35.807 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-19 10:30:45.808 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:30:45.808 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2020-09-19 10:30:55.809 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:30:55.809 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 2 items
2020-09-19 10:31:05.810 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:31:05.810 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
2020-09-19 10:31:15.811 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:31:15.811 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 2 items
2020-09-19 10:31:25.812 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:31:25.813 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 2 items
2020-09-19 10:31:35.813 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:31:35.813 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 2 items
2020-09-19 10:31:45.814 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:31:45.814 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-19 10:31:55.815 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-19 10:31:55.815 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 2 items
2020-09-19 11:43:57.664 +07:00 [INF] Starting host...
2020-09-19 11:43:58.176 +07:00 [DBG] Hosting starting
2020-09-19 11:43:58.192 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-19 11:43:58.201 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-19 11:43:58.206 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-19 11:43:58.206 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-19 11:43:58.207 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-19 11:43:58.211 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-19 11:43:58.214 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-19 11:43:58.214 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-19 11:43:58.214 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-19 11:43:58.222 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-19 11:43:58.229 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 11:43:58.231 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-19 11:43:58.232 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-19 11:43:58.234 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-19 11:43:58.236 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-19 11:43:58.238 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-19 11:43:58.239 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-19 11:43:58.266 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-19 11:43:58.295 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-19 11:43:58.297 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-19 11:43:58.298 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-19 11:43:58.298 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-19 11:43:58.298 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-19 11:43:58.298 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-19 11:43:58.298 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-19 11:43:58.417 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-19 11:43:58.418 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-19 11:43:58.418 +07:00 [INF] Hosting environment: Development
2020-09-19 11:43:58.418 +07:00 [INF] Content root path: D:\Work\Git\single-sign-on-net-core\samples\SsoIdentityServer4
2020-09-19 11:43:58.418 +07:00 [DBG] Hosting started
2020-09-19 11:43:58.431 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-19 11:43:58.433 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-19 11:43:58.434 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-19 11:43:58.450 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-19 11:43:58.450 +07:00 [DBG] Request did not match any endpoints
2020-09-19 11:43:58.462 +07:00 [DBG] Login Url: /Account/Login
2020-09-19 11:43:58.462 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-19 11:43:58.462 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-19 11:43:58.462 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-19 11:43:58.462 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-19 11:43:58.462 +07:00 [DBG] Error Url: /home/error
2020-09-19 11:43:58.462 +07:00 [DBG] Error Id Parameter: errorId
2020-09-19 11:43:58.465 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:43:58.470 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:43:58.473 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-19 11:43:58.474 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-19 11:43:58.474 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-19 11:43:58.475 +07:00 [DBG] Start discovery request
2020-09-19 11:43:58.510 +07:00 [INF] Request finished in 80.0483ms 200 application/json; charset=UTF-8
2020-09-19 11:43:58.793 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-19 11:43:58.794 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-19 11:43:58.795 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-19 11:43:58.795 +07:00 [DBG] Request did not match any endpoints
2020-09-19 11:43:58.796 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:43:58.797 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:43:58.797 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-19 11:43:58.797 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-19 11:43:58.797 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-19 11:43:58.798 +07:00 [DBG] Start key discovery request
2020-09-19 11:43:58.820 +07:00 [INF] Request finished in 27.9811ms 200 application/json; charset=UTF-8
2020-09-19 11:43:59.167 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20identity.mvcclient&code_challenge=g0sb2UH-nR8nVUw1q-8_m6TywmW2sOui-X7XNNTy4mk&code_challenge_method=S256&response_mode=form_post&nonce=637360874388479206.MmIyMWE5OGQtNzM1Mi00M2RjLTljZDQtMzkyMjU0MWY4NjE4MzY1MjA5M2ItNjY4Ni00OTAwLWEyZjktNjAxNjkyNzM3M2My&state=CfDJ8H9fZSx1BlxCmY17EnGX2_BGgfhcDPpugdCy7uEXn_rVl-04nWOqiB2kX3zsm2xxNK6fEsbhuf6h_LQS-XFiPRW49c7RKy989aeDx50YH-AyHaYL5vvGtFxmxiCEKWp7mWqiNuULW9H4tMJnsNnJpCtejYL4xkFP5V54pJkVKTv5mgfIp-pwwvrcwDOxdJ_o72cg1vniGapaLXuRO0O8XqmOSsdpgGepMJ-lacvh8Pz5XBwUkguVrqsSMLWjf96fjEaVWTiF46KkPQLXZNlt8ZjFERorXxXmrZ1iln_1yUZoBuRFC5j5MA3ue6IJz5TrnLK8GW8GkpF1ZCFcX7NsnBejyXE0jF3jJGaH8ouV2ZR4vCdPWYdKy8L9yIyvN8chwQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 11:43:59.167 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-19 11:43:59.167 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-19 11:43:59.168 +07:00 [DBG] Request did not match any endpoints
2020-09-19 11:43:59.172 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:43:59.174 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:43:59.174 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-19 11:43:59.193 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-19 11:43:59.193 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-19 11:43:59.194 +07:00 [DBG] Start authorize request
2020-09-19 11:43:59.196 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:43:59.197 +07:00 [DBG] No user present in authorize request
2020-09-19 11:43:59.198 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 11:43:59.210 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 11:43:59.228 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 11:43:59.243 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-19 11:43:59.252 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile identity.mvcclient","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_BGgfhcDPpugdCy7uEXn_rVl-04nWOqiB2kX3zsm2xxNK6fEsbhuf6h_LQS-XFiPRW49c7RKy9…","UiLocales":null,"Nonce":"637360874388479206.MmIyMWE5OGQtNzM1Mi00M2RjLTljZDQtMzkyMjU0MWY4NjE4MzY1MjA5M2ItNjY4Ni00OTAwLWEyZjkt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile identity.mvcclient","code_challenge":"g0sb2UH-nR8nVUw1q-8_m6TywmW2sOui-X7XNNTy4mk","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360874388479206.MmIyMWE5OGQtNzM1Mi00M2RjLTljZDQtMzkyMjU0MWY4NjE4MzY1MjA5M2ItNjY4Ni00OTAwLWEyZjkt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_BGgfhcDPpugdCy7uEXn_rVl-04nWOqiB2kX3zsm2xxNK6fEsbhuf6h_LQS-XFiPRW49c7RKy9…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 11:43:59.260 +07:00 [INF] Showing login: User is not authenticated
2020-09-19 11:43:59.271 +07:00 [INF] Request finished in 104.4909ms 302 
2020-09-19 11:43:59.277 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.mvcclient%26code_challenge%3Dg0sb2UH-nR8nVUw1q-8_m6TywmW2sOui-X7XNNTy4mk%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360874388479206.MmIyMWE5OGQtNzM1Mi00M2RjLTljZDQtMzkyMjU0MWY4NjE4MzY1MjA5M2ItNjY4Ni00OTAwLWEyZjktNjAxNjkyNzM3M2My%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_BGgfhcDPpugdCy7uEXn_rVl-04nWOqiB2kX3zsm2xxNK6fEsbhuf6h_LQS-XFiPRW49c7RKy989aeDx50YH-AyHaYL5vvGtFxmxiCEKWp7mWqiNuULW9H4tMJnsNnJpCtejYL4xkFP5V54pJkVKTv5mgfIp-pwwvrcwDOxdJ_o72cg1vniGapaLXuRO0O8XqmOSsdpgGepMJ-lacvh8Pz5XBwUkguVrqsSMLWjf96fjEaVWTiF46KkPQLXZNlt8ZjFERorXxXmrZ1iln_1yUZoBuRFC5j5MA3ue6IJz5TrnLK8GW8GkpF1ZCFcX7NsnBejyXE0jF3jJGaH8ouV2ZR4vCdPWYdKy8L9yIyvN8chwQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-19 11:43:59.277 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-19 11:43:59.280 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-19 11:43:59.283 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-19 11:43:59.283 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 11:43:59.283 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:43:59.283 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:43:59.285 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 11:43:59.290 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-19 11:43:59.313 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-19 11:43:59.314 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-19 11:43:59.314 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 11:43:59.314 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 11:43:59.314 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 11:43:59.314 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 11:43:59.315 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-19 11:43:59.316 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-19 11:43:59.320 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-19 11:43:59.323 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-19 11:43:59.323 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-19 11:43:59.324 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-19 11:43:59.324 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-19 11:43:59.325 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-19 11:43:59.332 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:43:59.332 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 11:43:59.332 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 11:43:59.332 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 11:43:59.333 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-19 11:43:59.334 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 11:43:59.340 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-19 11:43:59.340 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-19 11:43:59.340 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-19 11:43:59.341 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-19 11:43:59.341 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-19 11:43:59.341 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-19 11:43:59.341 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-19 11:43:59.341 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-19 11:43:59.341 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-19 11:43:59.341 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-19 11:43:59.341 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-19 11:43:59.341 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-19 11:43:59.341 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-19 11:43:59.341 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-19 11:43:59.342 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-19 11:43:59.342 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-19 11:43:59.342 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-19 11:43:59.342 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-19 11:43:59.342 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-19 11:43:59.348 +07:00 [DBG] View lookup cache miss for view 'Login' in controller 'Account'.
2020-09-19 11:43:59.355 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-19 11:43:59.358 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 7.8965ms.
2020-09-19 11:43:59.377 +07:00 [DBG] View lookup cache miss for view '_ValidationSummary' in controller 'Account'.
2020-09-19 11:43:59.389 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-19 11:43:59.392 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-19 11:43:59.415 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2020-09-19 11:43:59.426 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Account'.
2020-09-19 11:43:59.434 +07:00 [INF] Executed ViewResult - view Login executed in 86.958ms.
2020-09-19 11:43:59.435 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 120.3494ms
2020-09-19 11:43:59.435 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 11:43:59.437 +07:00 [INF] Request finished in 160.37ms 200 text/html; charset=utf-8
2020-09-19 11:44:03.757 +07:00 [INF] Request starting HTTP/2.0 POST https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.mvcclient%26code_challenge%3Dg0sb2UH-nR8nVUw1q-8_m6TywmW2sOui-X7XNNTy4mk%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637360874388479206.MmIyMWE5OGQtNzM1Mi00M2RjLTljZDQtMzkyMjU0MWY4NjE4MzY1MjA5M2ItNjY4Ni00OTAwLWEyZjktNjAxNjkyNzM3M2My%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_BGgfhcDPpugdCy7uEXn_rVl-04nWOqiB2kX3zsm2xxNK6fEsbhuf6h_LQS-XFiPRW49c7RKy989aeDx50YH-AyHaYL5vvGtFxmxiCEKWp7mWqiNuULW9H4tMJnsNnJpCtejYL4xkFP5V54pJkVKTv5mgfIp-pwwvrcwDOxdJ_o72cg1vniGapaLXuRO0O8XqmOSsdpgGepMJ-lacvh8Pz5XBwUkguVrqsSMLWjf96fjEaVWTiF46KkPQLXZNlt8ZjFERorXxXmrZ1iln_1yUZoBuRFC5j5MA3ue6IJz5TrnLK8GW8GkpF1ZCFcX7NsnBejyXE0jF3jJGaH8ouV2ZR4vCdPWYdKy8L9yIyvN8chwQ%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 application/x-www-form-urlencoded 1164
2020-09-19 11:44:03.758 +07:00 [DBG] POST requests are not supported
2020-09-19 11:44:03.759 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-19 11:44:03.759 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-19 11:44:03.759 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 11:44:03.761 +07:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-19 11:44:03.762 +07:00 [INF] No CORS policy found for the specified request.
2020-09-19 11:44:03.762 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:44:03.762 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:44:03.763 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 11:44:03.768 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IdentityServerHost.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-19 11:44:03.768 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"]
2020-09-19 11:44:03.768 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-19 11:44:03.768 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 11:44:03.768 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-19 11:44:03.768 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-19 11:44:03.774 +07:00 [DBG] Antiforgery successfully validated a request.
2020-09-19 11:44:03.774 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-19 11:44:03.775 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-19 11:44:03.777 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-19 11:44:03.777 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' using the name '' in request data ...
2020-09-19 11:44:03.779 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String' using the name 'Username' in request data ...
2020-09-19 11:44:03.779 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String'.
2020-09-19 11:44:03.779 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String' using the name 'Password' in request data ...
2020-09-19 11:44:03.779 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String'.
2020-09-19 11:44:03.779 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean' using the name 'RememberLogin' in request data ...
2020-09-19 11:44:03.779 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean'.
2020-09-19 11:44:03.780 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String' using the name 'ReturnUrl' in request data ...
2020-09-19 11:44:03.780 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String'.
2020-09-19 11:44:03.780 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-19 11:44:03.780 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-19 11:44:03.780 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-19 11:44:03.784 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-19 11:44:03.784 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' ...
2020-09-19 11:44:03.784 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' using the name 'button' in request data ...
2020-09-19 11:44:03.784 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-19 11:44:03.784 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-19 11:44:03.784 +07:00 [DBG] Attempting to validate the bound parameter 'button' of type 'System.String' ...
2020-09-19 11:44:03.784 +07:00 [DBG] Done attempting to validate the bound parameter 'button' of type 'System.String'.
2020-09-19 11:44:03.786 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:44:03.786 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 11:44:03.787 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 11:44:03.787 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 11:44:03.787 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-19 11:44:03.794 +07:00 [DBG] Augmenting SignInContext
2020-09-19 11:44:03.795 +07:00 [DBG] Adding idp claim with value: local
2020-09-19 11:44:03.795 +07:00 [DBG] Adding amr claim with value: pwd
2020-09-19 11:44:03.795 +07:00 [DBG] Adding auth_time claim with value: 1600490643
2020-09-19 11:44:03.796 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:44:03.799 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-19 11:44:03.802 +07:00 [INF] Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20identity.mvcclient&code_challenge=g0sb2UH-nR8nVUw1q-8_m6TywmW2sOui-X7XNNTy4mk&code_challenge_method=S256&response_mode=form_post&nonce=637360874388479206.MmIyMWE5OGQtNzM1Mi00M2RjLTljZDQtMzkyMjU0MWY4NjE4MzY1MjA5M2ItNjY4Ni00OTAwLWEyZjktNjAxNjkyNzM3M2My&state=CfDJ8H9fZSx1BlxCmY17EnGX2_BGgfhcDPpugdCy7uEXn_rVl-04nWOqiB2kX3zsm2xxNK6fEsbhuf6h_LQS-XFiPRW49c7RKy989aeDx50YH-AyHaYL5vvGtFxmxiCEKWp7mWqiNuULW9H4tMJnsNnJpCtejYL4xkFP5V54pJkVKTv5mgfIp-pwwvrcwDOxdJ_o72cg1vniGapaLXuRO0O8XqmOSsdpgGepMJ-lacvh8Pz5XBwUkguVrqsSMLWjf96fjEaVWTiF46KkPQLXZNlt8ZjFERorXxXmrZ1iln_1yUZoBuRFC5j5MA3ue6IJz5TrnLK8GW8GkpF1ZCFcX7NsnBejyXE0jF3jJGaH8ouV2ZR4vCdPWYdKy8L9yIyvN8chwQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0.
2020-09-19 11:44:03.803 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 34.4269ms
2020-09-19 11:44:03.803 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-19 11:44:03.805 +07:00 [INF] Request finished in 48.1584ms 302 
2020-09-19 11:44:03.810 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize/callback?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20identity.mvcclient&code_challenge=g0sb2UH-nR8nVUw1q-8_m6TywmW2sOui-X7XNNTy4mk&code_challenge_method=S256&response_mode=form_post&nonce=637360874388479206.MmIyMWE5OGQtNzM1Mi00M2RjLTljZDQtMzkyMjU0MWY4NjE4MzY1MjA5M2ItNjY4Ni00OTAwLWEyZjktNjAxNjkyNzM3M2My&state=CfDJ8H9fZSx1BlxCmY17EnGX2_BGgfhcDPpugdCy7uEXn_rVl-04nWOqiB2kX3zsm2xxNK6fEsbhuf6h_LQS-XFiPRW49c7RKy989aeDx50YH-AyHaYL5vvGtFxmxiCEKWp7mWqiNuULW9H4tMJnsNnJpCtejYL4xkFP5V54pJkVKTv5mgfIp-pwwvrcwDOxdJ_o72cg1vniGapaLXuRO0O8XqmOSsdpgGepMJ-lacvh8Pz5XBwUkguVrqsSMLWjf96fjEaVWTiF46KkPQLXZNlt8ZjFERorXxXmrZ1iln_1yUZoBuRFC5j5MA3ue6IJz5TrnLK8GW8GkpF1ZCFcX7NsnBejyXE0jF3jJGaH8ouV2ZR4vCdPWYdKy8L9yIyvN8chwQ&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-19 11:44:03.810 +07:00 [DBG] The request path /connect/authorize/callback does not match a supported file type
2020-09-19 11:44:03.810 +07:00 [DBG] No candidates found for the request path '/connect/authorize/callback'
2020-09-19 11:44:03.810 +07:00 [DBG] Request did not match any endpoints
2020-09-19 11:44:03.811 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-19 11:44:03.811 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-19 11:44:03.811 +07:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-19 11:44:03.812 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-19 11:44:03.812 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-19 11:44:03.813 +07:00 [DBG] Start authorize callback request
2020-09-19 11:44:03.815 +07:00 [DBG] User in authorize request: 123456
2020-09-19 11:44:03.815 +07:00 [DBG] Start authorize request protocol validation
2020-09-19 11:44:03.815 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 11:44:03.815 +07:00 [DBG] Checking for PKCE parameters
2020-09-19 11:44:03.815 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-19 11:44:03.815 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile identity.mvcclient","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_BGgfhcDPpugdCy7uEXn_rVl-04nWOqiB2kX3zsm2xxNK6fEsbhuf6h_LQS-XFiPRW49c7RKy9…","UiLocales":null,"Nonce":"637360874388479206.MmIyMWE5OGQtNzM1Mi00M2RjLTljZDQtMzkyMjU0MWY4NjE4MzY1MjA5M2ItNjY4Ni00OTAwLWEyZjkt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"A7FAE9B395C90DB85E88456021380FFD","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile identity.mvcclient","code_challenge":"g0sb2UH-nR8nVUw1q-8_m6TywmW2sOui-X7XNNTy4mk","code_challenge_method":"S256","response_mode":"form_post","nonce":"637360874388479206.MmIyMWE5OGQtNzM1Mi00M2RjLTljZDQtMzkyMjU0MWY4NjE4MzY1MjA5M2ItNjY4Ni00OTAwLWEyZjkt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_BGgfhcDPpugdCy7uEXn_rVl-04nWOqiB2kX3zsm2xxNK6fEsbhuf6h_LQS-XFiPRW49c7RKy9…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-19 11:44:03.822 +07:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-19 11:44:03.825 +07:00 [DBG] Creating Authorization Code Flow response.
2020-09-19 11:44:03.896 +07:00 [DBG] Authorize endpoint response
{"SubjectId":"123456","ClientId":"mvc","RedirectUri":"https://localhost:44388/signin-oidc","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_BGgfhcDPpugdCy7uEXn_rVl-04nWOqiB2kX3zsm2xxNK6fEsbhuf6h_LQS-XFiPRW49c7RKy9…","Scope":"openid profile identity.mvcclient","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-19 11:44:03.899 +07:00 [DBG] Augmenting SignInContext
2020-09-19 11:44:03.900 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-19 11:44:03.903 +07:00 [INF] Request finished in 93.1237ms 200 text/html; charset=UTF-8
2020-09-19 11:44:04.555 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44313/connect/token application/x-www-form-urlencoded 251
2020-09-19 11:44:04.557 +07:00 [DBG] POST requests are not supported
2020-09-19 11:44:04.558 +07:00 [DBG] No candidates found for the request path '/connect/token'
2020-09-19 11:44:04.558 +07:00 [DBG] Request did not match any endpoints
2020-09-19 11:44:04.558 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:44:04.559 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:44:04.559 +07:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-19 11:44:04.560 +07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-19 11:44:04.560 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-19 11:44:04.562 +07:00 [DBG] Start token request.
2020-09-19 11:44:04.564 +07:00 [DBG] Start client validation
2020-09-19 11:44:04.566 +07:00 [DBG] Start parsing Basic Authentication secret
2020-09-19 11:44:04.567 +07:00 [DBG] Start parsing for secret in post body
2020-09-19 11:44:04.568 +07:00 [DBG] Parser found secret: PostBodySecretParser
2020-09-19 11:44:04.568 +07:00 [DBG] Secret id found: mvc
2020-09-19 11:44:04.568 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 11:44:04.574 +07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2020-09-19 11:44:04.574 +07:00 [DBG] Client validation success
2020-09-19 11:44:04.576 +07:00 [DBG] Start token request validation
2020-09-19 11:44:04.579 +07:00 [DBG] Start validation of authorization code token request
2020-09-19 11:44:04.599 +07:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-09-19 11:44:04.600 +07:00 [DBG] Validation of authorization code token request success
2020-09-19 11:44:04.602 +07:00 [INF] Token request validation success, {"ClientId":"mvc","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"ED6BC4A62907610E00C5DC9D08CF57495B7A765618546416B338C78509E12CC5","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"mvc","client_secret":"***REDACTED***","code":"ED6BC4A62907610E00C5DC9D08CF57495B7A765618546416B338C78509E12CC5","grant_type":"authorization_code","redirect_uri":"https://localhost:44388/signin-oidc","code_verifier":"pgBvX7BU-eJ7RS_-TC2INPffNhhToBtMpjIgAIQC_B4"},"$type":"TokenRequestValidationLog"}
2020-09-19 11:44:04.607 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 11:44:04.616 +07:00 [DBG] Getting claims for access token for client: mvc
2020-09-19 11:44:04.617 +07:00 [DBG] Getting claims for access token for subject: 123456
2020-09-19 11:44:04.757 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 11:44:04.761 +07:00 [DBG] Getting claims for identity token for subject: 123456 and client: mvc
2020-09-19 11:44:04.765 +07:00 [DBG] Token request success.
2020-09-19 11:44:04.769 +07:00 [INF] Request finished in 213.8182ms 200 application/json; charset=UTF-8
2020-09-19 11:44:05.059 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/connect/userinfo  
2020-09-19 11:44:05.059 +07:00 [DBG] The request path /connect/userinfo does not match a supported file type
2020-09-19 11:44:05.060 +07:00 [DBG] No candidates found for the request path '/connect/userinfo'
2020-09-19 11:44:05.060 +07:00 [DBG] Request did not match any endpoints
2020-09-19 11:44:05.061 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:44:05.062 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-19 11:44:05.062 +07:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2020-09-19 11:44:05.063 +07:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2020-09-19 11:44:05.063 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-09-19 11:44:05.064 +07:00 [DBG] Start userinfo request
2020-09-19 11:44:05.065 +07:00 [DBG] Bearer token found in header
2020-09-19 11:44:05.141 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 11:44:05.143 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-19 11:44:05.145 +07:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-09-19 11:44:05.145 +07:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":"C25C986BEAAAD1DFB96A811B6425A4D0","Claims":{"nbf":1600490644,"exp":1600494244,"iss":"https://localhost:44313","client_id":"mvc","sub":"123456","auth_time":1600490643,"idp":"local","identity.mvcclient.permission":"[{\"Key\":\"privacy\",\"Value\":\"about\",\"Ids\":null}]","jti":"C25C986BEAAAD1DFB96A811B6425A4D0","sid":"A7FAE9B395C90DB85E88456021380FFD"},"$type":"TokenValidationLog"}
2020-09-19 11:44:05.148 +07:00 [DBG] Creating userinfo response
2020-09-19 11:44:05.149 +07:00 [DBG] Scopes in access token: openid profile identity.mvcclient
2020-09-19 11:44:05.151 +07:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at identity.mvcclient.permission
2020-09-19 11:44:05.153 +07:00 [INF] Profile service returned the following claim types: identity.mvcclient.permission
2020-09-19 11:44:05.153 +07:00 [DBG] End userinfo request
2020-09-19 11:44:05.155 +07:00 [INF] Request finished in 96.4171ms 200 application/json; charset=UTF-8
2020-09-23 17:00:58.412 +07:00 [INF] Starting host...
2020-09-23 17:00:59.922 +07:00 [DBG] Hosting starting
2020-09-23 17:01:00.010 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-23 17:01:00.060 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-23 17:01:00.128 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-23 17:01:00.150 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-23 17:01:00.186 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-23 17:01:00.206 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-23 17:01:00.209 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-23 17:01:00.210 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-23 17:01:00.210 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-23 17:01:00.215 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-23 17:01:00.250 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-23 17:01:00.252 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-23 17:01:00.254 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-23 17:01:00.258 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-23 17:01:00.260 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-23 17:01:00.262 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-23 17:01:00.262 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-23 17:01:00.314 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-23 17:01:00.333 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-23 17:01:00.335 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-23 17:01:00.335 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-23 17:01:00.335 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-23 17:01:00.335 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-23 17:01:00.335 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-23 17:01:00.335 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-23 17:01:00.796 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-23 17:01:00.796 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-23 17:01:00.796 +07:00 [INF] Hosting environment: Development
2020-09-23 17:01:00.796 +07:00 [INF] Content root path: D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4
2020-09-23 17:01:00.796 +07:00 [DBG] Hosting started
2020-09-23 17:01:00.979 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-23 17:01:00.984 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-23 17:01:00.996 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-23 17:01:01.034 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-23 17:01:01.034 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:01:01.200 +07:00 [DBG] Login Url: /Account/Login
2020-09-23 17:01:01.200 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-23 17:01:01.200 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-23 17:01:01.200 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-23 17:01:01.200 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-23 17:01:01.200 +07:00 [DBG] Error Url: /home/error
2020-09-23 17:01:01.200 +07:00 [DBG] Error Id Parameter: errorId
2020-09-23 17:01:01.203 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:01:01.208 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:01:01.211 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-23 17:01:01.213 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-23 17:01:01.213 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-23 17:01:01.214 +07:00 [DBG] Start discovery request
2020-09-23 17:01:01.312 +07:00 [INF] Request finished in 344.8763ms 200 application/json; charset=UTF-8
2020-09-23 17:01:01.712 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-23 17:01:01.712 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-23 17:01:01.714 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-23 17:01:01.714 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:01:01.715 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:01:01.715 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:01:01.716 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-23 17:01:01.716 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-23 17:01:01.716 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-23 17:01:01.717 +07:00 [DBG] Start key discovery request
2020-09-23 17:01:01.860 +07:00 [INF] Request finished in 148.0095ms 200 application/json; charset=UTF-8
2020-09-23 17:01:02.280 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile&state=OpenIdConnect.AuthenticationProperties%3D3BOR7jA_ONx--p19-kcUgXcVbcFtSUZqdvqsXgAl5T5vKAsRtdBtQzykBWlCpDCxgY7hUCyoyL-FK6qPtpP8S9QAI8-lep0wXeNl423XLnh0LmNGjYkfW0gLhjSq6yAktIQiIgMX_DfpP5vB9-mf6rS1zdpjwje0EEAgK6jgbrnopEQzirfneTEk5907X9DOjQsfJ_VmYF528VFeaoYR_6IXe7Jp-TCPCWPGCcQYz6o&response_mode=form_post&nonce=637364520619344156.ODRkYzdmYjctYjgyMC00YzNlLTg5YzYtMjk4ZjBmNmQxZGIwZmQ1ODgyODUtZDg3YS00NDczLWEzNTktOTVjMThmMmI1ODRk&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-23 17:01:02.281 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-23 17:01:02.281 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-23 17:01:02.281 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:01:02.319 +07:00 [INF] idsrv was not authenticated. Failure message: Unprotect ticket failed
2020-09-23 17:01:02.321 +07:00 [INF] idsrv was not authenticated. Failure message: Unprotect ticket failed
2020-09-23 17:01:02.323 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-23 17:01:02.390 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-23 17:01:02.390 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-23 17:01:02.391 +07:00 [DBG] Start authorize request
2020-09-23 17:01:02.394 +07:00 [INF] idsrv was not authenticated. Failure message: Unprotect ticket failed
2020-09-23 17:01:02.395 +07:00 [DBG] No user present in authorize request
2020-09-23 17:01:02.397 +07:00 [DBG] Start authorize request protocol validation
2020-09-23 17:01:02.420 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-23 17:01:02.427 +07:00 [DBG] Checking for PKCE parameters
2020-09-23 17:01:02.454 +07:00 [ERR] code_challenge is missing
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"OpenIdConnect.AuthenticationProperties=3BOR7jA_ONx--p19-kcUgXcVbcFtSUZqdvqsXgAl5T5vKAsRtdBtQzykBWlC…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile","state":"OpenIdConnect.AuthenticationProperties=3BOR7jA_ONx--p19-kcUgXcVbcFtSUZqdvqsXgAl5T5vKAsRtdBtQzykBWlC…","response_mode":"form_post","nonce":"637364520619344156.ODRkYzdmYjctYjgyMC00YzNlLTg5YzYtMjk4ZjBmNmQxZGIwZmQ1ODgyODUtZDg3YS00NDczLWEzNTkt…","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-23 17:01:02.470 +07:00 [ERR] Request validation failed
2020-09-23 17:01:02.470 +07:00 [INF] {"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"OpenIdConnect.AuthenticationProperties=3BOR7jA_ONx--p19-kcUgXcVbcFtSUZqdvqsXgAl5T5vKAsRtdBtQzykBWlC…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile","state":"OpenIdConnect.AuthenticationProperties=3BOR7jA_ONx--p19-kcUgXcVbcFtSUZqdvqsXgAl5T5vKAsRtdBtQzykBWlC…","response_mode":"form_post","nonce":"637364520619344156.ODRkYzdmYjctYjgyMC00YzNlLTg5YzYtMjk4ZjBmNmQxZGIwZmQ1ODgyODUtZDg3YS00NDczLWEzNTkt…","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-23 17:01:02.482 +07:00 [INF] Request finished in 201.8928ms 302 
2020-09-23 17:01:02.486 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/home/error?errorId=CfDJ8H9fZSx1BlxCmY17EnGX2_Cmemgj0A1PuZ1L0XelphR7lx9sd3WrLNzpmpc3mitW19g3NaM0uwOSlDCY4vdbUbska56Hf9XD6WlOOKwietWyb_oqS9q1uMJK-0SDEzlqg57ipiiTI4ANBSbktAK8ORn3exAW7u6p-g59mTEg_L0_5V9NVsRJbR49Qfbjz5i15Zuqj3ebqbyWjjD5y8ZfonFVKMyr4xkzspze0d-jynq7pUmHWcNqLGyzKHBzNw-XKD1riDo614MACyGg9tKmPJ3-WafOIFZVJBygnfAQqoHl35bsY6V0WpvDO3LhwkMfJS-YHNda0gF4XtXr33bo-LVP3C44CIgxqd-5gjX3UhZTU8FxbGJuFehg0rO_kGo2wdKnlxNt6CRjIKdS_FkQHu3sERDEEMfPtsU8gTErUVoNHQUClu4rj3Y3LaUaK7YusCthd2o-cdrXStYj7FxvdYt5zJgZlU4nWiuHq9yw7TAwHA0lIV_VVMeBTE5HZou7Kw0YYw9E3YdYQ-KdDncYigBTwDslTuBaFoXi8Qy5Uvr9Z6z_ZkBFVha7M49h9u1ukUcRdcYBwF6un65bIePa8zOEjX9yQ1Ez4cPJSwm4LBE7ygiKplHyVkQPDIV1VyBM22fGWQU0QussIMp5tVOj7h4eCSfHflvanDckBZDY1wPr35DriO6JzE1DEi76jH3H7yynMJJTXBhQsZOz-AEl6uOinyEMuUFyAGl7FQzh5OU9GNc20fJR8aBF-nzmTOQQBAKKSTj6Fr6HkWGVMgMAnolTDRAQ1Da23dudFU6N7a0k0Zcym4pVDsMyh1YcF_B1-v_VSKp3lJotQX0ECHqP0nYm41QKZTTfYgGhPtUslb28xbjLoQLkJZePFlgFVcYzgx9WjpBEuLMcSf_PQQLRz54nFCDEH_Hgdcdk5lXTXkj4xJDHI-JSM9LgW_6k-PNR2Q  
2020-09-23 17:01:02.486 +07:00 [DBG] The request path /home/error does not match a supported file type
2020-09-23 17:01:02.489 +07:00 [DBG] 1 candidate(s) found for the request path '/home/error'
2020-09-23 17:01:02.492 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/home/error'
2020-09-23 17:01:02.492 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-23 17:01:02.493 +07:00 [INF] idsrv was not authenticated. Failure message: Unprotect ticket failed
2020-09-23 17:01:02.493 +07:00 [INF] idsrv was not authenticated. Failure message: Unprotect ticket failed
2020-09-23 17:01:02.494 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-23 17:01:02.505 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-23 17:01:02.561 +07:00 [INF] Route matched with {action = "Error", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String) on controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4).
2020-09-23 17:01:02.561 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-23 17:01:02.561 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-23 17:01:02.561 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:01:02.561 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-23 17:01:02.561 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:01:02.562 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-23 17:01:02.563 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-23 17:01:02.567 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' ...
2020-09-23 17:01:02.569 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' using the name 'errorId' in request data ...
2020-09-23 17:01:02.570 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-23 17:01:02.570 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-23 17:01:02.570 +07:00 [DBG] Attempting to validate the bound parameter 'errorId' of type 'System.String' ...
2020-09-23 17:01:02.571 +07:00 [DBG] Done attempting to validate the bound parameter 'errorId' of type 'System.String'.
2020-09-23 17:01:02.591 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-23 17:01:02.592 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-23 17:01:02.604 +07:00 [DBG] View lookup cache miss for view 'Error' in controller 'Home'.
2020-09-23 17:01:02.632 +07:00 [INF] Executing ViewResult, running view Error.
2020-09-23 17:01:02.636 +07:00 [DBG] The view path '/Views/Shared/Error.cshtml' was found in 28.8716ms.
2020-09-23 17:01:02.685 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2020-09-23 17:01:02.746 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Home'.
2020-09-23 17:01:02.758 +07:00 [INF] Executed ViewResult - view Error executed in 155.3051ms.
2020-09-23 17:01:02.759 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4) in 197.3582ms
2020-09-23 17:01:02.759 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-23 17:01:02.760 +07:00 [INF] Request finished in 274.2366ms 200 text/html; charset=utf-8
2020-09-23 17:01:02.794 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css  
2020-09-23 17:01:02.794 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/css/site.css  
2020-09-23 17:01:02.803 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/icon.png  
2020-09-23 17:01:02.815 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/jquery/dist/jquery.slim.min.js  
2020-09-23 17:01:02.836 +07:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\css\site.css'
2020-09-23 17:01:02.836 +07:00 [INF] Request finished in 41.7496ms 200 text/css
2020-09-23 17:01:02.836 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js  
2020-09-23 17:01:02.889 +07:00 [INF] Sending file. Request path: '/icon.png'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\icon.png'
2020-09-23 17:01:02.890 +07:00 [INF] Request finished in 87.43ms 200 image/png
2020-09-23 17:01:02.910 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2020-09-23 17:01:02.910 +07:00 [INF] Request finished in 116.5866ms 200 text/css
2020-09-23 17:01:03.307 +07:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\jquery\dist\jquery.slim.min.js'
2020-09-23 17:01:03.307 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2020-09-23 17:01:03.308 +07:00 [INF] Request finished in 471.7379ms 200 application/javascript
2020-09-23 17:01:03.308 +07:00 [INF] Request finished in 492.4873ms 200 application/javascript
2020-09-23 17:03:01.211 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:BackChannelLogoutClient'
2020-09-23 17:03:02.389 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:JwtRequestUriClient'
2020-09-23 17:03:11.239 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:03:11.259 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 9.4722ms - processed: 0 items - remaining: 2 items
2020-09-23 17:03:21.266 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:03:21.266 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
2020-09-23 17:03:31.268 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:03:31.269 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:03:41.271 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:03:41.272 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 2 items
2020-09-23 17:03:51.273 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:03:51.274 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 2 items
2020-09-23 17:04:01.275 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:04:01.276 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 2 items
2020-09-23 17:04:11.284 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:04:11.284 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 2 items
2020-09-23 17:04:21.285 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:04:21.285 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
2020-09-23 17:04:31.286 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:04:31.286 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
2020-09-23 17:04:41.287 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:04:41.288 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 2 items
2020-09-23 17:04:51.299 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:04:51.299 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 2 items
2020-09-23 17:05:01.300 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:05:01.300 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 2 items
2020-09-23 17:05:11.301 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:05:11.302 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0096ms - processed: 0 items - remaining: 2 items
2020-09-23 17:05:21.303 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:05:21.303 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 2 items
2020-09-23 17:05:31.303 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:05:31.303 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0148ms - processed: 0 items - remaining: 2 items
2020-09-23 17:05:41.305 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:05:41.305 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0155ms - processed: 0 items - remaining: 2 items
2020-09-23 17:05:51.306 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:05:51.307 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 2 items
2020-09-23 17:06:01.308 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:06:01.308 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 2 items
2020-09-23 17:06:11.309 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:06:11.309 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 2 items
2020-09-23 17:06:21.311 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:06:21.311 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
2020-09-23 17:06:31.311 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:06:31.311 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 2 items
2020-09-23 17:06:50.785 +07:00 [INF] Starting host...
2020-09-23 17:06:51.021 +07:00 [DBG] Hosting starting
2020-09-23 17:06:51.044 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-23 17:06:51.052 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-23 17:06:51.059 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-23 17:06:51.059 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-23 17:06:51.059 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-23 17:06:51.063 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-23 17:06:51.066 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-23 17:06:51.066 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-23 17:06:51.066 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-23 17:06:51.071 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-23 17:06:51.080 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-23 17:06:51.082 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-23 17:06:51.083 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-23 17:06:51.086 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-23 17:06:51.088 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-23 17:06:51.092 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-23 17:06:51.092 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-23 17:06:51.102 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-23 17:06:51.109 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-23 17:06:51.111 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-23 17:06:51.112 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-23 17:06:51.112 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-23 17:06:51.112 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-23 17:06:51.112 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-23 17:06:51.112 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-23 17:06:51.171 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-23 17:06:51.172 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-23 17:06:51.172 +07:00 [INF] Hosting environment: Development
2020-09-23 17:06:51.172 +07:00 [INF] Content root path: D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4
2020-09-23 17:06:51.172 +07:00 [DBG] Hosting started
2020-09-23 17:06:51.188 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-23 17:06:51.191 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-23 17:06:51.192 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-23 17:06:51.210 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-23 17:06:51.210 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:06:51.223 +07:00 [DBG] Login Url: /Account/Login
2020-09-23 17:06:51.224 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-23 17:06:51.224 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-23 17:06:51.224 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-23 17:06:51.224 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-23 17:06:51.224 +07:00 [DBG] Error Url: /home/error
2020-09-23 17:06:51.224 +07:00 [DBG] Error Id Parameter: errorId
2020-09-23 17:06:51.226 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:06:51.230 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:06:51.233 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-23 17:06:51.235 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-23 17:06:51.235 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-23 17:06:51.236 +07:00 [DBG] Start discovery request
2020-09-23 17:06:51.271 +07:00 [INF] Request finished in 85.3498ms 200 application/json; charset=UTF-8
2020-09-23 17:06:51.588 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-23 17:06:51.589 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-23 17:06:51.591 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-23 17:06:51.591 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:06:51.592 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:06:51.592 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:06:51.593 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-23 17:06:51.593 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-23 17:06:51.593 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-23 17:06:51.594 +07:00 [DBG] Start key discovery request
2020-09-23 17:06:51.602 +07:00 [INF] Request finished in 14.0831ms 200 application/json; charset=UTF-8
2020-09-23 17:06:51.953 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20identity.mvcclient.permission&code_challenge=aaxfj_-7CFjmye5devO4k2kJeH5xzG2-BIyhpB5StAc&code_challenge_method=S256&response_mode=form_post&nonce=637364524116291420.MmE3ZjYwNmMtOWEwZi00YzU4LTgxN2QtZmU2ZmQxOGFiN2RkYzA4ZmQzNGItNzczZS00ZGNkLThhZWEtZDFkM2VkMWE5OTEz&state=CfDJ8H9fZSx1BlxCmY17EnGX2_A1LOpTTwZooSjtIAI7jYOL1OykyJG7_rTOc0D4BcXRz4JGqw3d3X5YfC51IuL2cQAPDHU0YivqQK9A6aioXU486FGgIiQciEkLmi1Fd8jgoDqaLNw8hNMesLzmJvYCpjNjZ1JVJLpKqvesHf36Q4v0yCdnjLnN00YSjkyC07zR6t29gOiR8nHsXKv6Az5p1OxQnVcq6qbIZAPnxtNDrasbWRRlpQrEiB9d4YCzBVxJ20DpJlCFgfBFaTPow3Ho5OD3rcKZzIg42H9W3cJboAUz-xXZrC9lzhS40zC6HOU3XvQGnxF0Ue5N0p8OYZUQzPhWH_XrEZG3UR-W5p6brYUnmjhJa-jK87d7-LDgYOptSg&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-23 17:06:51.954 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-23 17:06:51.954 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-23 17:06:51.954 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:06:51.959 +07:00 [INF] idsrv was not authenticated. Failure message: Unprotect ticket failed
2020-09-23 17:06:51.961 +07:00 [INF] idsrv was not authenticated. Failure message: Unprotect ticket failed
2020-09-23 17:06:51.961 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-23 17:06:51.965 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-23 17:06:51.965 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-23 17:06:51.966 +07:00 [DBG] Start authorize request
2020-09-23 17:06:51.968 +07:00 [INF] idsrv was not authenticated. Failure message: Unprotect ticket failed
2020-09-23 17:06:51.969 +07:00 [DBG] No user present in authorize request
2020-09-23 17:06:51.970 +07:00 [DBG] Start authorize request protocol validation
2020-09-23 17:06:51.979 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-23 17:06:51.985 +07:00 [DBG] Checking for PKCE parameters
2020-09-23 17:06:52.006 +07:00 [ERR] Scope identity.mvcclient.permission not found in store.
2020-09-23 17:06:52.007 +07:00 [ERR] Request validation failed
2020-09-23 17:06:52.016 +07:00 [INF] {"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile identity.mvcclient.permission","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_A1LOpTTwZooSjtIAI7jYOL1OykyJG7_rTOc0D4BcXRz4JGqw3d3X5YfC51IuL2cQAPDHU0Yiv…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile identity.mvcclient.permission","code_challenge":"aaxfj_-7CFjmye5devO4k2kJeH5xzG2-BIyhpB5StAc","code_challenge_method":"S256","response_mode":"form_post","nonce":"637364524116291420.MmE3ZjYwNmMtOWEwZi00YzU4LTgxN2QtZmU2ZmQxOGFiN2RkYzA4ZmQzNGItNzczZS00ZGNkLThhZWEt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_A1LOpTTwZooSjtIAI7jYOL1OykyJG7_rTOc0D4BcXRz4JGqw3d3X5YfC51IuL2cQAPDHU0Yiv…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-23 17:06:52.034 +07:00 [INF] Request finished in 80.7509ms 302 
2020-09-23 17:06:52.038 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/home/error?errorId=CfDJ8H9fZSx1BlxCmY17EnGX2_BH4Mv3K42DZefAY5ttnRuzRR1bzkPP4XwhesfwOeDoylJkBLytWXcRSIV9tqUwefEEaILCI0Zu4bnEBGTn2ChQbP24rn-lOehbrYfdLtdhQ5SfT9hrUJxCci58OcWAid1dY7CifjJNEdfd9Bm9wYbiIcR2BVh2XJ1HgnugSU0iy0Q80oVg2ligfLGnU0c0QizmfgLnEj25iPsdjM0xi2h1xXzvDiZdhabW12JVA_P7diPvU-_FyDxLNwF7RdVr9EQuqp901gVXqcU0FrbGb8OQR4ZiR-z9mLUDhH7X0vd2qI1_QXC8N9crLXbaAe1kcivrYxE7wnMWXCWROaXGINqX2X8hQeVbxNJRoHr2z6NPF5vGwugzVRSBXSckXO-_gUMxzAbkxzmjYMl4Yj6QVBdtEUDsb346VH4iHglVp5aHdxsrFN2U5E1hd_vTQLnHK5lm2v7VFT1P8yc308aPfhHvUBLlJE1HepnaWkwllojQmDPUMqiNN4xBtoPR6U17HvesnwTYPSeRlW6-gIR2qAJbDL1dlxmeNXynZg9_yW1SWFbfR94tNUXWT1LCp-uOLUDrpQpGMi8PlMzlBP9piUxmtaocrlTzJRmhgEJjmBIK7loCC44xpvnaQTKhNxEt5Weg8IhkCHQ_NvVOVY0DUlhJZ_Sx3SKB1vnIczblEh9XDV2tBPsmkViunwe-E7M61fa0bzud36aP5duYnBQ5rPgpEMO742NnFqaf4GVtWAz0Ze9DTyV1rZEenjbw3_yNZbhfK5KuF1LhjUS5iiDynIpCqzXujf__4nnkgedWhEYyscbQ-HGNcDG5k5aBaulKtESniX1eghr3V6dPwIyM4YFoEuoFPHx9IHWCCb2dTuUCV05UEWcOgSguh50vt4p77irxJDj2Fln1CZUbGdpiIEtJBmzcIEJKfxRnGExKZ9AbRFRpniDjR8wVNNoqe9ZPeUiPbB5TPb8H8DGCJuvyj80NQFRxXHlpWWV1HFRJhtoNeAa2VFQeLkarOnJQnSYGx6_KlTsELogJct2CAMjnYgx2  
2020-09-23 17:06:52.039 +07:00 [DBG] The request path /home/error does not match a supported file type
2020-09-23 17:06:52.043 +07:00 [DBG] 1 candidate(s) found for the request path '/home/error'
2020-09-23 17:06:52.046 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/home/error'
2020-09-23 17:06:52.047 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-23 17:06:52.048 +07:00 [INF] idsrv was not authenticated. Failure message: Unprotect ticket failed
2020-09-23 17:06:52.049 +07:00 [INF] idsrv was not authenticated. Failure message: Unprotect ticket failed
2020-09-23 17:06:52.050 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-23 17:06:52.054 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-23 17:06:52.084 +07:00 [INF] Route matched with {action = "Error", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String) on controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4).
2020-09-23 17:06:52.084 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-23 17:06:52.085 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-23 17:06:52.085 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:06:52.085 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-23 17:06:52.085 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:06:52.086 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-23 17:06:52.087 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-23 17:06:52.090 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' ...
2020-09-23 17:06:52.093 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' using the name 'errorId' in request data ...
2020-09-23 17:06:52.102 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-23 17:06:52.103 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-23 17:06:52.103 +07:00 [DBG] Attempting to validate the bound parameter 'errorId' of type 'System.String' ...
2020-09-23 17:06:52.106 +07:00 [DBG] Done attempting to validate the bound parameter 'errorId' of type 'System.String'.
2020-09-23 17:06:52.120 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-23 17:06:52.120 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-23 17:06:52.120 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-23 17:06:52.120 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-23 17:06:52.120 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-23 17:06:52.120 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-23 17:06:52.120 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-23 17:06:52.120 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-23 17:06:52.120 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-23 17:06:52.120 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-23 17:06:52.120 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-23 17:06:52.121 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-23 17:06:52.121 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-23 17:06:52.121 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-23 17:06:52.121 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-23 17:06:52.121 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-23 17:06:52.121 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-23 17:06:52.121 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-23 17:06:52.121 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-23 17:06:52.128 +07:00 [DBG] View lookup cache miss for view 'Error' in controller 'Home'.
2020-09-23 17:06:52.133 +07:00 [INF] Executing ViewResult, running view Error.
2020-09-23 17:06:52.136 +07:00 [DBG] The view path '/Views/Shared/Error.cshtml' was found in 6.7336ms.
2020-09-23 17:06:52.152 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2020-09-23 17:06:52.167 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Home'.
2020-09-23 17:06:52.176 +07:00 [INF] Executed ViewResult - view Error executed in 48.9097ms.
2020-09-23 17:06:52.176 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4) in 90.9941ms
2020-09-23 17:06:52.176 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-23 17:06:52.178 +07:00 [INF] Request finished in 139.2471ms 200 text/html; charset=utf-8
2020-09-23 17:06:52.194 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css  
2020-09-23 17:06:52.194 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/css/site.css  
2020-09-23 17:06:52.200 +07:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\css\site.css'
2020-09-23 17:06:52.201 +07:00 [INF] Request finished in 6.3613ms 200 text/css
2020-09-23 17:06:52.207 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2020-09-23 17:06:52.208 +07:00 [INF] Request finished in 14.435ms 200 text/css
2020-09-23 17:06:52.236 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/icon.png  
2020-09-23 17:06:52.237 +07:00 [INF] Sending file. Request path: '/icon.png'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\icon.png'
2020-09-23 17:06:52.237 +07:00 [INF] Request finished in 0.7761ms 200 image/png
2020-09-23 17:06:52.263 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/jquery/dist/jquery.slim.min.js  
2020-09-23 17:06:52.263 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js  
2020-09-23 17:06:52.266 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2020-09-23 17:06:52.266 +07:00 [INF] Request finished in 3.1903ms 200 application/javascript
2020-09-23 17:06:52.269 +07:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\jquery\dist\jquery.slim.min.js'
2020-09-23 17:06:52.269 +07:00 [INF] Request finished in 6.1689ms 200 application/javascript
2020-09-23 17:06:52.355 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map  
2020-09-23 17:06:52.356 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css.map  
2020-09-23 17:06:52.411 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2020-09-23 17:06:52.412 +07:00 [INF] Request finished in 57.0741ms 200 text/plain
2020-09-23 17:06:52.417 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2020-09-23 17:06:52.418 +07:00 [INF] Request finished in 61.5121ms 200 text/plain
2020-09-23 17:07:10.563 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20identity.mvcclient.permission&code_challenge=G7rtlKWkqbJnhCpsXzVwczhOtiMFy7-sVtJSvwtpFQI&code_challenge_method=S256&response_mode=form_post&nonce=637364524302560071.NDA3NjAxN2MtYjU1YS00NjJmLTk1MGYtYjRlNmRhNDliZTA4OTQyNGNmOTgtOWNjZC00NDQ4LTgwYzItYTZjZWYyY2NmNGMx&state=CfDJ8H9fZSx1BlxCmY17EnGX2_ADerP2UVooFMfLEfwaF-Iaj1AkxMZSqYn0ZgulSWqilLnOILd4-Ow1R_SYr-kkS6Lzv3Ikd9R7vTK_-4qwjIRej1RkYLlRlkJ7gkSQf7Wu4dzDpXlZyQV5eDVkunBU_OrCv2gI_-Dk1JfC3uykPcA7wAMURRdLPhmXy41WDpOrTPnowYkXzNGcnYnDytB2bXwazGAnwX8e4cE-GZI5-Rwj2d2KsQDdzB5NXeGjTOTBticb0p-zFxdUT99CtriyYALdvFAIMH6_CJ5mpKfLQLkHcBpHiF6XeZHrkWWWrvWKTn7Yuc-0e-1GGLlLjDQi5Y1gbRT5Ip8kAtek0HtSi9hQoL-JkGzI1cozElFSVOLm_g&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-23 17:07:10.564 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-23 17:07:10.564 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-23 17:07:10.564 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:07:10.565 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:07:10.565 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:07:10.565 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-23 17:07:10.565 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-23 17:07:10.565 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-23 17:07:10.565 +07:00 [DBG] Start authorize request
2020-09-23 17:07:10.566 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:07:10.566 +07:00 [DBG] No user present in authorize request
2020-09-23 17:07:10.566 +07:00 [DBG] Start authorize request protocol validation
2020-09-23 17:07:10.566 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-23 17:07:10.566 +07:00 [DBG] Checking for PKCE parameters
2020-09-23 17:07:10.566 +07:00 [ERR] Scope identity.mvcclient.permission not found in store.
2020-09-23 17:07:10.566 +07:00 [ERR] Request validation failed
2020-09-23 17:07:10.567 +07:00 [INF] {"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile identity.mvcclient.permission","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_ADerP2UVooFMfLEfwaF-Iaj1AkxMZSqYn0ZgulSWqilLnOILd4-Ow1R_SYr-kkS6Lzv3Ikd9R…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile identity.mvcclient.permission","code_challenge":"G7rtlKWkqbJnhCpsXzVwczhOtiMFy7-sVtJSvwtpFQI","code_challenge_method":"S256","response_mode":"form_post","nonce":"637364524302560071.NDA3NjAxN2MtYjU1YS00NjJmLTk1MGYtYjRlNmRhNDliZTA4OTQyNGNmOTgtOWNjZC00NDQ4LTgwYzIt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_ADerP2UVooFMfLEfwaF-Iaj1AkxMZSqYn0ZgulSWqilLnOILd4-Ow1R_SYr-kkS6Lzv3Ikd9R…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-23 17:07:10.568 +07:00 [INF] Request finished in 4.2736ms 302 
2020-09-23 17:07:10.579 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/home/error?errorId=CfDJ8H9fZSx1BlxCmY17EnGX2_BhSbaIcrVYab60oCKu8_QM61ltoM3c_syXewF8G684a8C0qX1ZNO8GKtUq5xc9WcdY12HJ6ht7FGEfpsoZE5UKqM2osV5xypvz5-0tiixb5d0Udxz4cKvkPzOyqwUThEk1-X5atTuxY3Q3kFA7UPNc5BvieouxGJOXxbSVQKSDD-Tzm8_UI1GU-qAnBzJvY_XKwOWBixhHA02BNOynPAmWFGuIvpsefiF-QtKfaiunRbeC14bWM7FY6v6D1prCufNRKLkXA3uhHI-u6V4jVqEkC5zSSqvBOKF3AMxdpfQ1h_2rWTNhOjvV1YnKfFip1FG7bgtJhc5Kh_YD9DOlUiqjen2Ie5bZ5XWWgim5vluevi5sVfSN3CxUWoy42aluHtYprZq94K3_8SfDMj57bmhChJCYzE9qAJd1dGtiIcCSYgy2n7Y_Thfjk7DWHzolyKK4z1gyQldljqQEzwSkPQI3k1K3oKHW3SY9rhnQQijquGJRtCfy0251lT96uH6XKZvKKZQoNiRJepGi_eiI4NHQ7OSDz4GdQXBzFWdeUthIUyMzr7QPSuT1ZmuV0mt4fLW42G8eVP8yO2gnv7pjRVWG1VAGu8S2Ozq6-vV66v88zrcjgxcMa7JR2wzgDMytRgfB1Gwx2Z_SGPTKQiVMkXpUkhXdCr-kwi1POBDeFVekgJ81VQtx10otUXH5TRWLIQO0WijcC9v6mkpH1VH5_rs0CP2YK0lmj5Fui2-ptDZT3HVV-4qltSVD34pOhocIemKw3kvgYob1foGLR5xU11aKW5PWjiFiA0FEcoB506wphEgBLENvx_quenCT6sECbjGhtQ5WoJkS06EC08mwqRwErx3K1b3aJSdkwkDnRS_Y75oNP_p18kwzbCuxY4gBu4VeH9HqrXoc8i3NDuGwzVDuJYO7iqbhHR8e7NeLs2D1vfD0dAswqU8U6svOLjRXfJ5skBzldsVJlHOqrvC3eq_6X3ltMACyPEBO4IT-u09xTCfGBYtwF1TuTl_mJ6gsH68r4FCd5f3L0UNQMumEFj5r  
2020-09-23 17:07:10.579 +07:00 [DBG] The request path /home/error does not match a supported file type
2020-09-23 17:07:10.580 +07:00 [DBG] 1 candidate(s) found for the request path '/home/error'
2020-09-23 17:07:10.581 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/home/error'
2020-09-23 17:07:10.581 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-23 17:07:10.581 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:07:10.582 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:07:10.582 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-23 17:07:10.583 +07:00 [INF] Route matched with {action = "Error", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String) on controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4).
2020-09-23 17:07:10.583 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-23 17:07:10.583 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-23 17:07:10.583 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:07:10.583 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-23 17:07:10.583 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:07:10.584 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-23 17:07:10.584 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-23 17:07:10.584 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' ...
2020-09-23 17:07:10.584 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' using the name 'errorId' in request data ...
2020-09-23 17:07:10.584 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-23 17:07:10.585 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-23 17:07:10.585 +07:00 [DBG] Attempting to validate the bound parameter 'errorId' of type 'System.String' ...
2020-09-23 17:07:10.585 +07:00 [DBG] Done attempting to validate the bound parameter 'errorId' of type 'System.String'.
2020-09-23 17:07:10.586 +07:00 [DBG] View lookup cache hit for view 'Error' in controller 'Home'.
2020-09-23 17:07:10.586 +07:00 [INF] Executing ViewResult, running view Error.
2020-09-23 17:07:10.586 +07:00 [DBG] The view path '/Views/Shared/Error.cshtml' was found in 0.5533ms.
2020-09-23 17:07:10.588 +07:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Home'.
2020-09-23 17:07:10.590 +07:00 [DBG] View lookup cache hit for view '_Nav' in controller 'Home'.
2020-09-23 17:07:10.590 +07:00 [INF] Executed ViewResult - view Error executed in 4.3151ms.
2020-09-23 17:07:10.590 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4) in 6.6825ms
2020-09-23 17:07:10.590 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-23 17:07:10.590 +07:00 [INF] Request finished in 11.2694ms 200 text/html; charset=utf-8
2020-09-23 17:07:10.631 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/css/site.css  
2020-09-23 17:07:10.631 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css  
2020-09-23 17:07:10.636 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2020-09-23 17:07:10.636 +07:00 [INF] Request finished in 5.145ms 200 text/css
2020-09-23 17:07:10.636 +07:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\css\site.css'
2020-09-23 17:07:10.636 +07:00 [INF] Request finished in 5.5849ms 200 text/css
2020-09-23 17:07:10.645 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/icon.png  
2020-09-23 17:07:10.646 +07:00 [INF] Sending file. Request path: '/icon.png'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\icon.png'
2020-09-23 17:07:10.646 +07:00 [INF] Request finished in 1.4443ms 200 image/png
2020-09-23 17:07:10.652 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/jquery/dist/jquery.slim.min.js  
2020-09-23 17:07:10.661 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js  
2020-09-23 17:07:10.665 +07:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\jquery\dist\jquery.slim.min.js'
2020-09-23 17:07:10.665 +07:00 [INF] Request finished in 12.8501ms 200 application/javascript
2020-09-23 17:07:10.667 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2020-09-23 17:07:10.667 +07:00 [INF] Request finished in 6.3825ms 200 application/javascript
2020-09-23 17:07:10.686 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css.map  
2020-09-23 17:07:10.689 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2020-09-23 17:07:10.689 +07:00 [INF] Request finished in 3.8516ms 200 text/plain
2020-09-23 17:07:10.734 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map  
2020-09-23 17:07:10.735 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2020-09-23 17:07:10.736 +07:00 [INF] Request finished in 1.819ms 200 text/plain
2020-09-23 17:09:41.022 +07:00 [INF] Starting host...
2020-09-23 17:09:41.287 +07:00 [DBG] Hosting starting
2020-09-23 17:09:41.304 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-23 17:09:41.313 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-23 17:09:41.319 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-23 17:09:41.319 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-23 17:09:41.320 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-23 17:09:41.323 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-23 17:09:41.328 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-23 17:09:41.329 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-23 17:09:41.329 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-23 17:09:41.335 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-23 17:09:41.341 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-23 17:09:41.346 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-23 17:09:41.347 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-23 17:09:41.349 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-23 17:09:41.352 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-23 17:09:41.354 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-23 17:09:41.354 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-23 17:09:41.364 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-23 17:09:41.370 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-23 17:09:41.372 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-23 17:09:41.372 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-23 17:09:41.372 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-23 17:09:41.372 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-23 17:09:41.372 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-23 17:09:41.372 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-23 17:09:41.431 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-23 17:09:41.431 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-23 17:09:41.431 +07:00 [INF] Hosting environment: Development
2020-09-23 17:09:41.431 +07:00 [INF] Content root path: D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4
2020-09-23 17:09:41.431 +07:00 [DBG] Hosting started
2020-09-23 17:09:41.449 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-23 17:09:41.451 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-23 17:09:41.452 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-23 17:09:41.473 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-23 17:09:41.473 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:09:41.490 +07:00 [DBG] Login Url: /Account/Login
2020-09-23 17:09:41.490 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-23 17:09:41.490 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-23 17:09:41.490 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-23 17:09:41.490 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-23 17:09:41.490 +07:00 [DBG] Error Url: /home/error
2020-09-23 17:09:41.490 +07:00 [DBG] Error Id Parameter: errorId
2020-09-23 17:09:41.492 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:09:41.498 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:09:41.501 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-23 17:09:41.502 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-23 17:09:41.502 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-23 17:09:41.504 +07:00 [DBG] Start discovery request
2020-09-23 17:09:41.545 +07:00 [INF] Request finished in 98.3216ms 200 application/json; charset=UTF-8
2020-09-23 17:09:41.759 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-23 17:09:41.759 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-23 17:09:41.761 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-23 17:09:41.761 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:09:41.762 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:09:41.763 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:09:41.763 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-23 17:09:41.763 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-23 17:09:41.763 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-23 17:09:41.764 +07:00 [DBG] Start key discovery request
2020-09-23 17:09:41.773 +07:00 [INF] Request finished in 14.4148ms 200 application/json; charset=UTF-8
2020-09-23 17:09:42.115 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20identity.mvcclient&code_challenge=Vk00ZxlPb37d5jlzkzBeYvxnDmYgRuQZFwJ9bh6VxQo&code_challenge_method=S256&response_mode=form_post&nonce=637364525817938257.M2FhYmU3YmEtMmQzNy00YjIxLTkyN2MtMjU0MDg4NTA1OTY5YjljZGI3N2YtYWNkOC00ZGUxLWEzZWEtNzFiOTMwNGNjMzMx&state=CfDJ8H9fZSx1BlxCmY17EnGX2_Cm2L8YThF1ms_hxi2v60utPGzJ9KwAlX7Zno05LqNRrzEcHGY-9C6hia7Ly4d2zgdtngMV_S6GaMWY0i2H5xCe1spi5jMbuoLJfqbofCXwLI77CRTSwhXAkAiyooPer18vSP0baBf9B8Na9Vf0JtrKzTzlgssRPq5iSINBEt8IZFnEfiUW5T7EsQ6ikL0N1HpcuA0Mgb0lbdLAPVvHcUblGNirU1HeotewDMHqYQsX9jjIopp7LGFq-DcsccUh2oolAaLqiLsEt-tMaSDaWrWmEnFdGy59kzcv_LDP6X3nKVDStb8DjWcds29Qx2yqpcvZR9FVkJ9ceWL5wzbhbr2lfJub36H_BRaiXtbwkx9tbw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-23 17:09:42.116 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-23 17:09:42.116 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-23 17:09:42.116 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:09:42.120 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:09:42.122 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:09:42.123 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-23 17:09:42.127 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-23 17:09:42.127 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-23 17:09:42.128 +07:00 [DBG] Start authorize request
2020-09-23 17:09:42.130 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:09:42.132 +07:00 [DBG] No user present in authorize request
2020-09-23 17:09:42.134 +07:00 [DBG] Start authorize request protocol validation
2020-09-23 17:09:42.142 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-23 17:09:42.151 +07:00 [DBG] Checking for PKCE parameters
2020-09-23 17:09:42.168 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-23 17:09:42.180 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile identity.mvcclient","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_Cm2L8YThF1ms_hxi2v60utPGzJ9KwAlX7Zno05LqNRrzEcHGY-9C6hia7Ly4d2zgdtngMV_S6…","UiLocales":null,"Nonce":"637364525817938257.M2FhYmU3YmEtMmQzNy00YjIxLTkyN2MtMjU0MDg4NTA1OTY5YjljZGI3N2YtYWNkOC00ZGUxLWEzZWEt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile identity.mvcclient","code_challenge":"Vk00ZxlPb37d5jlzkzBeYvxnDmYgRuQZFwJ9bh6VxQo","code_challenge_method":"S256","response_mode":"form_post","nonce":"637364525817938257.M2FhYmU3YmEtMmQzNy00YjIxLTkyN2MtMjU0MDg4NTA1OTY5YjljZGI3N2YtYWNkOC00ZGUxLWEzZWEt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_Cm2L8YThF1ms_hxi2v60utPGzJ9KwAlX7Zno05LqNRrzEcHGY-9C6hia7Ly4d2zgdtngMV_S6…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-23 17:09:42.206 +07:00 [INF] Showing login: User is not authenticated
2020-09-23 17:09:42.210 +07:00 [INF] Request finished in 94.2338ms 302 
2020-09-23 17:09:42.216 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.mvcclient%26code_challenge%3DVk00ZxlPb37d5jlzkzBeYvxnDmYgRuQZFwJ9bh6VxQo%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637364525817938257.M2FhYmU3YmEtMmQzNy00YjIxLTkyN2MtMjU0MDg4NTA1OTY5YjljZGI3N2YtYWNkOC00ZGUxLWEzZWEtNzFiOTMwNGNjMzMx%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_Cm2L8YThF1ms_hxi2v60utPGzJ9KwAlX7Zno05LqNRrzEcHGY-9C6hia7Ly4d2zgdtngMV_S6GaMWY0i2H5xCe1spi5jMbuoLJfqbofCXwLI77CRTSwhXAkAiyooPer18vSP0baBf9B8Na9Vf0JtrKzTzlgssRPq5iSINBEt8IZFnEfiUW5T7EsQ6ikL0N1HpcuA0Mgb0lbdLAPVvHcUblGNirU1HeotewDMHqYQsX9jjIopp7LGFq-DcsccUh2oolAaLqiLsEt-tMaSDaWrWmEnFdGy59kzcv_LDP6X3nKVDStb8DjWcds29Qx2yqpcvZR9FVkJ9ceWL5wzbhbr2lfJub36H_BRaiXtbwkx9tbw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-23 17:09:42.216 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-23 17:09:42.221 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-23 17:09:42.224 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-23 17:09:42.224 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-23 17:09:42.225 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:09:42.225 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:09:42.227 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-23 17:09:42.232 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-23 17:09:42.256 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-23 17:09:42.257 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-23 17:09:42.257 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-23 17:09:42.257 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:09:42.257 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-23 17:09:42.257 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:09:42.258 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-23 17:09:42.259 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-23 17:09:42.262 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-23 17:09:42.265 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-23 17:09:42.265 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-23 17:09:42.266 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-23 17:09:42.266 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-23 17:09:42.267 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-23 17:09:42.274 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:09:42.274 +07:00 [DBG] Start authorize request protocol validation
2020-09-23 17:09:42.274 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-23 17:09:42.275 +07:00 [DBG] Checking for PKCE parameters
2020-09-23 17:09:42.275 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-23 17:09:42.276 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-23 17:09:42.281 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-23 17:09:42.281 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-23 17:09:42.281 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-23 17:09:42.281 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-23 17:09:42.281 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-23 17:09:42.281 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-23 17:09:42.281 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-23 17:09:42.281 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-23 17:09:42.281 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-23 17:09:42.282 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-23 17:09:42.282 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-23 17:09:42.282 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-23 17:09:42.282 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-23 17:09:42.282 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-23 17:09:42.282 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-23 17:09:42.282 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-23 17:09:42.282 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-23 17:09:42.282 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-23 17:09:42.282 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-23 17:09:42.286 +07:00 [DBG] View lookup cache miss for view 'Login' in controller 'Account'.
2020-09-23 17:09:42.291 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-23 17:09:42.295 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 6.1507ms.
2020-09-23 17:09:42.316 +07:00 [DBG] View lookup cache miss for view '_ValidationSummary' in controller 'Account'.
2020-09-23 17:09:42.355 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-23 17:09:42.377 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-23 17:09:42.453 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2020-09-23 17:09:42.461 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Account'.
2020-09-23 17:09:42.470 +07:00 [INF] Executed ViewResult - view Login executed in 184.3213ms.
2020-09-23 17:09:42.470 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 212.9143ms
2020-09-23 17:09:42.470 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-23 17:09:42.472 +07:00 [INF] Request finished in 255.8435ms 200 text/html; charset=utf-8
2020-09-23 17:10:05.445 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-23 17:10:05.445 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-23 17:10:05.446 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-23 17:10:05.446 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:10:05.447 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:10:05.447 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:10:05.448 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-23 17:10:05.448 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-23 17:10:05.448 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-23 17:10:05.448 +07:00 [DBG] Start discovery request
2020-09-23 17:10:05.449 +07:00 [INF] Request finished in 4.4486ms 200 application/json; charset=UTF-8
2020-09-23 17:10:05.641 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-23 17:10:05.641 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-23 17:10:05.641 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-23 17:10:05.641 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:10:05.642 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:10:05.642 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:10:05.642 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-23 17:10:05.642 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-23 17:10:05.642 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-23 17:10:05.642 +07:00 [DBG] Start key discovery request
2020-09-23 17:10:05.642 +07:00 [INF] Request finished in 1.9492ms 200 application/json; charset=UTF-8
2020-09-23 17:10:05.693 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile&state=OpenIdConnect.AuthenticationProperties%3DyhU2XsnlXfeeu-e_hSimrFlhfbGFDt4XD02LtAPtYSHGVnMjnhHkE0ZuuKeG_ub4l1ceIZp6pIBcHNECwf8vZ_-A_vKSFwLnmqnSgapA-OUgNnowCX06isWZxsVCm1tZgaSxzoctO46hhu6gW4XBFioLG_puhkxNECbaEvuzMTRQll4wzYYZkv63pMiVhKLBZEQVuoxQl95cbEyZWytcgthEt5b7_aZtmWgJIeWrvDI&response_mode=form_post&nonce=637364526056758620.ZmViNTA5YTctMjZlZC00ZWNjLTk1NWQtNGUzZGQxNGU5NGU0NmU3ODZmNWUtYTRiZS00YzNhLWE2OTItMjhjODMzZGY3Mzhm&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-23 17:10:05.693 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-23 17:10:05.693 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-23 17:10:05.693 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:10:05.694 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:10:05.694 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:10:05.694 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-23 17:10:05.694 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-23 17:10:05.694 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-23 17:10:05.694 +07:00 [DBG] Start authorize request
2020-09-23 17:10:05.695 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:10:05.695 +07:00 [DBG] No user present in authorize request
2020-09-23 17:10:05.695 +07:00 [DBG] Start authorize request protocol validation
2020-09-23 17:10:05.695 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-23 17:10:05.695 +07:00 [DBG] Checking for PKCE parameters
2020-09-23 17:10:05.696 +07:00 [ERR] code_challenge is missing
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"OpenIdConnect.AuthenticationProperties=yhU2XsnlXfeeu-e_hSimrFlhfbGFDt4XD02LtAPtYSHGVnMjnhHkE0ZuuKeG…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile","state":"OpenIdConnect.AuthenticationProperties=yhU2XsnlXfeeu-e_hSimrFlhfbGFDt4XD02LtAPtYSHGVnMjnhHkE0ZuuKeG…","response_mode":"form_post","nonce":"637364526056758620.ZmViNTA5YTctMjZlZC00ZWNjLTk1NWQtNGUzZGQxNGU5NGU0NmU3ODZmNWUtYTRiZS00YzNhLWE2OTIt…","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-23 17:10:05.697 +07:00 [ERR] Request validation failed
2020-09-23 17:10:05.697 +07:00 [INF] {"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"","State":"OpenIdConnect.AuthenticationProperties=yhU2XsnlXfeeu-e_hSimrFlhfbGFDt4XD02LtAPtYSHGVnMjnhHkE0ZuuKeG…","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile","state":"OpenIdConnect.AuthenticationProperties=yhU2XsnlXfeeu-e_hSimrFlhfbGFDt4XD02LtAPtYSHGVnMjnhHkE0ZuuKeG…","response_mode":"form_post","nonce":"637364526056758620.ZmViNTA5YTctMjZlZC00ZWNjLTk1NWQtNGUzZGQxNGU5NGU0NmU3ODZmNWUtYTRiZS00YzNhLWE2OTIt…","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-23 17:10:05.707 +07:00 [INF] Request finished in 13.7176ms 302 
2020-09-23 17:10:05.712 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/home/error?errorId=CfDJ8H9fZSx1BlxCmY17EnGX2_ATcX5K5l1XHSU52xcrKAkCNhCjPSeWYqiWc3UVisqZx4lb2VCEpiWdgQuBs4NOylHOh27xYK5afoEkLmP9uQ76MgbjcLaSrO7j_j39UORZ3fTTbTgJpFqF5E7pl8zn27BcxSUw1QR674lM_hgiaPaihXENhh-u_XT9M04OKQN5PHFs8cDQ_GU3RuCVAGGQwMHS8P4sWyNgYYZ_b52gjTwgP4EdPRXdMIlhHrjQzG6hB0zNQ-oe3XFS_U630wp7gC55eW49zguxNj-gtdSa8eAxlffykVeim-_rARYK4OyS4A2qYo2ubSG0G7hlB3j8gThhtTJUZY2Udo4fmwoUBfUoArZwWb1f3vatdApHzUz-1Lc5_ihxPPnAKgR-X7PGU2RrEb-VshJgDL7Aoef6qgyrZVe1qIWVLLJoDQ2veJHALGhFRChcaAg3hHOmOwb6Xi6vVBlvPx1jiOnxEDrY85SkJUk8iUAWn8_wGwjvFIqpL9JqpiKCslKlTK2eJJTPB1MyuS6COVKwc93tvt281wMdGgJ5zTXSMrNtM-nXq_HfTtkbHTxSSK9fTxekni7AhDE1GcOE-gE5ClIg6_M6WcxrxAcpC7SmNl_dRq62ksIRz4C5GNT__8Sto0u4ec9FME4WB0YJ5DPWa_axXCcJWefXv3xNchQhw6LcZgiH5uqFS7ZUBP9RnC8Ox5RGhdw8HPyd1kthGo46JbycjlKPP-4NTtPlVttUb6_z0aYSMTGKQQ6onHb-42xqBikzZuM8q6a-2X_nj3I1g4bA1XTcD6VZS_npQLDbZRk70TVMSu_Zent3Ly4t4qrWz3EMwisT38uE3NDPbxFeqWTxkHOt7ONPUE52w3H8iwEZXDpS93RNKIayQA0V7kZrw0Ft68gK_Wy1plKjPadKVVLLGoVvRpN4ABmb3Vv-YD036KbCBNEaGQ  
2020-09-23 17:10:05.712 +07:00 [DBG] The request path /home/error does not match a supported file type
2020-09-23 17:10:05.712 +07:00 [DBG] 1 candidate(s) found for the request path '/home/error'
2020-09-23 17:10:05.712 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/home/error'
2020-09-23 17:10:05.712 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-23 17:10:05.713 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:10:05.713 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:10:05.713 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-23 17:10:05.721 +07:00 [INF] Route matched with {action = "Error", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Error(System.String) on controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4).
2020-09-23 17:10:05.721 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-23 17:10:05.721 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-23 17:10:05.721 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:10:05.721 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-23 17:10:05.721 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:10:05.722 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-23 17:10:05.722 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-23 17:10:05.723 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' ...
2020-09-23 17:10:05.723 +07:00 [DBG] Attempting to bind parameter 'errorId' of type 'System.String' using the name 'errorId' in request data ...
2020-09-23 17:10:05.723 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-23 17:10:05.723 +07:00 [DBG] Done attempting to bind parameter 'errorId' of type 'System.String'.
2020-09-23 17:10:05.723 +07:00 [DBG] Attempting to validate the bound parameter 'errorId' of type 'System.String' ...
2020-09-23 17:10:05.724 +07:00 [DBG] Done attempting to validate the bound parameter 'errorId' of type 'System.String'.
2020-09-23 17:10:05.730 +07:00 [DBG] View lookup cache miss for view 'Error' in controller 'Home'.
2020-09-23 17:10:05.731 +07:00 [INF] Executing ViewResult, running view Error.
2020-09-23 17:10:05.731 +07:00 [DBG] The view path '/Views/Shared/Error.cshtml' was found in 1.0769ms.
2020-09-23 17:10:05.736 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2020-09-23 17:10:05.738 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Home'.
2020-09-23 17:10:05.739 +07:00 [INF] Executed ViewResult - view Error executed in 9.2187ms.
2020-09-23 17:10:05.740 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4) in 17.6176ms
2020-09-23 17:10:05.740 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Error (SsoIdentityServer4)'
2020-09-23 17:10:05.740 +07:00 [INF] Request finished in 27.9068ms 200 text/html; charset=utf-8
2020-09-23 17:10:05.804 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css  
2020-09-23 17:10:05.807 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/css/site.css  
2020-09-23 17:10:05.807 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/icon.png  
2020-09-23 17:10:05.815 +07:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\css\site.css'
2020-09-23 17:10:05.815 +07:00 [INF] Request finished in 8.0153ms 200 text/css
2020-09-23 17:10:05.816 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/jquery/dist/jquery.slim.min.js  
2020-09-23 17:10:05.817 +07:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\jquery\dist\jquery.slim.min.js'
2020-09-23 17:10:05.817 +07:00 [INF] Sending file. Request path: '/icon.png'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\icon.png'
2020-09-23 17:10:05.818 +07:00 [INF] Request finished in 11.147ms 200 image/png
2020-09-23 17:10:05.818 +07:00 [INF] Request finished in 2.2441ms 200 application/javascript
2020-09-23 17:10:05.819 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js  
2020-09-23 17:10:05.822 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2020-09-23 17:10:05.823 +07:00 [INF] Request finished in 19.4298ms 200 text/css
2020-09-23 17:10:05.822 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2020-09-23 17:10:05.823 +07:00 [INF] Request finished in 4.7439ms 200 application/javascript
2020-09-23 17:10:05.890 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css.map  
2020-09-23 17:10:05.892 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map  
2020-09-23 17:10:05.893 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2020-09-23 17:10:05.893 +07:00 [INF] Request finished in 3.1165ms 200 text/plain
2020-09-23 17:10:05.894 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2020-09-23 17:10:05.894 +07:00 [INF] Request finished in 1.7802ms 200 text/plain
2020-09-23 17:11:41.514 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:BackChannelLogoutClient'
2020-09-23 17:11:42.140 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:JwtRequestUriClient'
2020-09-23 17:11:51.541 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:11:51.554 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1107ms - processed: 0 items - remaining: 2 items
2020-09-23 17:12:01.565 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:12:01.566 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0161ms - processed: 0 items - remaining: 2 items
2020-09-23 17:12:11.567 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:12:11.569 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.2519ms - processed: 0 items - remaining: 2 items
2020-09-23 17:12:21.576 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:12:21.577 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0164ms - processed: 0 items - remaining: 2 items
2020-09-23 17:12:31.586 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:12:31.587 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0298ms - processed: 0 items - remaining: 2 items
2020-09-23 17:12:41.589 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:12:41.589 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2020-09-23 17:12:51.602 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:12:51.602 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 2 items
2020-09-23 17:13:01.602 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:13:01.603 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 2 items
2020-09-23 17:13:11.603 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:13:11.603 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 2 items
2020-09-23 17:13:21.604 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:13:21.605 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0226ms - processed: 0 items - remaining: 2 items
2020-09-23 17:13:31.605 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:13:31.606 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2020-09-23 17:13:41.616 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:13:41.616 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 2 items
2020-09-23 17:13:51.617 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:13:51.617 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 2 items
2020-09-23 17:14:01.618 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:14:01.618 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0285ms - processed: 0 items - remaining: 2 items
2020-09-23 17:14:11.619 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:14:11.619 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 2 items
2020-09-23 17:14:21.620 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:14:21.620 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 2 items
2020-09-23 17:14:31.621 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:14:31.621 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 2 items
2020-09-23 17:14:41.621 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:14:41.621 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 2 items
2020-09-23 17:14:51.622 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:14:51.622 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 2 items
2020-09-23 17:15:01.622 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:15:01.622 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 2 items
2020-09-23 17:15:11.623 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:15:11.623 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 2 items
2020-09-23 17:15:21.624 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:15:21.624 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 2 items
2020-09-23 17:15:31.624 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:15:31.625 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
2020-09-23 17:15:41.625 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:15:41.625 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
2020-09-23 17:15:51.625 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:15:51.625 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 2 items
2020-09-23 17:16:01.626 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:16:01.626 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 2 items
2020-09-23 17:16:11.627 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:16:11.627 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 2 items
2020-09-23 17:16:21.627 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:16:21.627 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
2020-09-23 17:16:31.628 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:16:31.628 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
2020-09-23 17:16:41.628 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:16:41.628 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
2020-09-23 17:16:51.629 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:16:51.629 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-23 17:17:01.630 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:17:01.630 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2020-09-23 17:17:11.630 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:17:11.630 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:17:21.632 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:17:21.632 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-23 17:17:31.633 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:17:31.633 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2020-09-23 17:17:41.634 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:17:41.634 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2020-09-23 17:17:51.634 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:17:51.634 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2020-09-23 17:18:01.635 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:18:01.635 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2020-09-23 17:18:11.635 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:18:11.636 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2020-09-23 17:18:21.637 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:18:21.637 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2020-09-23 17:18:31.637 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:18:31.637 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2020-09-23 17:18:41.638 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:18:41.638 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-23 17:18:51.639 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:18:51.639 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2020-09-23 17:19:01.640 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:19:01.640 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:19:11.640 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:19:11.640 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2020-09-23 17:19:21.641 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:19:21.641 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-23 17:19:31.642 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:19:31.642 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2020-09-23 17:19:41.643 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:19:41.643 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 2 items
2020-09-23 17:19:51.645 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:19:51.645 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:20:01.646 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:20:01.646 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-23 17:20:11.646 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:20:11.646 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2020-09-23 17:20:21.646 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:20:21.646 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-23 17:20:31.647 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:20:31.647 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:20:41.648 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:20:41.648 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2020-09-23 17:20:51.649 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:20:51.649 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2020-09-23 17:21:01.650 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:21:01.650 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-23 17:21:11.650 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:21:11.650 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-23 17:21:21.650 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:21:21.650 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-23 17:21:31.651 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:21:31.651 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:21:41.652 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:21:41.652 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:21:51.652 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:21:51.653 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-23 17:22:01.653 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:22:01.653 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-23 17:22:11.653 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:22:11.653 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-23 17:22:21.654 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:22:21.654 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2020-09-23 17:22:31.654 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:22:31.654 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:22:41.655 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:22:41.655 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-23 17:22:51.655 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:22:51.655 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:23:01.655 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:23:01.655 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2020-09-23 17:23:11.656 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:23:11.656 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2020-09-23 17:23:21.656 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:23:21.656 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0007ms - processed: 0 items - remaining: 2 items
2020-09-23 17:23:31.657 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:23:31.657 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:23:41.657 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:23:41.657 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-23 17:23:51.657 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:23:51.657 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2020-09-23 17:24:01.658 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:24:01.658 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-23 17:24:11.659 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:24:11.659 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-23 17:24:21.659 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:24:21.659 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2020-09-23 17:24:31.660 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:24:31.660 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2020-09-23 17:24:41.660 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:24:41.661 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
2020-09-23 17:24:51.661 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:24:51.661 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 2 items
2020-09-23 17:25:01.662 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:25:01.663 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-23 17:25:11.663 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:25:11.663 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2020-09-23 17:25:21.664 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:25:21.665 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 2 items
2020-09-23 17:25:31.665 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:25:31.665 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 2 items
2020-09-23 17:25:41.666 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:25:41.666 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:25:51.666 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:25:51.666 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:26:01.667 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:26:01.667 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
2020-09-23 17:26:11.667 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:26:11.667 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2020-09-23 17:26:21.667 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:26:21.667 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:26:31.668 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:26:31.668 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-23 17:26:41.668 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:26:41.668 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:26:51.669 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:26:51.669 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-23 17:27:01.670 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:27:01.670 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-23 17:27:11.670 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:27:11.670 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2020-09-23 17:27:21.677 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:27:21.677 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-23 17:27:31.679 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:27:31.679 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 2 items
2020-09-23 17:27:41.679 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:27:41.679 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2020-09-23 17:27:51.679 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:27:51.679 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-23 17:28:01.680 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:28:01.680 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.001ms - processed: 0 items - remaining: 2 items
2020-09-23 17:28:11.680 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:28:11.680 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 2 items
2020-09-23 17:28:21.681 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:28:21.681 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2020-09-23 17:28:31.683 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:28:31.683 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 2 items
2020-09-23 17:28:41.684 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:28:41.684 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2020-09-23 17:28:51.684 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:28:51.685 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 2 items
2020-09-23 17:51:09.999 +07:00 [INF] Starting host...
2020-09-23 17:51:10.220 +07:00 [DBG] Hosting starting
2020-09-23 17:51:10.236 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-23 17:51:10.245 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-23 17:51:10.250 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-23 17:51:10.250 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-23 17:51:10.251 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-23 17:51:10.255 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-23 17:51:10.258 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-23 17:51:10.258 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-23 17:51:10.258 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-23 17:51:10.263 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-23 17:51:10.270 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-23 17:51:10.272 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-23 17:51:10.273 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-23 17:51:10.276 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-23 17:51:10.278 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-23 17:51:10.280 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-23 17:51:10.280 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-23 17:51:10.289 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-23 17:51:10.294 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-23 17:51:10.296 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-23 17:51:10.296 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-23 17:51:10.296 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-23 17:51:10.296 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-23 17:51:10.296 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-23 17:51:10.296 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-23 17:51:10.359 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-23 17:51:10.359 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-23 17:51:10.359 +07:00 [INF] Hosting environment: Development
2020-09-23 17:51:10.359 +07:00 [INF] Content root path: D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4
2020-09-23 17:51:10.359 +07:00 [DBG] Hosting started
2020-09-23 17:51:10.377 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-23 17:51:10.379 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-23 17:51:10.380 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-23 17:51:10.398 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-23 17:51:10.398 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:51:10.410 +07:00 [DBG] Login Url: /Account/Login
2020-09-23 17:51:10.410 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-23 17:51:10.410 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-23 17:51:10.410 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-23 17:51:10.410 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-23 17:51:10.410 +07:00 [DBG] Error Url: /home/error
2020-09-23 17:51:10.410 +07:00 [DBG] Error Id Parameter: errorId
2020-09-23 17:51:10.413 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:51:10.418 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:51:10.421 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-23 17:51:10.422 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-23 17:51:10.422 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-23 17:51:10.423 +07:00 [DBG] Start discovery request
2020-09-23 17:51:10.456 +07:00 [INF] Request finished in 80.2717ms 200 application/json; charset=UTF-8
2020-09-23 17:51:10.643 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-23 17:51:10.644 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-23 17:51:10.645 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-23 17:51:10.646 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:51:10.647 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:51:10.647 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:51:10.647 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-23 17:51:10.648 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-23 17:51:10.648 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-23 17:51:10.648 +07:00 [DBG] Start key discovery request
2020-09-23 17:51:10.657 +07:00 [INF] Request finished in 14.3641ms 200 application/json; charset=UTF-8
2020-09-23 17:51:11.005 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20identity.mvcclient&code_challenge=fmVcixQpBGmvscKN0HDTgRCaEF7Wfnq2Hvtt0PU2OxI&code_challenge_method=S256&response_mode=form_post&nonce=637364550706828350.NTk1YTI4YmQtMmM2Ny00OGZjLTg4NjItMjU3MTAzN2Q4N2ZiOGRlZjY4ZDEtMTQ1OS00MTM1LTkwOWQtN2IyYjA3OWMwY2U4&state=CfDJ8H9fZSx1BlxCmY17EnGX2_BXN9hlTkxMD3A5fUCjEkfKr7P6DaZaa6mf0s6bOumkamFNXjEefwQlm5YBvTqL2F8-3x9KfGHPIU4xD9mcWae52lDA5KT16hqR3RTgqSc9pIP7ELQ5VGHPP1MnH00RG4yI58w_wbwbaIobze84XfxQhR7v5tggrI8vdI4dyskk7fpYmyZJq-gA_hfS_38mQYcA0S45udQ6zjBzYxXC7r0GzXWA3TKwVXxCY9hL6_ZC7vP2k44y_918VElgsjstMv3_Cen0aOzPENDJayK6lH_hl5gJ0cQTaIpvjtS5-5LMeawFqYTFCKjdRDPb0qI8fXC1ye11LDrTkDTd0Nl-7XTTSU1QMOQch74RySSSndHTyA&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-23 17:51:11.006 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-23 17:51:11.007 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-23 17:51:11.007 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:51:11.011 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:51:11.013 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:51:11.013 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-23 17:51:11.017 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-23 17:51:11.017 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-23 17:51:11.018 +07:00 [DBG] Start authorize request
2020-09-23 17:51:11.020 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:51:11.022 +07:00 [DBG] No user present in authorize request
2020-09-23 17:51:11.024 +07:00 [DBG] Start authorize request protocol validation
2020-09-23 17:51:11.030 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-23 17:51:11.037 +07:00 [DBG] Checking for PKCE parameters
2020-09-23 17:51:11.050 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-23 17:51:11.060 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile identity.mvcclient","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_BXN9hlTkxMD3A5fUCjEkfKr7P6DaZaa6mf0s6bOumkamFNXjEefwQlm5YBvTqL2F8-3x9KfGH…","UiLocales":null,"Nonce":"637364550706828350.NTk1YTI4YmQtMmM2Ny00OGZjLTg4NjItMjU3MTAzN2Q4N2ZiOGRlZjY4ZDEtMTQ1OS00MTM1LTkwOWQt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile identity.mvcclient","code_challenge":"fmVcixQpBGmvscKN0HDTgRCaEF7Wfnq2Hvtt0PU2OxI","code_challenge_method":"S256","response_mode":"form_post","nonce":"637364550706828350.NTk1YTI4YmQtMmM2Ny00OGZjLTg4NjItMjU3MTAzN2Q4N2ZiOGRlZjY4ZDEtMTQ1OS00MTM1LTkwOWQt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_BXN9hlTkxMD3A5fUCjEkfKr7P6DaZaa6mf0s6bOumkamFNXjEefwQlm5YBvTqL2F8-3x9KfGH…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-23 17:51:11.070 +07:00 [INF] Showing login: User is not authenticated
2020-09-23 17:51:11.073 +07:00 [INF] Request finished in 68.0305ms 302 
2020-09-23 17:51:11.077 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.mvcclient%26code_challenge%3DfmVcixQpBGmvscKN0HDTgRCaEF7Wfnq2Hvtt0PU2OxI%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637364550706828350.NTk1YTI4YmQtMmM2Ny00OGZjLTg4NjItMjU3MTAzN2Q4N2ZiOGRlZjY4ZDEtMTQ1OS00MTM1LTkwOWQtN2IyYjA3OWMwY2U4%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_BXN9hlTkxMD3A5fUCjEkfKr7P6DaZaa6mf0s6bOumkamFNXjEefwQlm5YBvTqL2F8-3x9KfGHPIU4xD9mcWae52lDA5KT16hqR3RTgqSc9pIP7ELQ5VGHPP1MnH00RG4yI58w_wbwbaIobze84XfxQhR7v5tggrI8vdI4dyskk7fpYmyZJq-gA_hfS_38mQYcA0S45udQ6zjBzYxXC7r0GzXWA3TKwVXxCY9hL6_ZC7vP2k44y_918VElgsjstMv3_Cen0aOzPENDJayK6lH_hl5gJ0cQTaIpvjtS5-5LMeawFqYTFCKjdRDPb0qI8fXC1ye11LDrTkDTd0Nl-7XTTSU1QMOQch74RySSSndHTyA%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-23 17:51:11.077 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-23 17:51:11.081 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-23 17:51:11.083 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-23 17:51:11.084 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-23 17:51:11.084 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:51:11.084 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:51:11.085 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-23 17:51:11.089 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-23 17:51:11.111 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-23 17:51:11.112 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-23 17:51:11.112 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-23 17:51:11.112 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:51:11.112 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-23 17:51:11.112 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:51:11.113 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-23 17:51:11.114 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-23 17:51:11.117 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-23 17:51:11.119 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-23 17:51:11.119 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-23 17:51:11.119 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-23 17:51:11.120 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-23 17:51:11.121 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-23 17:51:11.128 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:51:11.128 +07:00 [DBG] Start authorize request protocol validation
2020-09-23 17:51:11.128 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-23 17:51:11.128 +07:00 [DBG] Checking for PKCE parameters
2020-09-23 17:51:11.129 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-23 17:51:11.130 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-23 17:51:11.135 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-23 17:51:11.140 +07:00 [DBG] View lookup cache miss for view 'Login' in controller 'Account'.
2020-09-23 17:51:11.145 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-23 17:51:11.150 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 6.4706ms.
2020-09-23 17:51:11.170 +07:00 [DBG] View lookup cache miss for view '_ValidationSummary' in controller 'Account'.
2020-09-23 17:51:11.182 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-23 17:51:11.184 +07:00 [DBG] An antiforgery cookie token was reused.
2020-09-23 17:51:11.206 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2020-09-23 17:51:11.216 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Account'.
2020-09-23 17:51:11.223 +07:00 [INF] Executed ViewResult - view Login executed in 84.4238ms.
2020-09-23 17:51:11.224 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 111.7962ms
2020-09-23 17:51:11.224 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-23 17:51:11.226 +07:00 [INF] Request finished in 149.1029ms 200 text/html; charset=utf-8
2020-09-23 17:53:10.418 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:BackChannelLogoutClient'
2020-09-23 17:53:11.023 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:JwtRequestUriClient'
2020-09-23 17:53:20.430 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:53:20.433 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0302ms - processed: 0 items - remaining: 2 items
2020-09-23 17:53:30.441 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:53:30.441 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0138ms - processed: 0 items - remaining: 2 items
2020-09-23 17:53:40.448 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:53:40.450 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0239ms - processed: 0 items - remaining: 2 items
2020-09-23 17:53:50.461 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:53:50.462 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0253ms - processed: 0 items - remaining: 2 items
2020-09-23 17:54:00.464 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:54:00.465 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0237ms - processed: 0 items - remaining: 2 items
2020-09-23 17:54:10.473 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:54:10.474 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0243ms - processed: 0 items - remaining: 2 items
2020-09-23 17:54:20.477 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:54:20.477 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0211ms - processed: 0 items - remaining: 2 items
2020-09-23 17:54:30.478 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:54:30.478 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 2 items
2020-09-23 17:54:30.582 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-23 17:54:30.582 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-23 17:54:30.582 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-23 17:54:30.583 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:54:30.583 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:54:30.584 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:54:30.584 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-23 17:54:30.584 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-23 17:54:30.584 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-23 17:54:30.584 +07:00 [DBG] Start discovery request
2020-09-23 17:54:30.585 +07:00 [INF] Request finished in 3.6636ms 200 application/json; charset=UTF-8
2020-09-23 17:54:30.777 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-23 17:54:30.777 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-23 17:54:30.777 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-23 17:54:30.777 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:54:30.777 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:54:30.777 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:54:30.778 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-23 17:54:30.778 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-23 17:54:30.778 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-23 17:54:30.778 +07:00 [DBG] Start key discovery request
2020-09-23 17:54:30.778 +07:00 [INF] Request finished in 1.1411ms 200 application/json; charset=UTF-8
2020-09-23 17:54:31.138 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile&state=OpenIdConnect.AuthenticationProperties%3DjBwTuWPYXS0QHM2DgmSTZ2lidm2kMaoGpue7JAuOpdMsdRsyLZ_KNCV_D_B_zw0N-QQck9vr_75DczZiYqdXizryOgLiq1QVzBqh3-hUx0nVGYOa7uyWADMBifCHvPTlZdHF5ocDgXNuuWDxJ-e2wxyajk4Ar4EmIXrqB_yLiXHpi7M8l_KA2K7BxkraOvTrFXoZCBehFa3GWfYl0siGmUt97t162tYSk5CLEma4Kfw&response_mode=form_post&nonce=637364552708116200.MGQzOWYxZjMtNzllNC00MjM3LWFkZTItYmZmNjgwZWQ4YWYyZDRmNTBlZDctZmVjMS00YjFkLThlOTMtMGM3MjgyZTE4Mjk1&code_challenge=0IZTSR42Hf_NI9bKKhyrYsJIW4WA1Jk9yM0lPMFMg10&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-23 17:54:31.139 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-23 17:54:31.139 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-23 17:54:31.139 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:54:31.140 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:54:31.141 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:54:31.141 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-23 17:54:31.142 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-23 17:54:31.143 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-23 17:54:31.143 +07:00 [DBG] Start authorize request
2020-09-23 17:54:31.144 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:54:31.144 +07:00 [DBG] No user present in authorize request
2020-09-23 17:54:31.144 +07:00 [DBG] Start authorize request protocol validation
2020-09-23 17:54:31.145 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-23 17:54:31.145 +07:00 [DBG] Checking for PKCE parameters
2020-09-23 17:54:31.145 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-23 17:54:31.146 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile","State":"OpenIdConnect.AuthenticationProperties=jBwTuWPYXS0QHM2DgmSTZ2lidm2kMaoGpue7JAuOpdMsdRsyLZ_KNCV_D_B_…","UiLocales":null,"Nonce":"637364552708116200.MGQzOWYxZjMtNzllNC00MjM3LWFkZTItYmZmNjgwZWQ4YWYyZDRmNTBlZDctZmVjMS00YjFkLThlOTMt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile","state":"OpenIdConnect.AuthenticationProperties=jBwTuWPYXS0QHM2DgmSTZ2lidm2kMaoGpue7JAuOpdMsdRsyLZ_KNCV_D_B_…","response_mode":"form_post","nonce":"637364552708116200.MGQzOWYxZjMtNzllNC00MjM3LWFkZTItYmZmNjgwZWQ4YWYyZDRmNTBlZDctZmVjMS00YjFkLThlOTMt…","code_challenge":"0IZTSR42Hf_NI9bKKhyrYsJIW4WA1Jk9yM0lPMFMg10","code_challenge_method":"S256","x-client-SKU":"ID_NET461"},"$type":"AuthorizeRequestValidationLog"}
2020-09-23 17:54:31.146 +07:00 [INF] Showing login: User is not authenticated
2020-09-23 17:54:31.147 +07:00 [INF] Request finished in 8.6615ms 302 
2020-09-23 17:54:31.152 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dnetframeworkmvcclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44344%252F%26response_type%3Dcode%26scope%3Dopenid%2520profile%26state%3DOpenIdConnect.AuthenticationProperties%253DjBwTuWPYXS0QHM2DgmSTZ2lidm2kMaoGpue7JAuOpdMsdRsyLZ_KNCV_D_B_zw0N-QQck9vr_75DczZiYqdXizryOgLiq1QVzBqh3-hUx0nVGYOa7uyWADMBifCHvPTlZdHF5ocDgXNuuWDxJ-e2wxyajk4Ar4EmIXrqB_yLiXHpi7M8l_KA2K7BxkraOvTrFXoZCBehFa3GWfYl0siGmUt97t162tYSk5CLEma4Kfw%26response_mode%3Dform_post%26nonce%3D637364552708116200.MGQzOWYxZjMtNzllNC00MjM3LWFkZTItYmZmNjgwZWQ4YWYyZDRmNTBlZDctZmVjMS00YjFkLThlOTMtMGM3MjgyZTE4Mjk1%26code_challenge%3D0IZTSR42Hf_NI9bKKhyrYsJIW4WA1Jk9yM0lPMFMg10%26code_challenge_method%3DS256%26x-client-SKU%3DID_NET461%26x-client-ver%3D6.7.1.0  
2020-09-23 17:54:31.152 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-23 17:54:31.153 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-23 17:54:31.154 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-23 17:54:31.154 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-23 17:54:31.155 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:54:31.155 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:54:31.156 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-23 17:54:31.156 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-23 17:54:31.156 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-23 17:54:31.156 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-23 17:54:31.156 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:54:31.156 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-23 17:54:31.156 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:54:31.156 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-23 17:54:31.158 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-23 17:54:31.159 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-23 17:54:31.159 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-23 17:54:31.159 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-23 17:54:31.159 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-23 17:54:31.159 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-23 17:54:31.160 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-23 17:54:31.161 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:54:31.161 +07:00 [DBG] Start authorize request protocol validation
2020-09-23 17:54:31.161 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-23 17:54:31.161 +07:00 [DBG] Checking for PKCE parameters
2020-09-23 17:54:31.162 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-23 17:54:31.162 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-23 17:54:31.162 +07:00 [DBG] View lookup cache hit for view 'Login' in controller 'Account'.
2020-09-23 17:54:31.162 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-23 17:54:31.163 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 0.3733ms.
2020-09-23 17:54:31.164 +07:00 [DBG] View lookup cache hit for view '_ValidationSummary' in controller 'Account'.
2020-09-23 17:54:31.164 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-23 17:54:31.165 +07:00 [DBG] An antiforgery cookie token was reused.
2020-09-23 17:54:31.166 +07:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Account'.
2020-09-23 17:54:31.167 +07:00 [DBG] View lookup cache hit for view '_Nav' in controller 'Account'.
2020-09-23 17:54:31.169 +07:00 [INF] Executed ViewResult - view Login executed in 6.9244ms.
2020-09-23 17:54:31.169 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 12.9679ms
2020-09-23 17:54:31.169 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-23 17:54:31.170 +07:00 [INF] Request finished in 18.0509ms 200 text/html; charset=utf-8
2020-09-23 17:54:31.228 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/css/site.css  
2020-09-23 17:54:31.233 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css  
2020-09-23 17:54:31.236 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/jquery/dist/jquery.slim.min.js  
2020-09-23 17:54:31.237 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/icon.png  
2020-09-23 17:54:31.238 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js  
2020-09-23 17:54:31.239 +07:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\css\site.css'
2020-09-23 17:54:31.239 +07:00 [INF] Request finished in 11.2076ms 200 text/css
2020-09-23 17:54:31.246 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2020-09-23 17:54:31.246 +07:00 [INF] Sending file. Request path: '/icon.png'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\icon.png'
2020-09-23 17:54:31.246 +07:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\jquery\dist\jquery.slim.min.js'
2020-09-23 17:54:31.246 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2020-09-23 17:54:31.263 +07:00 [INF] Request finished in 30.2222ms 200 text/css
2020-09-23 17:54:31.263 +07:00 [INF] Request finished in 27.1817ms 200 application/javascript
2020-09-23 17:54:31.263 +07:00 [INF] Request finished in 25.2247ms 200 application/javascript
2020-09-23 17:54:31.263 +07:00 [INF] Request finished in 26.13ms 200 image/png
2020-09-23 17:54:31.545 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css.map  
2020-09-23 17:54:31.550 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css.map'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map'
2020-09-23 17:54:31.550 +07:00 [INF] Request finished in 5.3485ms 200 text/plain
2020-09-23 17:54:31.580 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map  
2020-09-23 17:54:31.583 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map'
2020-09-23 17:54:31.583 +07:00 [INF] Request finished in 3.1679ms 200 text/plain
2020-09-23 17:54:38.453 +07:00 [INF] Request starting HTTP/2.0 POST https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dnetframeworkmvcclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44344%252F%26response_type%3Dcode%26scope%3Dopenid%2520profile%26state%3DOpenIdConnect.AuthenticationProperties%253DjBwTuWPYXS0QHM2DgmSTZ2lidm2kMaoGpue7JAuOpdMsdRsyLZ_KNCV_D_B_zw0N-QQck9vr_75DczZiYqdXizryOgLiq1QVzBqh3-hUx0nVGYOa7uyWADMBifCHvPTlZdHF5ocDgXNuuWDxJ-e2wxyajk4Ar4EmIXrqB_yLiXHpi7M8l_KA2K7BxkraOvTrFXoZCBehFa3GWfYl0siGmUt97t162tYSk5CLEma4Kfw%26response_mode%3Dform_post%26nonce%3D637364552708116200.MGQzOWYxZjMtNzllNC00MjM3LWFkZTItYmZmNjgwZWQ4YWYyZDRmNTBlZDctZmVjMS00YjFkLThlOTMtMGM3MjgyZTE4Mjk1%26code_challenge%3D0IZTSR42Hf_NI9bKKhyrYsJIW4WA1Jk9yM0lPMFMg10%26code_challenge_method%3DS256%26x-client-SKU%3DID_NET461%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1028
2020-09-23 17:54:38.454 +07:00 [DBG] POST requests are not supported
2020-09-23 17:54:38.454 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-23 17:54:38.454 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-23 17:54:38.454 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-23 17:54:38.458 +07:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-23 17:54:38.458 +07:00 [INF] No CORS policy found for the specified request.
2020-09-23 17:54:38.459 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:54:38.459 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:54:38.459 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-23 17:54:38.482 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IdentityServerHost.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-23 17:54:38.482 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"]
2020-09-23 17:54:38.482 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-23 17:54:38.482 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:54:38.483 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-23 17:54:38.483 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-23 17:54:38.547 +07:00 [DBG] Antiforgery successfully validated a request.
2020-09-23 17:54:38.547 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-23 17:54:38.550 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-23 17:54:38.560 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-23 17:54:38.561 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' using the name '' in request data ...
2020-09-23 17:54:38.562 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String' using the name 'Username' in request data ...
2020-09-23 17:54:38.562 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String'.
2020-09-23 17:54:38.563 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String' using the name 'Password' in request data ...
2020-09-23 17:54:38.563 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String'.
2020-09-23 17:54:38.563 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean' using the name 'RememberLogin' in request data ...
2020-09-23 17:54:38.573 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean'.
2020-09-23 17:54:38.573 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String' using the name 'ReturnUrl' in request data ...
2020-09-23 17:54:38.573 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String'.
2020-09-23 17:54:38.573 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-23 17:54:38.573 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-23 17:54:38.573 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-23 17:54:38.577 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-23 17:54:38.577 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' ...
2020-09-23 17:54:38.577 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' using the name 'button' in request data ...
2020-09-23 17:54:38.577 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-23 17:54:38.577 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-23 17:54:38.577 +07:00 [DBG] Attempting to validate the bound parameter 'button' of type 'System.String' ...
2020-09-23 17:54:38.578 +07:00 [DBG] Done attempting to validate the bound parameter 'button' of type 'System.String'.
2020-09-23 17:54:38.580 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:54:38.580 +07:00 [DBG] Start authorize request protocol validation
2020-09-23 17:54:38.580 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-23 17:54:38.580 +07:00 [DBG] Checking for PKCE parameters
2020-09-23 17:54:38.580 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-23 17:54:38.592 +07:00 [DBG] Augmenting SignInContext
2020-09-23 17:54:38.593 +07:00 [DBG] Adding idp claim with value: local
2020-09-23 17:54:38.593 +07:00 [DBG] Adding amr claim with value: pwd
2020-09-23 17:54:38.593 +07:00 [DBG] Adding auth_time claim with value: 1600858478
2020-09-23 17:54:38.593 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-23 17:54:38.617 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-23 17:54:38.620 +07:00 [INF] Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile&state=OpenIdConnect.AuthenticationProperties%3DjBwTuWPYXS0QHM2DgmSTZ2lidm2kMaoGpue7JAuOpdMsdRsyLZ_KNCV_D_B_zw0N-QQck9vr_75DczZiYqdXizryOgLiq1QVzBqh3-hUx0nVGYOa7uyWADMBifCHvPTlZdHF5ocDgXNuuWDxJ-e2wxyajk4Ar4EmIXrqB_yLiXHpi7M8l_KA2K7BxkraOvTrFXoZCBehFa3GWfYl0siGmUt97t162tYSk5CLEma4Kfw&response_mode=form_post&nonce=637364552708116200.MGQzOWYxZjMtNzllNC00MjM3LWFkZTItYmZmNjgwZWQ4YWYyZDRmNTBlZDctZmVjMS00YjFkLThlOTMtMGM3MjgyZTE4Mjk1&code_challenge=0IZTSR42Hf_NI9bKKhyrYsJIW4WA1Jk9yM0lPMFMg10&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0.
2020-09-23 17:54:38.621 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 137.9486ms
2020-09-23 17:54:38.621 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-23 17:54:38.623 +07:00 [INF] Request finished in 169.7304ms 302 
2020-09-23 17:54:38.628 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize/callback?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile&state=OpenIdConnect.AuthenticationProperties%3DjBwTuWPYXS0QHM2DgmSTZ2lidm2kMaoGpue7JAuOpdMsdRsyLZ_KNCV_D_B_zw0N-QQck9vr_75DczZiYqdXizryOgLiq1QVzBqh3-hUx0nVGYOa7uyWADMBifCHvPTlZdHF5ocDgXNuuWDxJ-e2wxyajk4Ar4EmIXrqB_yLiXHpi7M8l_KA2K7BxkraOvTrFXoZCBehFa3GWfYl0siGmUt97t162tYSk5CLEma4Kfw&response_mode=form_post&nonce=637364552708116200.MGQzOWYxZjMtNzllNC00MjM3LWFkZTItYmZmNjgwZWQ4YWYyZDRmNTBlZDctZmVjMS00YjFkLThlOTMtMGM3MjgyZTE4Mjk1&code_challenge=0IZTSR42Hf_NI9bKKhyrYsJIW4WA1Jk9yM0lPMFMg10&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-23 17:54:38.628 +07:00 [DBG] The request path /connect/authorize/callback does not match a supported file type
2020-09-23 17:54:38.628 +07:00 [DBG] No candidates found for the request path '/connect/authorize/callback'
2020-09-23 17:54:38.628 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:54:38.636 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-23 17:54:38.637 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-23 17:54:38.637 +07:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-23 17:54:38.637 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-23 17:54:38.638 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-23 17:54:38.640 +07:00 [DBG] Start authorize callback request
2020-09-23 17:54:38.650 +07:00 [DBG] User in authorize request: 123456
2020-09-23 17:54:38.651 +07:00 [DBG] Start authorize request protocol validation
2020-09-23 17:54:38.651 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-23 17:54:38.651 +07:00 [DBG] Checking for PKCE parameters
2020-09-23 17:54:38.651 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-23 17:54:38.651 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile","State":"OpenIdConnect.AuthenticationProperties=jBwTuWPYXS0QHM2DgmSTZ2lidm2kMaoGpue7JAuOpdMsdRsyLZ_KNCV_D_B_…","UiLocales":null,"Nonce":"637364552708116200.MGQzOWYxZjMtNzllNC00MjM3LWFkZTItYmZmNjgwZWQ4YWYyZDRmNTBlZDctZmVjMS00YjFkLThlOTMt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"90E3F15C1E5EE15E10063D64E866956A","Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile","state":"OpenIdConnect.AuthenticationProperties=jBwTuWPYXS0QHM2DgmSTZ2lidm2kMaoGpue7JAuOpdMsdRsyLZ_KNCV_D_B_…","response_mode":"form_post","nonce":"637364552708116200.MGQzOWYxZjMtNzllNC00MjM3LWFkZTItYmZmNjgwZWQ4YWYyZDRmNTBlZDctZmVjMS00YjFkLThlOTMt…","code_challenge":"0IZTSR42Hf_NI9bKKhyrYsJIW4WA1Jk9yM0lPMFMg10","code_challenge_method":"S256","x-client-SKU":"ID_NET461"},"$type":"AuthorizeRequestValidationLog"}
2020-09-23 17:54:38.657 +07:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-23 17:54:38.658 +07:00 [DBG] Creating Authorization Code Flow response.
2020-09-23 17:54:38.730 +07:00 [DBG] Authorize endpoint response
{"SubjectId":"123456","ClientId":"netframeworkmvcclient","RedirectUri":"https://localhost:44344/","State":"OpenIdConnect.AuthenticationProperties=jBwTuWPYXS0QHM2DgmSTZ2lidm2kMaoGpue7JAuOpdMsdRsyLZ_KNCV_D_B_…","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-23 17:54:38.733 +07:00 [DBG] Augmenting SignInContext
2020-09-23 17:54:38.733 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-23 17:54:38.736 +07:00 [INF] Request finished in 108.1073ms 200 text/html; charset=UTF-8
2020-09-23 17:54:40.487 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:54:40.488 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
2020-09-23 17:54:50.487 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:54:50.488 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 2 items
2020-09-23 17:55:00.489 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:55:00.490 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 2 items
2020-09-23 17:55:10.490 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:55:10.490 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0408ms - processed: 0 items - remaining: 2 items
2020-09-23 17:55:20.492 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:55:20.492 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0404ms - processed: 0 items - remaining: 2 items
2020-09-23 17:55:30.493 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:55:30.493 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
2020-09-23 17:55:40.313 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile&state=OpenIdConnect.AuthenticationProperties%3DPr41AfvhDGX6FhokBPYJPwJdf5dr5TrIpiG46x2eJ3IPe-ZTz2To7_NQ5jRXgonmxMpbbYCxIzBb5nhmGm649wbY7eAtmWDazcpdLW0puZ12crwHiz0hDh2-Wd_MEbAllQ5f7EJ4RUH9qpNgAfzRWOWiwAslpgEXBXu5C3bdNGlvjnKKDeTn5kTDTUPCbag2w4X2COIGZ74tBEqYHeyxpshZcJkahbeZMUvPpF6IimM&response_mode=form_post&nonce=637364553403047228.MmIxNjJmNzUtODNiYi00MmZkLWIwMjAtYWNiMjQzNjUxNTg2ZjdmYWU3NWEtMGI0YS00NjI1LTlkZTItODdhYjAwMzIwMTNi&code_challenge=sr9p9JVrEptM0zLmYMnceTSo2ZVjM7d0ULjFRCRR_S4&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-23 17:55:40.313 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-23 17:55:40.313 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-23 17:55:40.313 +07:00 [DBG] Request did not match any endpoints
2020-09-23 17:55:40.314 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-23 17:55:40.314 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-23 17:55:40.314 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-23 17:55:40.318 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-23 17:55:40.318 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-23 17:55:40.318 +07:00 [DBG] Start authorize request
2020-09-23 17:55:40.318 +07:00 [DBG] User in authorize request: 123456
2020-09-23 17:55:40.318 +07:00 [DBG] Start authorize request protocol validation
2020-09-23 17:55:40.319 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-23 17:55:40.320 +07:00 [DBG] Checking for PKCE parameters
2020-09-23 17:55:40.321 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-23 17:55:40.323 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile","State":"OpenIdConnect.AuthenticationProperties=Pr41AfvhDGX6FhokBPYJPwJdf5dr5TrIpiG46x2eJ3IPe-ZTz2To7_NQ5jRX…","UiLocales":null,"Nonce":"637364553403047228.MmIxNjJmNzUtODNiYi00MmZkLWIwMjAtYWNiMjQzNjUxNTg2ZjdmYWU3NWEtMGI0YS00NjI1LTlkZTIt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"90E3F15C1E5EE15E10063D64E866956A","Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile","state":"OpenIdConnect.AuthenticationProperties=Pr41AfvhDGX6FhokBPYJPwJdf5dr5TrIpiG46x2eJ3IPe-ZTz2To7_NQ5jRX…","response_mode":"form_post","nonce":"637364553403047228.MmIxNjJmNzUtODNiYi00MmZkLWIwMjAtYWNiMjQzNjUxNTg2ZjdmYWU3NWEtMGI0YS00NjI1LTlkZTIt…","code_challenge":"sr9p9JVrEptM0zLmYMnceTSo2ZVjM7d0ULjFRCRR_S4","code_challenge_method":"S256","x-client-SKU":"ID_NET461"},"$type":"AuthorizeRequestValidationLog"}
2020-09-23 17:55:40.324 +07:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-23 17:55:40.324 +07:00 [DBG] Creating Authorization Code Flow response.
2020-09-23 17:55:40.325 +07:00 [DBG] Authorize endpoint response
{"SubjectId":"123456","ClientId":"netframeworkmvcclient","RedirectUri":"https://localhost:44344/","State":"OpenIdConnect.AuthenticationProperties=Pr41AfvhDGX6FhokBPYJPwJdf5dr5TrIpiG46x2eJ3IPe-ZTz2To7_NQ5jRX…","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-23 17:55:40.329 +07:00 [DBG] Augmenting SignInContext
2020-09-23 17:55:40.330 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-23 17:55:40.332 +07:00 [INF] Request finished in 18.7657ms 200 text/html; charset=UTF-8
2020-09-23 17:55:40.509 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:55:40.509 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 2 items
2020-09-23 17:55:50.509 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:55:50.509 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 2 items
2020-09-23 17:56:00.510 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:56:00.510 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 2 items
2020-09-23 17:56:10.511 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:56:10.511 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 2 items
2020-09-23 17:56:20.511 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:56:20.511 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 2 items
2020-09-23 17:56:30.512 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-23 17:56:30.512 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 2 items
2020-09-23 17:56:30.584 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:BackChannelLogoutClient'
2020-09-23 17:56:31.143 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:JwtRequestUriClient'
2020-09-23 17:56:40.522 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2020-09-23 17:56:40.522 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 4 items
2020-09-23 17:56:50.522 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2020-09-23 17:56:50.523 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 4 items
2020-09-23 17:57:00.526 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2020-09-23 17:57:00.526 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 4 items
2020-09-23 17:57:10.529 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2020-09-23 17:57:10.529 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0229ms - processed: 0 items - remaining: 4 items
2020-09-23 17:57:20.530 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 4 items
2020-09-23 17:57:20.530 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 4 items
2020-09-24 09:04:45.795 +07:00 [INF] Starting host...
2020-09-24 09:04:47.438 +07:00 [DBG] Hosting starting
2020-09-24 09:04:47.458 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-24 09:04:47.485 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-24 09:04:47.493 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-24 09:04:47.493 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-24 09:04:47.493 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-24 09:04:47.498 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-24 09:04:47.501 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-24 09:04:47.502 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-24 09:04:47.502 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-24 09:04:47.508 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-24 09:04:47.533 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-24 09:04:47.535 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-24 09:04:47.536 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-24 09:04:47.551 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-24 09:04:47.553 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-24 09:04:47.555 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-24 09:04:47.555 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-24 09:04:47.580 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-24 09:04:47.610 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-24 09:04:47.613 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-24 09:04:47.613 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-24 09:04:47.613 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-24 09:04:47.613 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-24 09:04:47.613 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-24 09:04:47.613 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-24 09:04:48.046 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-24 09:04:48.047 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-24 09:04:48.047 +07:00 [INF] Hosting environment: Development
2020-09-24 09:04:48.047 +07:00 [INF] Content root path: D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4
2020-09-24 09:04:48.047 +07:00 [DBG] Hosting started
2020-09-24 09:04:48.122 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-24 09:04:48.124 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-24 09:04:48.125 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-24 09:04:48.196 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-24 09:04:48.197 +07:00 [DBG] Request did not match any endpoints
2020-09-24 09:04:48.315 +07:00 [DBG] Login Url: /Account/Login
2020-09-24 09:04:48.315 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-24 09:04:48.316 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-24 09:04:48.316 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-24 09:04:48.316 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-24 09:04:48.316 +07:00 [DBG] Error Url: /home/error
2020-09-24 09:04:48.316 +07:00 [DBG] Error Id Parameter: errorId
2020-09-24 09:04:48.318 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 09:04:48.329 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 09:04:48.332 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-24 09:04:48.334 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-24 09:04:48.334 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-24 09:04:48.335 +07:00 [DBG] Start discovery request
2020-09-24 09:04:48.718 +07:00 [INF] Request finished in 596.5029ms 200 application/json; charset=UTF-8
2020-09-24 09:04:49.452 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-24 09:04:49.453 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-24 09:04:49.455 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-24 09:04:49.455 +07:00 [DBG] Request did not match any endpoints
2020-09-24 09:04:49.456 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 09:04:49.456 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 09:04:49.457 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-24 09:04:49.457 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-24 09:04:49.457 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-24 09:04:49.458 +07:00 [DBG] Start key discovery request
2020-09-24 09:04:49.567 +07:00 [INF] Request finished in 114.0504ms 200 application/json; charset=UTF-8
2020-09-24 09:04:50.026 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20identity.mvcclient&code_challenge=51isPkw4v78WXhsaGoStt3JAkW5hZIRfScFY1YMBL0k&code_challenge_method=S256&response_mode=form_post&nonce=637365098896679843.ODRlMWU4MmMtMDczMy00MDAzLTllNTQtYWMxODk5ZGMzOTViYzk4NWRlZTMtYmE3Yy00MjIxLWFiZTAtZDc2YzdjOGZkOGI5&state=CfDJ8H9fZSx1BlxCmY17EnGX2_CCaRhCytzv8h2zNe4dAV2TrgNWz2m54VCNXJWf0dK45TxCr752eJVz_w36QpK-iCf7_-enwMuAgNcGQdeegfmlLadypB9acJzgmuwRMJTdw_vr6vWJBh1alwIa-frbItWMy9cpPYDUxijY5cHuyo-fr3W6zjK53Tu_6f5Jq_ax9Ag4xMSLw_a8rotJp3vmOOtBs0NtFOIidg7EbO7LnX4WvVQIMeyqtNyQ0lKclmI81S6aaE3j-MgWa32zDxqZ91zM1B8OHBCl-laZQIC8N3Ewf5ioii0uMr7OQh4AIXBhPhLib0_Rq9Hs4BiCZASuGHh0khg4rYvDB3p70FnLic5dHjKgf4ksnZVZ_KcRiYf28w&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-24 09:04:50.026 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-24 09:04:50.027 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-24 09:04:50.027 +07:00 [DBG] Request did not match any endpoints
2020-09-24 09:04:50.134 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-24 09:04:50.137 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-24 09:04:50.139 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-24 09:04:50.256 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-24 09:04:50.256 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-24 09:04:50.257 +07:00 [DBG] Start authorize request
2020-09-24 09:04:50.314 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-24 09:04:50.316 +07:00 [DBG] No user present in authorize request
2020-09-24 09:04:50.317 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 09:04:50.339 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-24 09:04:50.358 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 09:04:50.374 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 09:04:50.389 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile identity.mvcclient","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_CCaRhCytzv8h2zNe4dAV2TrgNWz2m54VCNXJWf0dK45TxCr752eJVz_w36QpK-iCf7_-enwMu…","UiLocales":null,"Nonce":"637365098896679843.ODRlMWU4MmMtMDczMy00MDAzLTllNTQtYWMxODk5ZGMzOTViYzk4NWRlZTMtYmE3Yy00MjIxLWFiZTAt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile identity.mvcclient","code_challenge":"51isPkw4v78WXhsaGoStt3JAkW5hZIRfScFY1YMBL0k","code_challenge_method":"S256","response_mode":"form_post","nonce":"637365098896679843.ODRlMWU4MmMtMDczMy00MDAzLTllNTQtYWMxODk5ZGMzOTViYzk4NWRlZTMtYmE3Yy00MjIxLWFiZTAt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_CCaRhCytzv8h2zNe4dAV2TrgNWz2m54VCNXJWf0dK45TxCr752eJVz_w36QpK-iCf7_-enwMu…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-24 09:04:50.397 +07:00 [INF] Showing login: User is not authenticated
2020-09-24 09:04:50.432 +07:00 [INF] Request finished in 406.3425ms 302 
2020-09-24 09:04:50.438 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.mvcclient%26code_challenge%3D51isPkw4v78WXhsaGoStt3JAkW5hZIRfScFY1YMBL0k%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637365098896679843.ODRlMWU4MmMtMDczMy00MDAzLTllNTQtYWMxODk5ZGMzOTViYzk4NWRlZTMtYmE3Yy00MjIxLWFiZTAtZDc2YzdjOGZkOGI5%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_CCaRhCytzv8h2zNe4dAV2TrgNWz2m54VCNXJWf0dK45TxCr752eJVz_w36QpK-iCf7_-enwMuAgNcGQdeegfmlLadypB9acJzgmuwRMJTdw_vr6vWJBh1alwIa-frbItWMy9cpPYDUxijY5cHuyo-fr3W6zjK53Tu_6f5Jq_ax9Ag4xMSLw_a8rotJp3vmOOtBs0NtFOIidg7EbO7LnX4WvVQIMeyqtNyQ0lKclmI81S6aaE3j-MgWa32zDxqZ91zM1B8OHBCl-laZQIC8N3Ewf5ioii0uMr7OQh4AIXBhPhLib0_Rq9Hs4BiCZASuGHh0khg4rYvDB3p70FnLic5dHjKgf4ksnZVZ_KcRiYf28w%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-24 09:04:50.438 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-24 09:04:50.441 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-24 09:04:50.444 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-24 09:04:50.445 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 09:04:50.446 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-24 09:04:50.446 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-24 09:04:50.447 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 09:04:50.499 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-24 09:04:50.758 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-24 09:04:50.758 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-24 09:04:50.758 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-24 09:04:50.758 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 09:04:50.758 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-24 09:04:50.758 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 09:04:50.760 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 09:04:50.761 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 09:04:50.765 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-24 09:04:50.767 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-24 09:04:50.767 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-24 09:04:50.767 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-24 09:04:50.767 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-24 09:04:50.769 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-24 09:04:50.807 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-24 09:04:50.807 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 09:04:50.807 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-24 09:04:50.807 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 09:04:50.807 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 09:04:50.808 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-24 09:04:50.859 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-24 09:04:51.071 +07:00 [DBG] View lookup cache miss for view 'Login' in controller 'Account'.
2020-09-24 09:04:51.110 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-24 09:04:51.114 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 41.0883ms.
2020-09-24 09:04:51.295 +07:00 [DBG] View lookup cache miss for view '_ValidationSummary' in controller 'Account'.
2020-09-24 09:04:51.311 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-24 09:04:51.312 +07:00 [DBG] An antiforgery cookie token was reused.
2020-09-24 09:04:51.393 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2020-09-24 09:04:51.409 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Account'.
2020-09-24 09:04:51.417 +07:00 [INF] Executed ViewResult - view Login executed in 347.4836ms.
2020-09-24 09:04:51.417 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 658.3812ms
2020-09-24 09:04:51.417 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 09:04:51.420 +07:00 [INF] Request finished in 982.2902ms 200 text/html; charset=utf-8
2020-09-24 09:06:48.319 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:BackChannelLogoutClient'
2020-09-24 09:06:50.263 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:JwtRequestUriClient'
2020-09-24 09:06:58.333 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:06:58.351 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 15.7492ms - processed: 0 items - remaining: 2 items
2020-09-24 09:07:08.363 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:07:08.364 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2020-09-24 09:07:18.374 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:07:18.374 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 2 items
2020-09-24 09:07:28.377 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:07:28.378 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 2 items
2020-09-24 09:07:38.378 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:07:38.379 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
2020-09-24 09:07:48.380 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:07:48.381 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 2 items
2020-09-24 09:07:58.382 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:07:58.382 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
2020-09-24 09:08:08.384 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:08:08.384 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 2 items
2020-09-24 09:08:18.396 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:08:18.397 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2020-09-24 09:08:28.398 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:08:28.398 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0148ms - processed: 0 items - remaining: 2 items
2020-09-24 09:08:38.399 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:08:38.400 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.02ms - processed: 0 items - remaining: 2 items
2020-09-24 09:08:48.401 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:08:48.402 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0198ms - processed: 0 items - remaining: 2 items
2020-09-24 09:08:58.404 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:08:58.404 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0098ms - processed: 0 items - remaining: 2 items
2020-09-24 09:09:08.405 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:09:08.405 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 2 items
2020-09-24 09:09:18.406 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:09:18.407 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0167ms - processed: 0 items - remaining: 2 items
2020-09-24 09:09:28.408 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:09:28.408 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0405ms - processed: 0 items - remaining: 2 items
2020-09-24 09:09:38.410 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:09:38.410 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 2 items
2020-09-24 09:09:48.420 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 09:09:48.420 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.2268ms - processed: 2 items - remaining: 0 items
2020-09-24 11:34:18.207 +07:00 [INF] Starting host...
2020-09-24 11:34:18.909 +07:00 [DBG] Hosting starting
2020-09-24 11:34:18.924 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-24 11:34:18.933 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-24 11:34:18.938 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-24 11:34:18.938 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-24 11:34:18.938 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-24 11:34:18.942 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-24 11:34:18.945 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-24 11:34:18.945 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-24 11:34:18.945 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-24 11:34:18.954 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-24 11:34:18.962 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-24 11:34:18.964 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-24 11:34:18.965 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-24 11:34:18.967 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-24 11:34:18.970 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-24 11:34:18.972 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-24 11:34:18.973 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-24 11:34:18.988 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-24 11:34:18.993 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-24 11:34:18.995 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-24 11:34:18.995 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-24 11:34:18.995 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-24 11:34:18.995 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-24 11:34:18.995 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-24 11:34:18.995 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-24 11:34:19.357 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-24 11:34:19.357 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-24 11:34:19.357 +07:00 [INF] Hosting environment: Development
2020-09-24 11:34:19.358 +07:00 [INF] Content root path: D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4
2020-09-24 11:34:19.358 +07:00 [DBG] Hosting started
2020-09-24 11:34:19.373 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-24 11:34:19.375 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-24 11:34:19.376 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-24 11:34:19.394 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-24 11:34:19.394 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:34:19.406 +07:00 [DBG] Login Url: /Account/Login
2020-09-24 11:34:19.406 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-24 11:34:19.406 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-24 11:34:19.406 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-24 11:34:19.406 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-24 11:34:19.406 +07:00 [DBG] Error Url: /home/error
2020-09-24 11:34:19.406 +07:00 [DBG] Error Id Parameter: errorId
2020-09-24 11:34:19.409 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:34:19.413 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:34:19.416 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-24 11:34:19.418 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-24 11:34:19.418 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-24 11:34:19.419 +07:00 [DBG] Start discovery request
2020-09-24 11:34:19.452 +07:00 [INF] Request finished in 80.6651ms 200 application/json; charset=UTF-8
2020-09-24 11:34:20.021 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-24 11:34:20.022 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-24 11:34:20.023 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-24 11:34:20.023 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:34:20.024 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:34:20.024 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:34:20.025 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-24 11:34:20.025 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-24 11:34:20.025 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-24 11:34:20.026 +07:00 [DBG] Start key discovery request
2020-09-24 11:34:20.122 +07:00 [INF] Request finished in 101.6035ms 200 application/json; charset=UTF-8
2020-09-24 11:34:20.553 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20identity.mvcclient&code_challenge=mmgnDbfZmMzaQu12YlqO8J5OKe2b9L_bD1ddX1vtvkw&code_challenge_method=S256&response_mode=form_post&nonce=637365188601839787.ZmM1MDQ0NzctMjYxYy00ODllLTliY2ItNGIxMGZkNTgyY2RkM2U4NGNlZjAtNDRkZS00ODc4LWJlZDktNTY2ODhhOWMwZThj&state=CfDJ8H9fZSx1BlxCmY17EnGX2_AUIzPDzPcpL94rCVeXl7tW4317dbrDqiMQFGEty93ON4dK_rOVN41WlKBcHSfR0m0DcpVXvXTmAtyIASRZuG-hYyXypyOYn1pllIjbccmNY6dK0BGf4AmZZsk7rTKNRBL579qscaaBj_hkexVa7pVPfmLkZ4IQthisVXajmCqeDfQsrCxpIHwBZPkCw8FisxF2Q0S5Vr9GYYLHLSPPU_0X_e93onsbBrTQtMvdOEKah3zT4803bXJuk9fqUTIsz6oi4lqcw065NmPxAXluFXiC8MVHA0ea_Uct4_TqNtLSsm_QDzEVpizCSyrd4NAUvqxZnIHAnrMaI4sr2UKYUDJsEYrL3DLZVxGnwxAByrdCPw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-24 11:34:20.554 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-24 11:34:20.554 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-24 11:34:20.554 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:34:20.558 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:34:20.560 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:34:20.560 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-24 11:34:20.657 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-24 11:34:20.657 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-24 11:34:20.659 +07:00 [DBG] Start authorize request
2020-09-24 11:34:20.661 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:34:20.662 +07:00 [DBG] No user present in authorize request
2020-09-24 11:34:20.664 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:34:20.671 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-24 11:34:20.678 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:34:20.691 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:34:20.699 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile identity.mvcclient","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_AUIzPDzPcpL94rCVeXl7tW4317dbrDqiMQFGEty93ON4dK_rOVN41WlKBcHSfR0m0DcpVXvXT…","UiLocales":null,"Nonce":"637365188601839787.ZmM1MDQ0NzctMjYxYy00ODllLTliY2ItNGIxMGZkNTgyY2RkM2U4NGNlZjAtNDRkZS00ODc4LWJlZDkt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile identity.mvcclient","code_challenge":"mmgnDbfZmMzaQu12YlqO8J5OKe2b9L_bD1ddX1vtvkw","code_challenge_method":"S256","response_mode":"form_post","nonce":"637365188601839787.ZmM1MDQ0NzctMjYxYy00ODllLTliY2ItNGIxMGZkNTgyY2RkM2U4NGNlZjAtNDRkZS00ODc4LWJlZDkt…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_AUIzPDzPcpL94rCVeXl7tW4317dbrDqiMQFGEty93ON4dK_rOVN41WlKBcHSfR0m0DcpVXvXT…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-24 11:34:20.708 +07:00 [INF] Showing login: User is not authenticated
2020-09-24 11:34:20.711 +07:00 [INF] Request finished in 157.7386ms 302 
2020-09-24 11:34:20.721 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.mvcclient%26code_challenge%3DmmgnDbfZmMzaQu12YlqO8J5OKe2b9L_bD1ddX1vtvkw%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637365188601839787.ZmM1MDQ0NzctMjYxYy00ODllLTliY2ItNGIxMGZkNTgyY2RkM2U4NGNlZjAtNDRkZS00ODc4LWJlZDktNTY2ODhhOWMwZThj%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_AUIzPDzPcpL94rCVeXl7tW4317dbrDqiMQFGEty93ON4dK_rOVN41WlKBcHSfR0m0DcpVXvXTmAtyIASRZuG-hYyXypyOYn1pllIjbccmNY6dK0BGf4AmZZsk7rTKNRBL579qscaaBj_hkexVa7pVPfmLkZ4IQthisVXajmCqeDfQsrCxpIHwBZPkCw8FisxF2Q0S5Vr9GYYLHLSPPU_0X_e93onsbBrTQtMvdOEKah3zT4803bXJuk9fqUTIsz6oi4lqcw065NmPxAXluFXiC8MVHA0ea_Uct4_TqNtLSsm_QDzEVpizCSyrd4NAUvqxZnIHAnrMaI4sr2UKYUDJsEYrL3DLZVxGnwxAByrdCPw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-24 11:34:20.721 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-24 11:34:20.725 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-24 11:34:20.727 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-24 11:34:20.727 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:34:20.728 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:34:20.728 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:34:20.729 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:34:20.733 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-24 11:34:20.754 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-24 11:34:20.755 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-24 11:34:20.755 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-24 11:34:20.755 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:34:20.755 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-24 11:34:20.755 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:34:20.756 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:34:20.757 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:34:20.760 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-24 11:34:20.762 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-24 11:34:20.762 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:34:20.762 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:34:20.762 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-24 11:34:20.763 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:34:20.771 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:34:20.771 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:34:20.772 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-24 11:34:20.772 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:34:20.772 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:34:20.773 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-24 11:34:20.777 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-24 11:34:20.777 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-24 11:34:20.777 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-24 11:34:20.777 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-24 11:34:20.777 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-24 11:34:20.777 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-24 11:34:20.777 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-24 11:34:20.778 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-24 11:34:20.778 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-24 11:34:20.778 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-24 11:34:20.778 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-24 11:34:20.778 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-24 11:34:20.778 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-24 11:34:20.778 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-24 11:34:20.778 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-24 11:34:20.778 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-24 11:34:20.778 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-24 11:34:20.778 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-24 11:34:20.778 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-24 11:34:20.782 +07:00 [DBG] View lookup cache miss for view 'Login' in controller 'Account'.
2020-09-24 11:34:20.788 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-24 11:34:20.791 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 6.5635ms.
2020-09-24 11:34:20.842 +07:00 [DBG] View lookup cache miss for view '_ValidationSummary' in controller 'Account'.
2020-09-24 11:34:20.852 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-24 11:34:20.855 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-24 11:34:20.877 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2020-09-24 11:34:20.886 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Account'.
2020-09-24 11:34:20.895 +07:00 [INF] Executed ViewResult - view Login executed in 113.0728ms.
2020-09-24 11:34:20.895 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 139.5869ms
2020-09-24 11:34:20.895 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:34:20.897 +07:00 [INF] Request finished in 175.9071ms 200 text/html; charset=utf-8
2020-09-24 11:36:19.427 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:BackChannelLogoutClient'
2020-09-24 11:36:20.685 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:JwtRequestUriClient'
2020-09-24 11:36:29.445 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:36:29.448 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0366ms - processed: 0 items - remaining: 2 items
2020-09-24 11:36:39.459 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:36:39.459 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
2020-09-24 11:36:49.472 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:36:49.473 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.022ms - processed: 0 items - remaining: 2 items
2020-09-24 11:36:59.486 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:36:59.486 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
2020-09-24 11:37:09.488 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:37:09.488 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 2 items
2020-09-24 11:42:49.185 +07:00 [INF] Starting host...
2020-09-24 11:42:49.396 +07:00 [DBG] Hosting starting
2020-09-24 11:42:49.411 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-24 11:42:49.419 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-24 11:42:49.424 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-24 11:42:49.425 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-24 11:42:49.425 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-24 11:42:49.429 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-24 11:42:49.432 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-24 11:42:49.432 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-24 11:42:49.432 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-24 11:42:49.438 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-24 11:42:49.444 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-24 11:42:49.446 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-24 11:42:49.447 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-24 11:42:49.450 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-24 11:42:49.452 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-24 11:42:49.454 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-24 11:42:49.454 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-24 11:42:49.460 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-24 11:42:49.466 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-24 11:42:49.468 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-24 11:42:49.468 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-24 11:42:49.468 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-24 11:42:49.468 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-24 11:42:49.468 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-24 11:42:49.468 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-24 11:42:49.520 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-24 11:42:49.520 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-24 11:42:49.520 +07:00 [INF] Hosting environment: Development
2020-09-24 11:42:49.520 +07:00 [INF] Content root path: D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4
2020-09-24 11:42:49.520 +07:00 [DBG] Hosting started
2020-09-24 11:42:49.535 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/  
2020-09-24 11:42:49.537 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-24 11:42:49.538 +07:00 [DBG] The request path / does not match a supported file type
2020-09-24 11:42:49.555 +07:00 [DBG] 1 candidate(s) found for the request path '/'
2020-09-24 11:42:49.558 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Index (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/'
2020-09-24 11:42:49.558 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Index (SsoIdentityServer4)'
2020-09-24 11:42:49.570 +07:00 [DBG] Login Url: /Account/Login
2020-09-24 11:42:49.570 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-24 11:42:49.570 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-24 11:42:49.570 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-24 11:42:49.570 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-24 11:42:49.570 +07:00 [DBG] Error Url: /home/error
2020-09-24 11:42:49.570 +07:00 [DBG] Error Id Parameter: errorId
2020-09-24 11:42:49.573 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:42:49.577 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:42:49.579 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Index (SsoIdentityServer4)'
2020-09-24 11:42:49.585 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-24 11:42:49.597 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4).
2020-09-24 11:42:49.597 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-24 11:42:49.597 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-24 11:42:49.597 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:42:49.597 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-24 11:42:49.598 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:42:49.598 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-24 11:42:49.602 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.HomeController (SsoIdentityServer4)
2020-09-24 11:42:49.606 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-24 11:42:49.606 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-24 11:42:49.606 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-24 11:42:49.606 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-24 11:42:49.606 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-24 11:42:49.606 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-24 11:42:49.606 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-24 11:42:49.607 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-24 11:42:49.607 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-24 11:42:49.607 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-24 11:42:49.607 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-24 11:42:49.607 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-24 11:42:49.607 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-24 11:42:49.607 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-24 11:42:49.607 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-24 11:42:49.607 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-24 11:42:49.607 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-24 11:42:49.607 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-24 11:42:49.607 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-24 11:42:49.612 +07:00 [DBG] View lookup cache miss for view 'Index' in controller 'Home'.
2020-09-24 11:42:49.618 +07:00 [INF] Executing ViewResult, running view Index.
2020-09-24 11:42:49.621 +07:00 [DBG] The view path '/Views/Home/Index.cshtml' was found in 6.6367ms.
2020-09-24 11:42:49.642 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Home'.
2020-09-24 11:42:49.653 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Home'.
2020-09-24 11:42:49.666 +07:00 [INF] Executed ViewResult - view Index executed in 55.0778ms.
2020-09-24 11:42:49.667 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.HomeController.Index (SsoIdentityServer4) in 68.8198ms
2020-09-24 11:42:49.667 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.HomeController.Index (SsoIdentityServer4)'
2020-09-24 11:42:49.669 +07:00 [INF] Request finished in 135.5525ms 200 text/html; charset=utf-8
2020-09-24 11:42:49.712 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/icon.jpg  
2020-09-24 11:42:49.802 +07:00 [INF] Sending file. Request path: '/icon.jpg'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\icon.jpg'
2020-09-24 11:42:49.802 +07:00 [INF] Request finished in 90.8652ms 200 image/jpeg
2020-09-24 11:45:51.388 +07:00 [INF] Starting host...
2020-09-24 11:45:51.602 +07:00 [DBG] Hosting starting
2020-09-24 11:45:51.617 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-24 11:45:51.626 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-24 11:45:51.632 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-24 11:45:51.633 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-24 11:45:51.633 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-24 11:45:51.637 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-24 11:45:51.639 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-24 11:45:51.639 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-24 11:45:51.639 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-24 11:45:51.645 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-24 11:45:51.652 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-24 11:45:51.654 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-24 11:45:51.655 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-24 11:45:51.657 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-24 11:45:51.659 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-24 11:45:51.661 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-24 11:45:51.662 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-24 11:45:51.668 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-24 11:45:51.673 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-24 11:45:51.675 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-24 11:45:51.675 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-24 11:45:51.675 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-24 11:45:51.675 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-24 11:45:51.675 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-24 11:45:51.675 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-24 11:45:51.731 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-24 11:45:51.731 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-24 11:45:51.731 +07:00 [INF] Hosting environment: Development
2020-09-24 11:45:51.731 +07:00 [INF] Content root path: D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4
2020-09-24 11:45:51.731 +07:00 [DBG] Hosting started
2020-09-24 11:45:51.745 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-24 11:45:51.747 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-24 11:45:51.748 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-24 11:45:51.764 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-24 11:45:51.764 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:45:51.775 +07:00 [DBG] Login Url: /Account/Login
2020-09-24 11:45:51.775 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-24 11:45:51.775 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-24 11:45:51.775 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-24 11:45:51.775 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-24 11:45:51.775 +07:00 [DBG] Error Url: /home/error
2020-09-24 11:45:51.775 +07:00 [DBG] Error Id Parameter: errorId
2020-09-24 11:45:51.777 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:51.782 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:51.785 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-24 11:45:51.786 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-24 11:45:51.786 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-24 11:45:51.787 +07:00 [DBG] Start discovery request
2020-09-24 11:45:51.821 +07:00 [INF] Request finished in 79.59ms 200 application/json; charset=UTF-8
2020-09-24 11:45:52.026 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-24 11:45:52.026 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-24 11:45:52.028 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-24 11:45:52.028 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:45:52.029 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:52.030 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:52.030 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-24 11:45:52.030 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-24 11:45:52.030 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-24 11:45:52.031 +07:00 [DBG] Start key discovery request
2020-09-24 11:45:52.039 +07:00 [INF] Request finished in 13.0694ms 200 application/json; charset=UTF-8
2020-09-24 11:45:52.436 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3DEmC4DfEqfilKmpBaQtBa5f0T6KqmHRGONiFL4AaQSOjJMM69R-GOPgLNIm7RwXaTPoPDFxj36_Z3dHDyLwH6OOAGeKPqrCt2AawQRqUpoofi4OoWhFYE15w7B_DUIpVOTC0t74Y-X0IJoIP5TU1KVgu_ng3uYUKHNy4jd5jMGwhUSwDKAsdYgmyd-_1_0L8rEQwjc3TAkWuTfCv5WWD-SQ&nonce=637365195521036156.MzQxMjFkZTMtY2NjYi00MmNjLWJhMjAtNzU0YmEwZjA5MTllMTUzOGIwZjUtM2Q0My00NDY4LTg0YzktYzZjZDc1ODk0ODky&code_challenge=rhuAc7_uwQ1LE9BYudiZiwOi2EKGSSv4EbIpnVzzCOM&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-24 11:45:52.437 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-24 11:45:52.437 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-24 11:45:52.437 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:45:52.441 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:52.443 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:52.443 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-24 11:45:52.447 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-24 11:45:52.447 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-24 11:45:52.448 +07:00 [DBG] Start authorize request
2020-09-24 11:45:52.450 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:52.451 +07:00 [DBG] No user present in authorize request
2020-09-24 11:45:52.452 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:45:52.460 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:45:52.466 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:45:52.478 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:45:52.486 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile identity.netframeworkmvcclient","State":"OpenIdConnect.AuthenticationProperties=EmC4DfEqfilKmpBaQtBa5f0T6KqmHRGONiFL4AaQSOjJMM69R-GOPgLNIm7R…","UiLocales":null,"Nonce":"637365195521036156.MzQxMjFkZTMtY2NjYi00MmNjLWJhMjAtNzU0YmEwZjA5MTllMTUzOGIwZjUtM2Q0My00NDY4LTg0Yzkt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile identity.netframeworkmvcclient","state":"OpenIdConnect.AuthenticationProperties=EmC4DfEqfilKmpBaQtBa5f0T6KqmHRGONiFL4AaQSOjJMM69R-GOPgLNIm7R…","nonce":"637365195521036156.MzQxMjFkZTMtY2NjYi00MmNjLWJhMjAtNzU0YmEwZjA5MTllMTUzOGIwZjUtM2Q0My00NDY4LTg0Yzkt…","code_challenge":"rhuAc7_uwQ1LE9BYudiZiwOi2EKGSSv4EbIpnVzzCOM","code_challenge_method":"S256","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-24 11:45:52.495 +07:00 [INF] Showing login: User is not authenticated
2020-09-24 11:45:52.498 +07:00 [INF] Request finished in 62.0709ms 302 
2020-09-24 11:45:52.502 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dnetframeworkmvcclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44344%252F%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.netframeworkmvcclient%26state%3DOpenIdConnect.AuthenticationProperties%253DEmC4DfEqfilKmpBaQtBa5f0T6KqmHRGONiFL4AaQSOjJMM69R-GOPgLNIm7RwXaTPoPDFxj36_Z3dHDyLwH6OOAGeKPqrCt2AawQRqUpoofi4OoWhFYE15w7B_DUIpVOTC0t74Y-X0IJoIP5TU1KVgu_ng3uYUKHNy4jd5jMGwhUSwDKAsdYgmyd-_1_0L8rEQwjc3TAkWuTfCv5WWD-SQ%26nonce%3D637365195521036156.MzQxMjFkZTMtY2NjYi00MmNjLWJhMjAtNzU0YmEwZjA5MTllMTUzOGIwZjUtM2Q0My00NDY4LTg0YzktYzZjZDc1ODk0ODky%26code_challenge%3DrhuAc7_uwQ1LE9BYudiZiwOi2EKGSSv4EbIpnVzzCOM%26code_challenge_method%3DS256%26x-client-SKU%3DID_NET461%26x-client-ver%3D6.7.1.0  
2020-09-24 11:45:52.503 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-24 11:45:52.506 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-24 11:45:52.509 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-24 11:45:52.509 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:45:52.510 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:52.510 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:52.511 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:45:52.515 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-24 11:45:52.536 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-24 11:45:52.536 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-24 11:45:52.537 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-24 11:45:52.537 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:45:52.537 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-24 11:45:52.537 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:45:52.538 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:45:52.539 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:45:52.541 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-24 11:45:52.543 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-24 11:45:52.543 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:45:52.543 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:45:52.543 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-24 11:45:52.545 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:45:52.552 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:52.552 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:45:52.552 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:45:52.552 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:45:52.553 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:45:52.554 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-24 11:45:52.558 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-24 11:45:52.563 +07:00 [DBG] View lookup cache miss for view 'Login' in controller 'Account'.
2020-09-24 11:45:52.568 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-24 11:45:52.571 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 5.3212ms.
2020-09-24 11:45:52.589 +07:00 [DBG] View lookup cache miss for view '_ValidationSummary' in controller 'Account'.
2020-09-24 11:45:52.598 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-24 11:45:52.601 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-24 11:45:52.622 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2020-09-24 11:45:52.631 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Account'.
2020-09-24 11:45:52.639 +07:00 [INF] Executed ViewResult - view Login executed in 76.1084ms.
2020-09-24 11:45:52.639 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 101.7593ms
2020-09-24 11:45:52.639 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:45:52.642 +07:00 [INF] Request finished in 139.3948ms 200 text/html; charset=utf-8
2020-09-24 11:45:56.888 +07:00 [INF] Request starting HTTP/2.0 POST https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dnetframeworkmvcclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44344%252F%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.netframeworkmvcclient%26state%3DOpenIdConnect.AuthenticationProperties%253DEmC4DfEqfilKmpBaQtBa5f0T6KqmHRGONiFL4AaQSOjJMM69R-GOPgLNIm7RwXaTPoPDFxj36_Z3dHDyLwH6OOAGeKPqrCt2AawQRqUpoofi4OoWhFYE15w7B_DUIpVOTC0t74Y-X0IJoIP5TU1KVgu_ng3uYUKHNy4jd5jMGwhUSwDKAsdYgmyd-_1_0L8rEQwjc3TAkWuTfCv5WWD-SQ%26nonce%3D637365195521036156.MzQxMjFkZTMtY2NjYi00MmNjLWJhMjAtNzU0YmEwZjA5MTllMTUzOGIwZjUtM2Q0My00NDY4LTg0YzktYzZjZDc1ODk0ODky%26code_challenge%3DrhuAc7_uwQ1LE9BYudiZiwOi2EKGSSv4EbIpnVzzCOM%26code_challenge_method%3DS256%26x-client-SKU%3DID_NET461%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1014
2020-09-24 11:45:56.888 +07:00 [DBG] POST requests are not supported
2020-09-24 11:45:56.889 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-24 11:45:56.889 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-24 11:45:56.889 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:45:56.892 +07:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-24 11:45:56.892 +07:00 [INF] No CORS policy found for the specified request.
2020-09-24 11:45:56.892 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:56.892 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:56.893 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:45:56.915 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IdentityServerHost.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-24 11:45:56.915 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"]
2020-09-24 11:45:56.915 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-24 11:45:56.915 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:45:56.915 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-24 11:45:56.915 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:45:57.081 +07:00 [DBG] Antiforgery successfully validated a request.
2020-09-24 11:45:57.081 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:45:57.082 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:45:57.169 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-24 11:45:57.169 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' using the name '' in request data ...
2020-09-24 11:45:57.171 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String' using the name 'Username' in request data ...
2020-09-24 11:45:57.171 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String'.
2020-09-24 11:45:57.171 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String' using the name 'Password' in request data ...
2020-09-24 11:45:57.171 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String'.
2020-09-24 11:45:57.172 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean' using the name 'RememberLogin' in request data ...
2020-09-24 11:45:57.190 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean'.
2020-09-24 11:45:57.190 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String' using the name 'ReturnUrl' in request data ...
2020-09-24 11:45:57.190 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String'.
2020-09-24 11:45:57.190 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:45:57.190 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:45:57.190 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-24 11:45:57.194 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:45:57.194 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' ...
2020-09-24 11:45:57.195 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' using the name 'button' in request data ...
2020-09-24 11:45:57.195 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-24 11:45:57.195 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-24 11:45:57.195 +07:00 [DBG] Attempting to validate the bound parameter 'button' of type 'System.String' ...
2020-09-24 11:45:57.195 +07:00 [DBG] Done attempting to validate the bound parameter 'button' of type 'System.String'.
2020-09-24 11:45:57.197 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:57.197 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:45:57.197 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:45:57.197 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:45:57.198 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:45:57.276 +07:00 [DBG] Augmenting SignInContext
2020-09-24 11:45:57.276 +07:00 [DBG] Adding idp claim with value: local
2020-09-24 11:45:57.276 +07:00 [DBG] Adding amr claim with value: pwd
2020-09-24 11:45:57.276 +07:00 [DBG] Adding auth_time claim with value: 1600922757
2020-09-24 11:45:57.277 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:57.341 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-24 11:45:57.344 +07:00 [INF] Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3DEmC4DfEqfilKmpBaQtBa5f0T6KqmHRGONiFL4AaQSOjJMM69R-GOPgLNIm7RwXaTPoPDFxj36_Z3dHDyLwH6OOAGeKPqrCt2AawQRqUpoofi4OoWhFYE15w7B_DUIpVOTC0t74Y-X0IJoIP5TU1KVgu_ng3uYUKHNy4jd5jMGwhUSwDKAsdYgmyd-_1_0L8rEQwjc3TAkWuTfCv5WWD-SQ&nonce=637365195521036156.MzQxMjFkZTMtY2NjYi00MmNjLWJhMjAtNzU0YmEwZjA5MTllMTUzOGIwZjUtM2Q0My00NDY4LTg0YzktYzZjZDc1ODk0ODky&code_challenge=rhuAc7_uwQ1LE9BYudiZiwOi2EKGSSv4EbIpnVzzCOM&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0.
2020-09-24 11:45:57.344 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 429.0314ms
2020-09-24 11:45:57.345 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:45:57.346 +07:00 [INF] Request finished in 459.1839ms 302 
2020-09-24 11:45:57.352 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize/callback?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3DEmC4DfEqfilKmpBaQtBa5f0T6KqmHRGONiFL4AaQSOjJMM69R-GOPgLNIm7RwXaTPoPDFxj36_Z3dHDyLwH6OOAGeKPqrCt2AawQRqUpoofi4OoWhFYE15w7B_DUIpVOTC0t74Y-X0IJoIP5TU1KVgu_ng3uYUKHNy4jd5jMGwhUSwDKAsdYgmyd-_1_0L8rEQwjc3TAkWuTfCv5WWD-SQ&nonce=637365195521036156.MzQxMjFkZTMtY2NjYi00MmNjLWJhMjAtNzU0YmEwZjA5MTllMTUzOGIwZjUtM2Q0My00NDY4LTg0YzktYzZjZDc1ODk0ODky&code_challenge=rhuAc7_uwQ1LE9BYudiZiwOi2EKGSSv4EbIpnVzzCOM&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-24 11:45:57.352 +07:00 [DBG] The request path /connect/authorize/callback does not match a supported file type
2020-09-24 11:45:57.352 +07:00 [DBG] No candidates found for the request path '/connect/authorize/callback'
2020-09-24 11:45:57.352 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:45:57.352 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-24 11:45:57.353 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-24 11:45:57.353 +07:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-24 11:45:57.353 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-24 11:45:57.353 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-24 11:45:57.355 +07:00 [DBG] Start authorize callback request
2020-09-24 11:45:57.384 +07:00 [DBG] User in authorize request: 123456
2020-09-24 11:45:57.384 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:45:57.384 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:45:57.384 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:45:57.385 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:45:57.385 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile identity.netframeworkmvcclient","State":"OpenIdConnect.AuthenticationProperties=EmC4DfEqfilKmpBaQtBa5f0T6KqmHRGONiFL4AaQSOjJMM69R-GOPgLNIm7R…","UiLocales":null,"Nonce":"637365195521036156.MzQxMjFkZTMtY2NjYi00MmNjLWJhMjAtNzU0YmEwZjA5MTllMTUzOGIwZjUtM2Q0My00NDY4LTg0Yzkt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"7221B535A63BAD1004423AF3CDC2EFF4","Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile identity.netframeworkmvcclient","state":"OpenIdConnect.AuthenticationProperties=EmC4DfEqfilKmpBaQtBa5f0T6KqmHRGONiFL4AaQSOjJMM69R-GOPgLNIm7R…","nonce":"637365195521036156.MzQxMjFkZTMtY2NjYi00MmNjLWJhMjAtNzU0YmEwZjA5MTllMTUzOGIwZjUtM2Q0My00NDY4LTg0Yzkt…","code_challenge":"rhuAc7_uwQ1LE9BYudiZiwOi2EKGSSv4EbIpnVzzCOM","code_challenge_method":"S256","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-24 11:45:57.405 +07:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-24 11:45:57.407 +07:00 [DBG] Creating Authorization Code Flow response.
2020-09-24 11:45:57.546 +07:00 [DBG] Authorize endpoint response
{"SubjectId":"123456","ClientId":"netframeworkmvcclient","RedirectUri":"https://localhost:44344/","State":"OpenIdConnect.AuthenticationProperties=EmC4DfEqfilKmpBaQtBa5f0T6KqmHRGONiFL4AaQSOjJMM69R-GOPgLNIm7R…","Scope":"openid profile identity.netframeworkmvcclient","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-24 11:45:57.559 +07:00 [DBG] Augmenting SignInContext
2020-09-24 11:45:57.559 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-24 11:45:57.560 +07:00 [INF] Request finished in 209.0026ms 302 
2020-09-24 11:45:57.591 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44313/connect/token application/x-www-form-urlencoded 279
2020-09-24 11:45:57.591 +07:00 [DBG] POST requests are not supported
2020-09-24 11:45:57.591 +07:00 [DBG] No candidates found for the request path '/connect/token'
2020-09-24 11:45:57.591 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:45:57.592 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:57.592 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:45:57.592 +07:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-24 11:45:57.593 +07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-24 11:45:57.594 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-24 11:45:57.595 +07:00 [DBG] Start token request.
2020-09-24 11:45:57.597 +07:00 [DBG] Start client validation
2020-09-24 11:45:57.609 +07:00 [DBG] Start parsing Basic Authentication secret
2020-09-24 11:45:57.610 +07:00 [DBG] Start parsing for secret in post body
2020-09-24 11:45:57.621 +07:00 [DBG] Parser found secret: PostBodySecretParser
2020-09-24 11:45:57.621 +07:00 [DBG] Secret id found: netframeworkmvcclient
2020-09-24 11:45:57.621 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:45:57.652 +07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2020-09-24 11:45:57.652 +07:00 [DBG] Client validation success
2020-09-24 11:45:57.654 +07:00 [DBG] Start token request validation
2020-09-24 11:45:57.656 +07:00 [DBG] Start validation of authorization code token request
2020-09-24 11:45:57.689 +07:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-09-24 11:45:57.691 +07:00 [DBG] Validation of authorization code token request success
2020-09-24 11:45:57.692 +07:00 [INF] Token request validation success, {"ClientId":"netframeworkmvcclient","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"EA56CD7CE6A23AB8EA9F90166BA97A30640F6567DFD41A9F95435D83C95739ED","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"netframeworkmvcclient","client_secret":"***REDACTED***","code":"EA56CD7CE6A23AB8EA9F90166BA97A30640F6567DFD41A9F95435D83C95739ED","grant_type":"authorization_code","redirect_uri":"https://localhost:44344/","code_verifier":"f2046551cdaa3d2ae02c732313299e5beb357e0c6dbcf16fc438698c9097686b"},"$type":"TokenRequestValidationLog"}
2020-09-24 11:45:57.696 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:45:57.705 +07:00 [DBG] Getting claims for access token for client: netframeworkmvcclient
2020-09-24 11:45:57.705 +07:00 [DBG] Getting claims for access token for subject: 123456
2020-09-24 11:45:57.983 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:45:57.987 +07:00 [DBG] Getting claims for identity token for subject: 123456 and client: netframeworkmvcclient
2020-09-24 11:45:57.991 +07:00 [DBG] Token request success.
2020-09-24 11:45:58.056 +07:00 [INF] Request finished in 465.2106ms 200 application/json; charset=UTF-8
2020-09-24 11:47:51.775 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:BackChannelLogoutClient'
2020-09-24 11:47:52.457 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:JwtRequestUriClient'
2020-09-24 11:48:01.787 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:48:01.790 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0314ms - processed: 0 items - remaining: 2 items
2020-09-24 11:48:11.800 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:48:11.800 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 2 items
2020-09-24 11:48:21.801 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:48:21.801 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 2 items
2020-09-24 11:48:43.093 +07:00 [INF] Starting host...
2020-09-24 11:48:43.313 +07:00 [DBG] Hosting starting
2020-09-24 11:48:43.328 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-24 11:48:43.337 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-24 11:48:43.342 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-24 11:48:43.343 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-24 11:48:43.343 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-24 11:48:43.347 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-24 11:48:43.350 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-24 11:48:43.351 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-24 11:48:43.351 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-24 11:48:43.358 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-24 11:48:43.364 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-24 11:48:43.367 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-24 11:48:43.368 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-24 11:48:43.371 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-24 11:48:43.373 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-24 11:48:43.375 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-24 11:48:43.375 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-24 11:48:43.381 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-24 11:48:43.387 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-24 11:48:43.389 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-24 11:48:43.390 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-24 11:48:43.390 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-24 11:48:43.390 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-24 11:48:43.390 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-24 11:48:43.390 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-24 11:48:43.447 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-24 11:48:43.447 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-24 11:48:43.447 +07:00 [INF] Hosting environment: Development
2020-09-24 11:48:43.447 +07:00 [INF] Content root path: D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4
2020-09-24 11:48:43.447 +07:00 [DBG] Hosting started
2020-09-24 11:48:43.461 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-24 11:48:43.463 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-24 11:48:43.464 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-24 11:48:43.480 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-24 11:48:43.481 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:48:43.493 +07:00 [DBG] Login Url: /Account/Login
2020-09-24 11:48:43.493 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-24 11:48:43.493 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-24 11:48:43.493 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-24 11:48:43.493 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-24 11:48:43.493 +07:00 [DBG] Error Url: /home/error
2020-09-24 11:48:43.493 +07:00 [DBG] Error Id Parameter: errorId
2020-09-24 11:48:43.496 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:43.502 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:43.505 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-24 11:48:43.506 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-24 11:48:43.506 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-24 11:48:43.507 +07:00 [DBG] Start discovery request
2020-09-24 11:48:43.543 +07:00 [INF] Request finished in 84.8448ms 200 application/json; charset=UTF-8
2020-09-24 11:48:43.752 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-24 11:48:43.752 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-24 11:48:43.754 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-24 11:48:43.754 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:48:43.755 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:43.755 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:43.756 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-24 11:48:43.756 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-24 11:48:43.756 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-24 11:48:43.757 +07:00 [DBG] Start key discovery request
2020-09-24 11:48:43.765 +07:00 [INF] Request finished in 13.7349ms 200 application/json; charset=UTF-8
2020-09-24 11:48:44.326 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3Da84Kp93i5PR9B3f9vio2ku3ymNMF3bU4D7vk4ppwGO6TkjTn8XEqQc0EUZm6UzSvBZp4KzThTubN_gGyKsXyvo2Anr73L6OQHT7Zo5CAVNJtouHWxWYTeQAV_KWFBt7fR3DePt584CUauSyI-OeQVIQZaRVxDOHW_mDSUrLNAN6Pp9MH7nzfN4PO_eqQQACYDp4jmEDNK7uEAxxAgw7Dhg&nonce=637365197240151932.ZWU3ODViNmUtYzEwMC00ZDM4LWJlNzEtZTRiN2FjNTEzMjUwOGU5YWEzN2MtZWFhZi00OTlmLWI5ODEtZmU4NjVkOWQ4Nzgz&code_challenge=jochMHxilR1-8EGsFqZJB7EVJFelBBntMbRJLkL0i20&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-24 11:48:44.326 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-24 11:48:44.326 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-24 11:48:44.326 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:48:44.331 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:44.332 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:44.332 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-24 11:48:44.337 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-24 11:48:44.337 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-24 11:48:44.339 +07:00 [DBG] Start authorize request
2020-09-24 11:48:44.340 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:44.342 +07:00 [DBG] No user present in authorize request
2020-09-24 11:48:44.343 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:48:44.350 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:48:44.357 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:48:44.369 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:48:44.377 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile identity.netframeworkmvcclient","State":"OpenIdConnect.AuthenticationProperties=a84Kp93i5PR9B3f9vio2ku3ymNMF3bU4D7vk4ppwGO6TkjTn8XEqQc0EUZm6…","UiLocales":null,"Nonce":"637365197240151932.ZWU3ODViNmUtYzEwMC00ZDM4LWJlNzEtZTRiN2FjNTEzMjUwOGU5YWEzN2MtZWFhZi00OTlmLWI5ODEt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile identity.netframeworkmvcclient","state":"OpenIdConnect.AuthenticationProperties=a84Kp93i5PR9B3f9vio2ku3ymNMF3bU4D7vk4ppwGO6TkjTn8XEqQc0EUZm6…","nonce":"637365197240151932.ZWU3ODViNmUtYzEwMC00ZDM4LWJlNzEtZTRiN2FjNTEzMjUwOGU5YWEzN2MtZWFhZi00OTlmLWI5ODEt…","code_challenge":"jochMHxilR1-8EGsFqZJB7EVJFelBBntMbRJLkL0i20","code_challenge_method":"S256","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-24 11:48:44.387 +07:00 [INF] Showing login: User is not authenticated
2020-09-24 11:48:44.390 +07:00 [INF] Request finished in 64.1569ms 302 
2020-09-24 11:48:44.394 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dnetframeworkmvcclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44344%252F%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.netframeworkmvcclient%26state%3DOpenIdConnect.AuthenticationProperties%253Da84Kp93i5PR9B3f9vio2ku3ymNMF3bU4D7vk4ppwGO6TkjTn8XEqQc0EUZm6UzSvBZp4KzThTubN_gGyKsXyvo2Anr73L6OQHT7Zo5CAVNJtouHWxWYTeQAV_KWFBt7fR3DePt584CUauSyI-OeQVIQZaRVxDOHW_mDSUrLNAN6Pp9MH7nzfN4PO_eqQQACYDp4jmEDNK7uEAxxAgw7Dhg%26nonce%3D637365197240151932.ZWU3ODViNmUtYzEwMC00ZDM4LWJlNzEtZTRiN2FjNTEzMjUwOGU5YWEzN2MtZWFhZi00OTlmLWI5ODEtZmU4NjVkOWQ4Nzgz%26code_challenge%3DjochMHxilR1-8EGsFqZJB7EVJFelBBntMbRJLkL0i20%26code_challenge_method%3DS256%26x-client-SKU%3DID_NET461%26x-client-ver%3D6.7.1.0  
2020-09-24 11:48:44.394 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-24 11:48:44.397 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-24 11:48:44.399 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-24 11:48:44.400 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:48:44.400 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:44.400 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:44.402 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:48:44.405 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-24 11:48:44.426 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-24 11:48:44.427 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-24 11:48:44.427 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-24 11:48:44.427 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:48:44.427 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-24 11:48:44.428 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:48:44.428 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:48:44.430 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:48:44.432 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-24 11:48:44.435 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-24 11:48:44.435 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:48:44.435 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:48:44.436 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-24 11:48:44.437 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:48:44.444 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:44.445 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:48:44.445 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:48:44.445 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:48:44.445 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:48:44.446 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:48:44.452 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-24 11:48:44.452 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-24 11:48:44.453 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-24 11:48:44.453 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-24 11:48:44.453 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-24 11:48:44.453 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-24 11:48:44.453 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-24 11:48:44.453 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-24 11:48:44.453 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-24 11:48:44.453 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-24 11:48:44.454 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-24 11:48:44.454 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-24 11:48:44.454 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-24 11:48:44.454 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-24 11:48:44.454 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-24 11:48:44.454 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-24 11:48:44.454 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-24 11:48:44.454 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-24 11:48:44.454 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-24 11:48:44.458 +07:00 [DBG] View lookup cache miss for view 'Login' in controller 'Account'.
2020-09-24 11:48:44.464 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-24 11:48:44.468 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 6.2249ms.
2020-09-24 11:48:44.488 +07:00 [DBG] View lookup cache miss for view '_ValidationSummary' in controller 'Account'.
2020-09-24 11:48:44.498 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-24 11:48:44.501 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-24 11:48:44.525 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2020-09-24 11:48:44.535 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Account'.
2020-09-24 11:48:44.543 +07:00 [INF] Executed ViewResult - view Login executed in 85.7971ms.
2020-09-24 11:48:44.544 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 116.2183ms
2020-09-24 11:48:44.544 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:48:44.546 +07:00 [INF] Request finished in 152.5402ms 200 text/html; charset=utf-8
2020-09-24 11:48:48.514 +07:00 [INF] Request starting HTTP/2.0 POST https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dnetframeworkmvcclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44344%252F%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.netframeworkmvcclient%26state%3DOpenIdConnect.AuthenticationProperties%253Da84Kp93i5PR9B3f9vio2ku3ymNMF3bU4D7vk4ppwGO6TkjTn8XEqQc0EUZm6UzSvBZp4KzThTubN_gGyKsXyvo2Anr73L6OQHT7Zo5CAVNJtouHWxWYTeQAV_KWFBt7fR3DePt584CUauSyI-OeQVIQZaRVxDOHW_mDSUrLNAN6Pp9MH7nzfN4PO_eqQQACYDp4jmEDNK7uEAxxAgw7Dhg%26nonce%3D637365197240151932.ZWU3ODViNmUtYzEwMC00ZDM4LWJlNzEtZTRiN2FjNTEzMjUwOGU5YWEzN2MtZWFhZi00OTlmLWI5ODEtZmU4NjVkOWQ4Nzgz%26code_challenge%3DjochMHxilR1-8EGsFqZJB7EVJFelBBntMbRJLkL0i20%26code_challenge_method%3DS256%26x-client-SKU%3DID_NET461%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1014
2020-09-24 11:48:48.514 +07:00 [DBG] POST requests are not supported
2020-09-24 11:48:48.515 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-24 11:48:48.515 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-24 11:48:48.515 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:48:48.517 +07:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-24 11:48:48.518 +07:00 [INF] No CORS policy found for the specified request.
2020-09-24 11:48:48.518 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:48.518 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:48.518 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:48:48.524 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IdentityServerHost.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-24 11:48:48.525 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"]
2020-09-24 11:48:48.525 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-24 11:48:48.525 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:48:48.525 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-24 11:48:48.525 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:48:48.530 +07:00 [DBG] Antiforgery successfully validated a request.
2020-09-24 11:48:48.530 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:48:48.531 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:48:48.532 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-24 11:48:48.533 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' using the name '' in request data ...
2020-09-24 11:48:48.534 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String' using the name 'Username' in request data ...
2020-09-24 11:48:48.534 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String'.
2020-09-24 11:48:48.534 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String' using the name 'Password' in request data ...
2020-09-24 11:48:48.534 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String'.
2020-09-24 11:48:48.535 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean' using the name 'RememberLogin' in request data ...
2020-09-24 11:48:48.535 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean'.
2020-09-24 11:48:48.535 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String' using the name 'ReturnUrl' in request data ...
2020-09-24 11:48:48.535 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String'.
2020-09-24 11:48:48.535 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:48:48.535 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:48:48.535 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-24 11:48:48.541 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:48:48.541 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' ...
2020-09-24 11:48:48.541 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' using the name 'button' in request data ...
2020-09-24 11:48:48.541 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-24 11:48:48.541 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-24 11:48:48.542 +07:00 [DBG] Attempting to validate the bound parameter 'button' of type 'System.String' ...
2020-09-24 11:48:48.542 +07:00 [DBG] Done attempting to validate the bound parameter 'button' of type 'System.String'.
2020-09-24 11:48:48.544 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:48.544 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:48:48.544 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:48:48.544 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:48:48.545 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:48:48.551 +07:00 [DBG] Augmenting SignInContext
2020-09-24 11:48:48.552 +07:00 [DBG] Adding idp claim with value: local
2020-09-24 11:48:48.552 +07:00 [DBG] Adding amr claim with value: pwd
2020-09-24 11:48:48.552 +07:00 [DBG] Adding auth_time claim with value: 1600922928
2020-09-24 11:48:48.553 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:48.557 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-24 11:48:48.559 +07:00 [INF] Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3Da84Kp93i5PR9B3f9vio2ku3ymNMF3bU4D7vk4ppwGO6TkjTn8XEqQc0EUZm6UzSvBZp4KzThTubN_gGyKsXyvo2Anr73L6OQHT7Zo5CAVNJtouHWxWYTeQAV_KWFBt7fR3DePt584CUauSyI-OeQVIQZaRVxDOHW_mDSUrLNAN6Pp9MH7nzfN4PO_eqQQACYDp4jmEDNK7uEAxxAgw7Dhg&nonce=637365197240151932.ZWU3ODViNmUtYzEwMC00ZDM4LWJlNzEtZTRiN2FjNTEzMjUwOGU5YWEzN2MtZWFhZi00OTlmLWI5ODEtZmU4NjVkOWQ4Nzgz&code_challenge=jochMHxilR1-8EGsFqZJB7EVJFelBBntMbRJLkL0i20&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0.
2020-09-24 11:48:48.560 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 35.2513ms
2020-09-24 11:48:48.561 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:48:48.562 +07:00 [INF] Request finished in 49.2704ms 302 
2020-09-24 11:48:48.575 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize/callback?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3Da84Kp93i5PR9B3f9vio2ku3ymNMF3bU4D7vk4ppwGO6TkjTn8XEqQc0EUZm6UzSvBZp4KzThTubN_gGyKsXyvo2Anr73L6OQHT7Zo5CAVNJtouHWxWYTeQAV_KWFBt7fR3DePt584CUauSyI-OeQVIQZaRVxDOHW_mDSUrLNAN6Pp9MH7nzfN4PO_eqQQACYDp4jmEDNK7uEAxxAgw7Dhg&nonce=637365197240151932.ZWU3ODViNmUtYzEwMC00ZDM4LWJlNzEtZTRiN2FjNTEzMjUwOGU5YWEzN2MtZWFhZi00OTlmLWI5ODEtZmU4NjVkOWQ4Nzgz&code_challenge=jochMHxilR1-8EGsFqZJB7EVJFelBBntMbRJLkL0i20&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-24 11:48:48.575 +07:00 [DBG] The request path /connect/authorize/callback does not match a supported file type
2020-09-24 11:48:48.575 +07:00 [DBG] No candidates found for the request path '/connect/authorize/callback'
2020-09-24 11:48:48.575 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:48:48.576 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-24 11:48:48.576 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-24 11:48:48.576 +07:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-24 11:48:48.577 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-24 11:48:48.577 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-24 11:48:48.578 +07:00 [DBG] Start authorize callback request
2020-09-24 11:48:48.580 +07:00 [DBG] User in authorize request: 123456
2020-09-24 11:48:48.580 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:48:48.580 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:48:48.580 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:48:48.580 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:48:48.580 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile identity.netframeworkmvcclient","State":"OpenIdConnect.AuthenticationProperties=a84Kp93i5PR9B3f9vio2ku3ymNMF3bU4D7vk4ppwGO6TkjTn8XEqQc0EUZm6…","UiLocales":null,"Nonce":"637365197240151932.ZWU3ODViNmUtYzEwMC00ZDM4LWJlNzEtZTRiN2FjNTEzMjUwOGU5YWEzN2MtZWFhZi00OTlmLWI5ODEt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"C0C54BA6F6A639DE9711EC8962C24A77","Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile identity.netframeworkmvcclient","state":"OpenIdConnect.AuthenticationProperties=a84Kp93i5PR9B3f9vio2ku3ymNMF3bU4D7vk4ppwGO6TkjTn8XEqQc0EUZm6…","nonce":"637365197240151932.ZWU3ODViNmUtYzEwMC00ZDM4LWJlNzEtZTRiN2FjNTEzMjUwOGU5YWEzN2MtZWFhZi00OTlmLWI5ODEt…","code_challenge":"jochMHxilR1-8EGsFqZJB7EVJFelBBntMbRJLkL0i20","code_challenge_method":"S256","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-24 11:48:48.586 +07:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-24 11:48:48.588 +07:00 [DBG] Creating Authorization Code Flow response.
2020-09-24 11:48:48.635 +07:00 [DBG] Authorize endpoint response
{"SubjectId":"123456","ClientId":"netframeworkmvcclient","RedirectUri":"https://localhost:44344/","State":"OpenIdConnect.AuthenticationProperties=a84Kp93i5PR9B3f9vio2ku3ymNMF3bU4D7vk4ppwGO6TkjTn8XEqQc0EUZm6…","Scope":"openid profile identity.netframeworkmvcclient","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-24 11:48:48.640 +07:00 [DBG] Augmenting SignInContext
2020-09-24 11:48:48.640 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-24 11:48:48.642 +07:00 [INF] Request finished in 66.4269ms 302 
2020-09-24 11:48:48.668 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44313/connect/token application/x-www-form-urlencoded 279
2020-09-24 11:48:48.668 +07:00 [DBG] POST requests are not supported
2020-09-24 11:48:48.668 +07:00 [DBG] No candidates found for the request path '/connect/token'
2020-09-24 11:48:48.668 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:48:48.668 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:48.668 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:48:48.668 +07:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-24 11:48:48.670 +07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-24 11:48:48.670 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-24 11:48:48.672 +07:00 [DBG] Start token request.
2020-09-24 11:48:48.674 +07:00 [DBG] Start client validation
2020-09-24 11:48:48.676 +07:00 [DBG] Start parsing Basic Authentication secret
2020-09-24 11:48:48.677 +07:00 [DBG] Start parsing for secret in post body
2020-09-24 11:48:48.685 +07:00 [DBG] Parser found secret: PostBodySecretParser
2020-09-24 11:48:48.685 +07:00 [DBG] Secret id found: netframeworkmvcclient
2020-09-24 11:48:48.685 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:48:48.691 +07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2020-09-24 11:48:48.691 +07:00 [DBG] Client validation success
2020-09-24 11:48:48.693 +07:00 [DBG] Start token request validation
2020-09-24 11:48:48.695 +07:00 [DBG] Start validation of authorization code token request
2020-09-24 11:48:48.715 +07:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-09-24 11:48:48.717 +07:00 [DBG] Validation of authorization code token request success
2020-09-24 11:48:48.718 +07:00 [INF] Token request validation success, {"ClientId":"netframeworkmvcclient","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"B994493325D51CB5A552B340ECBC490F6C8F8812BA9601FA5CC10D102F0F36F0","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"netframeworkmvcclient","client_secret":"***REDACTED***","code":"B994493325D51CB5A552B340ECBC490F6C8F8812BA9601FA5CC10D102F0F36F0","grant_type":"authorization_code","redirect_uri":"https://localhost:44344/","code_verifier":"d5f103c254401f24c3f299477e60add01f41b45d51fbc378a2c1515c0633b060"},"$type":"TokenRequestValidationLog"}
2020-09-24 11:48:48.722 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:48:48.731 +07:00 [DBG] Getting claims for access token for client: netframeworkmvcclient
2020-09-24 11:48:48.732 +07:00 [DBG] Getting claims for access token for subject: 123456
2020-09-24 11:48:48.777 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:48:48.780 +07:00 [DBG] Getting claims for identity token for subject: 123456 and client: netframeworkmvcclient
2020-09-24 11:48:48.784 +07:00 [DBG] Token request success.
2020-09-24 11:48:48.787 +07:00 [INF] Request finished in 119.9639ms 200 application/json; charset=UTF-8
2020-09-24 11:49:25.498 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3DeyWhgc38r54uRuqtrq5Syb9V620vg8daMil_dOKnzP-kuRbH7SQR3ZKDlGB6qPvFFoXCR3giPdI9msjc25p9nrMO39QeHgETRX4JcK3wAQpkJAyEI4Q6PGrEpSCAhaFJgnIpkxyER1B-4HcpRW8T3oPVukllqGYeJN4XJIvAmXmBzZVnEBwyWbg2TVAj1Nb47Nu9MRa4FS9vEOrUA8zGEQ&nonce=637365197654915896.ODk5ZWE5MzItOWE4OS00MmRhLWExZDAtM2Y1ODlmODI1MDFjMWJmNjRiNDgtODE0Yi00ODkxLTlmZGYtOTA3ODgzODRiNmQ2&code_challenge=kXn93tdKVNeqzTAeScFwMhcphrJW607j48V400Z964w&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-24 11:49:25.499 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-24 11:49:25.499 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-24 11:49:25.499 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:49:25.500 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:49:25.501 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:49:25.501 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-24 11:49:25.502 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-24 11:49:25.502 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-24 11:49:25.502 +07:00 [DBG] Start authorize request
2020-09-24 11:49:25.503 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:49:25.503 +07:00 [DBG] No user present in authorize request
2020-09-24 11:49:25.503 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:49:25.504 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:49:25.504 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:49:25.505 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:49:25.505 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile identity.netframeworkmvcclient","State":"OpenIdConnect.AuthenticationProperties=eyWhgc38r54uRuqtrq5Syb9V620vg8daMil_dOKnzP-kuRbH7SQR3ZKDlGB6…","UiLocales":null,"Nonce":"637365197654915896.ODk5ZWE5MzItOWE4OS00MmRhLWExZDAtM2Y1ODlmODI1MDFjMWJmNjRiNDgtODE0Yi00ODkxLTlmZGYt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile identity.netframeworkmvcclient","state":"OpenIdConnect.AuthenticationProperties=eyWhgc38r54uRuqtrq5Syb9V620vg8daMil_dOKnzP-kuRbH7SQR3ZKDlGB6…","nonce":"637365197654915896.ODk5ZWE5MzItOWE4OS00MmRhLWExZDAtM2Y1ODlmODI1MDFjMWJmNjRiNDgtODE0Yi00ODkxLTlmZGYt…","code_challenge":"kXn93tdKVNeqzTAeScFwMhcphrJW607j48V400Z964w","code_challenge_method":"S256","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-24 11:49:25.506 +07:00 [INF] Showing login: User is not authenticated
2020-09-24 11:49:25.506 +07:00 [INF] Request finished in 8.0373ms 302 
2020-09-24 11:49:25.511 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dnetframeworkmvcclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44344%252F%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.netframeworkmvcclient%26state%3DOpenIdConnect.AuthenticationProperties%253DeyWhgc38r54uRuqtrq5Syb9V620vg8daMil_dOKnzP-kuRbH7SQR3ZKDlGB6qPvFFoXCR3giPdI9msjc25p9nrMO39QeHgETRX4JcK3wAQpkJAyEI4Q6PGrEpSCAhaFJgnIpkxyER1B-4HcpRW8T3oPVukllqGYeJN4XJIvAmXmBzZVnEBwyWbg2TVAj1Nb47Nu9MRa4FS9vEOrUA8zGEQ%26nonce%3D637365197654915896.ODk5ZWE5MzItOWE4OS00MmRhLWExZDAtM2Y1ODlmODI1MDFjMWJmNjRiNDgtODE0Yi00ODkxLTlmZGYtOTA3ODgzODRiNmQ2%26code_challenge%3DkXn93tdKVNeqzTAeScFwMhcphrJW607j48V400Z964w%26code_challenge_method%3DS256%26x-client-SKU%3DID_NET461%26x-client-ver%3D6.7.1.0  
2020-09-24 11:49:25.511 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-24 11:49:25.512 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-24 11:49:25.512 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-24 11:49:25.512 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:49:25.512 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:49:25.512 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:49:25.513 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:49:25.513 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-24 11:49:25.513 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-24 11:49:25.513 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-24 11:49:25.513 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:49:25.513 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-24 11:49:25.513 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:49:25.514 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:49:25.516 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:49:25.516 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-24 11:49:25.516 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-24 11:49:25.516 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:49:25.516 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:49:25.516 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-24 11:49:25.516 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:49:25.517 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:49:25.517 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:49:25.517 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:49:25.517 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:49:25.517 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:49:25.517 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:49:25.518 +07:00 [DBG] View lookup cache hit for view 'Login' in controller 'Account'.
2020-09-24 11:49:25.518 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-24 11:49:25.518 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 0.2889ms.
2020-09-24 11:49:25.519 +07:00 [DBG] View lookup cache hit for view '_ValidationSummary' in controller 'Account'.
2020-09-24 11:49:25.520 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-24 11:49:25.520 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-24 11:49:25.521 +07:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Account'.
2020-09-24 11:49:25.522 +07:00 [DBG] View lookup cache hit for view '_Nav' in controller 'Account'.
2020-09-24 11:49:25.523 +07:00 [INF] Executed ViewResult - view Login executed in 4.9733ms.
2020-09-24 11:49:25.523 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 9.3289ms
2020-09-24 11:49:25.523 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:49:25.523 +07:00 [INF] Request finished in 12.0766ms 200 text/html; charset=utf-8
2020-09-24 11:49:28.103 +07:00 [INF] Request starting HTTP/2.0 POST https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dnetframeworkmvcclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44344%252F%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.netframeworkmvcclient%26state%3DOpenIdConnect.AuthenticationProperties%253DeyWhgc38r54uRuqtrq5Syb9V620vg8daMil_dOKnzP-kuRbH7SQR3ZKDlGB6qPvFFoXCR3giPdI9msjc25p9nrMO39QeHgETRX4JcK3wAQpkJAyEI4Q6PGrEpSCAhaFJgnIpkxyER1B-4HcpRW8T3oPVukllqGYeJN4XJIvAmXmBzZVnEBwyWbg2TVAj1Nb47Nu9MRa4FS9vEOrUA8zGEQ%26nonce%3D637365197654915896.ODk5ZWE5MzItOWE4OS00MmRhLWExZDAtM2Y1ODlmODI1MDFjMWJmNjRiNDgtODE0Yi00ODkxLTlmZGYtOTA3ODgzODRiNmQ2%26code_challenge%3DkXn93tdKVNeqzTAeScFwMhcphrJW607j48V400Z964w%26code_challenge_method%3DS256%26x-client-SKU%3DID_NET461%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1014
2020-09-24 11:49:28.104 +07:00 [DBG] POST requests are not supported
2020-09-24 11:49:28.104 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-24 11:49:28.104 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-24 11:49:28.104 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:49:28.104 +07:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-24 11:49:28.104 +07:00 [INF] No CORS policy found for the specified request.
2020-09-24 11:49:28.105 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:49:28.105 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:49:28.105 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:49:28.105 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IdentityServerHost.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-24 11:49:28.105 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"]
2020-09-24 11:49:28.106 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-24 11:49:28.106 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:49:28.106 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-24 11:49:28.106 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:49:28.106 +07:00 [DBG] Antiforgery successfully validated a request.
2020-09-24 11:49:28.106 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:49:28.107 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:49:28.107 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-24 11:49:28.107 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' using the name '' in request data ...
2020-09-24 11:49:28.107 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String' using the name 'Username' in request data ...
2020-09-24 11:49:28.107 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String'.
2020-09-24 11:49:28.108 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String' using the name 'Password' in request data ...
2020-09-24 11:49:28.108 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String'.
2020-09-24 11:49:28.108 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean' using the name 'RememberLogin' in request data ...
2020-09-24 11:49:28.108 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean'.
2020-09-24 11:49:28.108 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String' using the name 'ReturnUrl' in request data ...
2020-09-24 11:49:28.108 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String'.
2020-09-24 11:49:28.108 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:49:28.108 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:49:28.108 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-24 11:49:28.108 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:49:28.108 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' ...
2020-09-24 11:49:28.108 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' using the name 'button' in request data ...
2020-09-24 11:49:28.108 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-24 11:49:28.108 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-24 11:49:28.108 +07:00 [DBG] Attempting to validate the bound parameter 'button' of type 'System.String' ...
2020-09-24 11:49:28.108 +07:00 [DBG] Done attempting to validate the bound parameter 'button' of type 'System.String'.
2020-09-24 11:49:28.109 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:49:28.109 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:49:28.109 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:49:28.109 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:49:28.109 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:49:28.110 +07:00 [DBG] Augmenting SignInContext
2020-09-24 11:49:28.110 +07:00 [DBG] Adding idp claim with value: local
2020-09-24 11:49:28.110 +07:00 [DBG] Adding amr claim with value: pwd
2020-09-24 11:49:28.110 +07:00 [DBG] Adding auth_time claim with value: 1600922968
2020-09-24 11:49:28.110 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:49:28.110 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-24 11:49:28.111 +07:00 [INF] Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3DeyWhgc38r54uRuqtrq5Syb9V620vg8daMil_dOKnzP-kuRbH7SQR3ZKDlGB6qPvFFoXCR3giPdI9msjc25p9nrMO39QeHgETRX4JcK3wAQpkJAyEI4Q6PGrEpSCAhaFJgnIpkxyER1B-4HcpRW8T3oPVukllqGYeJN4XJIvAmXmBzZVnEBwyWbg2TVAj1Nb47Nu9MRa4FS9vEOrUA8zGEQ&nonce=637365197654915896.ODk5ZWE5MzItOWE4OS00MmRhLWExZDAtM2Y1ODlmODI1MDFjMWJmNjRiNDgtODE0Yi00ODkxLTlmZGYtOTA3ODgzODRiNmQ2&code_challenge=kXn93tdKVNeqzTAeScFwMhcphrJW607j48V400Z964w&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0.
2020-09-24 11:49:28.111 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 5.6406ms
2020-09-24 11:49:28.111 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:49:28.112 +07:00 [INF] Request finished in 9.4512ms 302 
2020-09-24 11:49:28.116 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize/callback?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3DeyWhgc38r54uRuqtrq5Syb9V620vg8daMil_dOKnzP-kuRbH7SQR3ZKDlGB6qPvFFoXCR3giPdI9msjc25p9nrMO39QeHgETRX4JcK3wAQpkJAyEI4Q6PGrEpSCAhaFJgnIpkxyER1B-4HcpRW8T3oPVukllqGYeJN4XJIvAmXmBzZVnEBwyWbg2TVAj1Nb47Nu9MRa4FS9vEOrUA8zGEQ&nonce=637365197654915896.ODk5ZWE5MzItOWE4OS00MmRhLWExZDAtM2Y1ODlmODI1MDFjMWJmNjRiNDgtODE0Yi00ODkxLTlmZGYtOTA3ODgzODRiNmQ2&code_challenge=kXn93tdKVNeqzTAeScFwMhcphrJW607j48V400Z964w&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-24 11:49:28.116 +07:00 [DBG] The request path /connect/authorize/callback does not match a supported file type
2020-09-24 11:49:28.116 +07:00 [DBG] No candidates found for the request path '/connect/authorize/callback'
2020-09-24 11:49:28.116 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:49:28.116 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-24 11:49:28.116 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-24 11:49:28.116 +07:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-24 11:49:28.117 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-24 11:49:28.117 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-24 11:49:28.117 +07:00 [DBG] Start authorize callback request
2020-09-24 11:49:28.117 +07:00 [DBG] User in authorize request: 123456
2020-09-24 11:49:28.117 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:49:28.117 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:49:28.117 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:49:28.117 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:49:28.117 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile identity.netframeworkmvcclient","State":"OpenIdConnect.AuthenticationProperties=eyWhgc38r54uRuqtrq5Syb9V620vg8daMil_dOKnzP-kuRbH7SQR3ZKDlGB6…","UiLocales":null,"Nonce":"637365197654915896.ODk5ZWE5MzItOWE4OS00MmRhLWExZDAtM2Y1ODlmODI1MDFjMWJmNjRiNDgtODE0Yi00ODkxLTlmZGYt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"90B83D1EA482B903FBD700963296CC31","Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile identity.netframeworkmvcclient","state":"OpenIdConnect.AuthenticationProperties=eyWhgc38r54uRuqtrq5Syb9V620vg8daMil_dOKnzP-kuRbH7SQR3ZKDlGB6…","nonce":"637365197654915896.ODk5ZWE5MzItOWE4OS00MmRhLWExZDAtM2Y1ODlmODI1MDFjMWJmNjRiNDgtODE0Yi00ODkxLTlmZGYt…","code_challenge":"kXn93tdKVNeqzTAeScFwMhcphrJW607j48V400Z964w","code_challenge_method":"S256","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-24 11:49:28.118 +07:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-24 11:49:28.118 +07:00 [DBG] Creating Authorization Code Flow response.
2020-09-24 11:49:28.119 +07:00 [DBG] Authorize endpoint response
{"SubjectId":"123456","ClientId":"netframeworkmvcclient","RedirectUri":"https://localhost:44344/","State":"OpenIdConnect.AuthenticationProperties=eyWhgc38r54uRuqtrq5Syb9V620vg8daMil_dOKnzP-kuRbH7SQR3ZKDlGB6…","Scope":"openid profile identity.netframeworkmvcclient","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-24 11:49:28.119 +07:00 [DBG] Augmenting SignInContext
2020-09-24 11:49:28.119 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-24 11:49:28.119 +07:00 [INF] Request finished in 3.5859ms 302 
2020-09-24 11:49:28.126 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44313/connect/token application/x-www-form-urlencoded 279
2020-09-24 11:49:28.126 +07:00 [DBG] POST requests are not supported
2020-09-24 11:49:28.126 +07:00 [DBG] No candidates found for the request path '/connect/token'
2020-09-24 11:49:28.126 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:49:28.126 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:49:28.126 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:49:28.126 +07:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-24 11:49:28.126 +07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-24 11:49:28.126 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-24 11:49:28.126 +07:00 [DBG] Start token request.
2020-09-24 11:49:28.126 +07:00 [DBG] Start client validation
2020-09-24 11:49:28.126 +07:00 [DBG] Start parsing Basic Authentication secret
2020-09-24 11:49:28.127 +07:00 [DBG] Start parsing for secret in post body
2020-09-24 11:49:28.129 +07:00 [DBG] Parser found secret: PostBodySecretParser
2020-09-24 11:49:28.129 +07:00 [DBG] Secret id found: netframeworkmvcclient
2020-09-24 11:49:28.129 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:49:28.129 +07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2020-09-24 11:49:28.129 +07:00 [DBG] Client validation success
2020-09-24 11:49:28.130 +07:00 [DBG] Start token request validation
2020-09-24 11:49:28.130 +07:00 [DBG] Start validation of authorization code token request
2020-09-24 11:49:28.130 +07:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-09-24 11:49:28.130 +07:00 [DBG] Validation of authorization code token request success
2020-09-24 11:49:28.130 +07:00 [INF] Token request validation success, {"ClientId":"netframeworkmvcclient","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"5AA290CFE7B9C42BBEAB3AFBB6B706134CFB0EF14F638A1E3AD4EBD9B50B2AEC","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"netframeworkmvcclient","client_secret":"***REDACTED***","code":"5AA290CFE7B9C42BBEAB3AFBB6B706134CFB0EF14F638A1E3AD4EBD9B50B2AEC","grant_type":"authorization_code","redirect_uri":"https://localhost:44344/","code_verifier":"67d1b784374c9007bae6942ef32a75086054776faeac9ef35bfdb08cd5212587"},"$type":"TokenRequestValidationLog"}
2020-09-24 11:49:28.130 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:49:28.131 +07:00 [DBG] Getting claims for access token for client: netframeworkmvcclient
2020-09-24 11:49:28.131 +07:00 [DBG] Getting claims for access token for subject: 123456
2020-09-24 11:49:28.132 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:49:28.132 +07:00 [DBG] Getting claims for identity token for subject: 123456 and client: netframeworkmvcclient
2020-09-24 11:49:28.133 +07:00 [DBG] Token request success.
2020-09-24 11:49:28.145 +07:00 [INF] Request finished in 19.3626ms 200 application/json; charset=UTF-8
2020-09-24 11:50:24.107 +07:00 [INF] Starting host...
2020-09-24 11:50:24.323 +07:00 [DBG] Hosting starting
2020-09-24 11:50:24.338 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-24 11:50:24.346 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-24 11:50:24.351 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-24 11:50:24.351 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-24 11:50:24.352 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-24 11:50:24.356 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-24 11:50:24.358 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-24 11:50:24.359 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-24 11:50:24.359 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-24 11:50:24.364 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-24 11:50:24.371 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-24 11:50:24.373 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-24 11:50:24.374 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-24 11:50:24.377 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-24 11:50:24.380 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-24 11:50:24.382 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-24 11:50:24.382 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-24 11:50:24.390 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-24 11:50:24.396 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-24 11:50:24.398 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-24 11:50:24.398 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-24 11:50:24.398 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-24 11:50:24.398 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-24 11:50:24.398 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-24 11:50:24.398 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-24 11:50:24.452 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-24 11:50:24.452 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-24 11:50:24.453 +07:00 [INF] Hosting environment: Development
2020-09-24 11:50:24.453 +07:00 [INF] Content root path: D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4
2020-09-24 11:50:24.453 +07:00 [DBG] Hosting started
2020-09-24 11:50:24.465 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-24 11:50:24.466 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-24 11:50:24.468 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-24 11:50:24.484 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-24 11:50:24.484 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:50:24.497 +07:00 [DBG] Login Url: /Account/Login
2020-09-24 11:50:24.497 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-24 11:50:24.497 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-24 11:50:24.497 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-24 11:50:24.497 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-24 11:50:24.497 +07:00 [DBG] Error Url: /home/error
2020-09-24 11:50:24.497 +07:00 [DBG] Error Id Parameter: errorId
2020-09-24 11:50:24.499 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:24.504 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:24.506 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-24 11:50:24.508 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-24 11:50:24.508 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-24 11:50:24.509 +07:00 [DBG] Start discovery request
2020-09-24 11:50:24.544 +07:00 [INF] Request finished in 81.6223ms 200 application/json; charset=UTF-8
2020-09-24 11:50:24.721 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-24 11:50:24.721 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-24 11:50:24.723 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-24 11:50:24.723 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:50:24.724 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:24.724 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:24.724 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-24 11:50:24.725 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-24 11:50:24.725 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-24 11:50:24.725 +07:00 [DBG] Start key discovery request
2020-09-24 11:50:24.734 +07:00 [INF] Request finished in 13.3689ms 200 application/json; charset=UTF-8
2020-09-24 11:50:25.075 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3DINvC3oXJclCesi_Qu_whQTQyoxV3d1nvTAfEJLOh7XugfjIxuSX4C5taXXynVXFaJSZNlss8biq-GcyehJC7D1wUeXZqoay9J0vg02hyTfZXpcoyC4ohjtmqLPc1YgRfiI6i9QAJCP-j-GsuvMinwMMGlPp7zU4TDsqc54BZrZ9qxzvLWsPS05X9DFEJ03RrtMdVgVvF5C2nW318ZPjcRw&nonce=637365198247525923.ODJjYTZmMjktZmNjYy00YTQ5LWJkOTMtN2EzNWE5OTE5MDBjN2RlOWQyNjYtOGQ2Yi00NzRmLThkNmMtZjVjNmU1NGU0YWRl&code_challenge=q_O7GzSQoLdFpGOYo65Nt0HtpCXVgo5SyZgwe9wd8BY&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-24 11:50:25.075 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-24 11:50:25.075 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-24 11:50:25.075 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:50:25.079 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:25.081 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:25.081 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-24 11:50:25.086 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-24 11:50:25.086 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-24 11:50:25.087 +07:00 [DBG] Start authorize request
2020-09-24 11:50:25.089 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:25.090 +07:00 [DBG] No user present in authorize request
2020-09-24 11:50:25.091 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:50:25.098 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:25.105 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:50:25.117 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:50:25.125 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile identity.netframeworkmvcclient","State":"OpenIdConnect.AuthenticationProperties=INvC3oXJclCesi_Qu_whQTQyoxV3d1nvTAfEJLOh7XugfjIxuSX4C5taXXyn…","UiLocales":null,"Nonce":"637365198247525923.ODJjYTZmMjktZmNjYy00YTQ5LWJkOTMtN2EzNWE5OTE5MDBjN2RlOWQyNjYtOGQ2Yi00NzRmLThkNmMt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile identity.netframeworkmvcclient","state":"OpenIdConnect.AuthenticationProperties=INvC3oXJclCesi_Qu_whQTQyoxV3d1nvTAfEJLOh7XugfjIxuSX4C5taXXyn…","nonce":"637365198247525923.ODJjYTZmMjktZmNjYy00YTQ5LWJkOTMtN2EzNWE5OTE5MDBjN2RlOWQyNjYtOGQ2Yi00NzRmLThkNmMt…","code_challenge":"q_O7GzSQoLdFpGOYo65Nt0HtpCXVgo5SyZgwe9wd8BY","code_challenge_method":"S256","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-24 11:50:25.133 +07:00 [INF] Showing login: User is not authenticated
2020-09-24 11:50:25.137 +07:00 [INF] Request finished in 62.098ms 302 
2020-09-24 11:50:25.140 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dnetframeworkmvcclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44344%252F%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.netframeworkmvcclient%26state%3DOpenIdConnect.AuthenticationProperties%253DINvC3oXJclCesi_Qu_whQTQyoxV3d1nvTAfEJLOh7XugfjIxuSX4C5taXXynVXFaJSZNlss8biq-GcyehJC7D1wUeXZqoay9J0vg02hyTfZXpcoyC4ohjtmqLPc1YgRfiI6i9QAJCP-j-GsuvMinwMMGlPp7zU4TDsqc54BZrZ9qxzvLWsPS05X9DFEJ03RrtMdVgVvF5C2nW318ZPjcRw%26nonce%3D637365198247525923.ODJjYTZmMjktZmNjYy00YTQ5LWJkOTMtN2EzNWE5OTE5MDBjN2RlOWQyNjYtOGQ2Yi00NzRmLThkNmMtZjVjNmU1NGU0YWRl%26code_challenge%3Dq_O7GzSQoLdFpGOYo65Nt0HtpCXVgo5SyZgwe9wd8BY%26code_challenge_method%3DS256%26x-client-SKU%3DID_NET461%26x-client-ver%3D6.7.1.0  
2020-09-24 11:50:25.140 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-24 11:50:25.144 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-24 11:50:25.146 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-24 11:50:25.146 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:50:25.147 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:25.147 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:25.148 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:50:25.152 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-24 11:50:25.173 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-24 11:50:25.173 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-24 11:50:25.173 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-24 11:50:25.173 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:50:25.173 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-24 11:50:25.174 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:50:25.174 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:50:25.175 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:50:25.178 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-24 11:50:25.180 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-24 11:50:25.180 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:50:25.180 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:50:25.180 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-24 11:50:25.181 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:50:25.188 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:25.188 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:50:25.189 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:25.189 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:50:25.189 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:50:25.190 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:25.194 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-24 11:50:25.194 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-24 11:50:25.194 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-24 11:50:25.194 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-24 11:50:25.194 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-24 11:50:25.194 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-24 11:50:25.194 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-24 11:50:25.194 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-24 11:50:25.194 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-24 11:50:25.194 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-24 11:50:25.195 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-24 11:50:25.195 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-24 11:50:25.195 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-24 11:50:25.195 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-24 11:50:25.195 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-24 11:50:25.195 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-24 11:50:25.195 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-24 11:50:25.195 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-24 11:50:25.195 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-24 11:50:25.199 +07:00 [DBG] View lookup cache miss for view 'Login' in controller 'Account'.
2020-09-24 11:50:25.205 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-24 11:50:25.209 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 6.9985ms.
2020-09-24 11:50:25.227 +07:00 [DBG] View lookup cache miss for view '_ValidationSummary' in controller 'Account'.
2020-09-24 11:50:25.238 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-24 11:50:25.240 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-24 11:50:25.262 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2020-09-24 11:50:25.274 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Account'.
2020-09-24 11:50:25.281 +07:00 [INF] Executed ViewResult - view Login executed in 82.6514ms.
2020-09-24 11:50:25.281 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 107.6416ms
2020-09-24 11:50:25.282 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:50:25.283 +07:00 [INF] Request finished in 142.7772ms 200 text/html; charset=utf-8
2020-09-24 11:50:27.360 +07:00 [INF] Request starting HTTP/2.0 POST https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dnetframeworkmvcclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44344%252F%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.netframeworkmvcclient%26state%3DOpenIdConnect.AuthenticationProperties%253DINvC3oXJclCesi_Qu_whQTQyoxV3d1nvTAfEJLOh7XugfjIxuSX4C5taXXynVXFaJSZNlss8biq-GcyehJC7D1wUeXZqoay9J0vg02hyTfZXpcoyC4ohjtmqLPc1YgRfiI6i9QAJCP-j-GsuvMinwMMGlPp7zU4TDsqc54BZrZ9qxzvLWsPS05X9DFEJ03RrtMdVgVvF5C2nW318ZPjcRw%26nonce%3D637365198247525923.ODJjYTZmMjktZmNjYy00YTQ5LWJkOTMtN2EzNWE5OTE5MDBjN2RlOWQyNjYtOGQ2Yi00NzRmLThkNmMtZjVjNmU1NGU0YWRl%26code_challenge%3Dq_O7GzSQoLdFpGOYo65Nt0HtpCXVgo5SyZgwe9wd8BY%26code_challenge_method%3DS256%26x-client-SKU%3DID_NET461%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1010
2020-09-24 11:50:27.361 +07:00 [DBG] POST requests are not supported
2020-09-24 11:50:27.362 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-24 11:50:27.362 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-24 11:50:27.362 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:50:27.364 +07:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-24 11:50:27.365 +07:00 [INF] No CORS policy found for the specified request.
2020-09-24 11:50:27.365 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:27.365 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:27.365 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:50:27.371 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IdentityServerHost.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-24 11:50:27.371 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"]
2020-09-24 11:50:27.372 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-24 11:50:27.372 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:50:27.372 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-24 11:50:27.372 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:50:27.377 +07:00 [DBG] Antiforgery successfully validated a request.
2020-09-24 11:50:27.377 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:50:27.378 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:50:27.379 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-24 11:50:27.379 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' using the name '' in request data ...
2020-09-24 11:50:27.381 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String' using the name 'Username' in request data ...
2020-09-24 11:50:27.381 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String'.
2020-09-24 11:50:27.381 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String' using the name 'Password' in request data ...
2020-09-24 11:50:27.381 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String'.
2020-09-24 11:50:27.382 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean' using the name 'RememberLogin' in request data ...
2020-09-24 11:50:27.382 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean'.
2020-09-24 11:50:27.382 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String' using the name 'ReturnUrl' in request data ...
2020-09-24 11:50:27.382 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String'.
2020-09-24 11:50:27.382 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:50:27.382 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:50:27.382 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-24 11:50:27.386 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:50:27.386 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' ...
2020-09-24 11:50:27.386 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' using the name 'button' in request data ...
2020-09-24 11:50:27.386 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-24 11:50:27.386 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-24 11:50:27.386 +07:00 [DBG] Attempting to validate the bound parameter 'button' of type 'System.String' ...
2020-09-24 11:50:27.387 +07:00 [DBG] Done attempting to validate the bound parameter 'button' of type 'System.String'.
2020-09-24 11:50:27.390 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:27.390 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:50:27.390 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:27.390 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:50:27.390 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:50:27.397 +07:00 [DBG] Augmenting SignInContext
2020-09-24 11:50:27.398 +07:00 [DBG] Adding idp claim with value: local
2020-09-24 11:50:27.398 +07:00 [DBG] Adding amr claim with value: pwd
2020-09-24 11:50:27.398 +07:00 [DBG] Adding auth_time claim with value: 1600923027
2020-09-24 11:50:27.399 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:27.402 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-24 11:50:27.406 +07:00 [INF] Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3DINvC3oXJclCesi_Qu_whQTQyoxV3d1nvTAfEJLOh7XugfjIxuSX4C5taXXynVXFaJSZNlss8biq-GcyehJC7D1wUeXZqoay9J0vg02hyTfZXpcoyC4ohjtmqLPc1YgRfiI6i9QAJCP-j-GsuvMinwMMGlPp7zU4TDsqc54BZrZ9qxzvLWsPS05X9DFEJ03RrtMdVgVvF5C2nW318ZPjcRw&nonce=637365198247525923.ODJjYTZmMjktZmNjYy00YTQ5LWJkOTMtN2EzNWE5OTE5MDBjN2RlOWQyNjYtOGQ2Yi00NzRmLThkNmMtZjVjNmU1NGU0YWRl&code_challenge=q_O7GzSQoLdFpGOYo65Nt0HtpCXVgo5SyZgwe9wd8BY&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0.
2020-09-24 11:50:27.407 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 35.5563ms
2020-09-24 11:50:27.408 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:50:27.410 +07:00 [INF] Request finished in 49.8909ms 302 
2020-09-24 11:50:27.428 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize/callback?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3DINvC3oXJclCesi_Qu_whQTQyoxV3d1nvTAfEJLOh7XugfjIxuSX4C5taXXynVXFaJSZNlss8biq-GcyehJC7D1wUeXZqoay9J0vg02hyTfZXpcoyC4ohjtmqLPc1YgRfiI6i9QAJCP-j-GsuvMinwMMGlPp7zU4TDsqc54BZrZ9qxzvLWsPS05X9DFEJ03RrtMdVgVvF5C2nW318ZPjcRw&nonce=637365198247525923.ODJjYTZmMjktZmNjYy00YTQ5LWJkOTMtN2EzNWE5OTE5MDBjN2RlOWQyNjYtOGQ2Yi00NzRmLThkNmMtZjVjNmU1NGU0YWRl&code_challenge=q_O7GzSQoLdFpGOYo65Nt0HtpCXVgo5SyZgwe9wd8BY&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-24 11:50:27.428 +07:00 [DBG] The request path /connect/authorize/callback does not match a supported file type
2020-09-24 11:50:27.428 +07:00 [DBG] No candidates found for the request path '/connect/authorize/callback'
2020-09-24 11:50:27.428 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:50:27.429 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-24 11:50:27.429 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-24 11:50:27.429 +07:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-24 11:50:27.430 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-24 11:50:27.430 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-24 11:50:27.431 +07:00 [DBG] Start authorize callback request
2020-09-24 11:50:27.433 +07:00 [DBG] User in authorize request: 123456
2020-09-24 11:50:27.433 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:50:27.433 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:27.433 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:50:27.433 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:50:27.433 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile identity.netframeworkmvcclient","State":"OpenIdConnect.AuthenticationProperties=INvC3oXJclCesi_Qu_whQTQyoxV3d1nvTAfEJLOh7XugfjIxuSX4C5taXXyn…","UiLocales":null,"Nonce":"637365198247525923.ODJjYTZmMjktZmNjYy00YTQ5LWJkOTMtN2EzNWE5OTE5MDBjN2RlOWQyNjYtOGQ2Yi00NzRmLThkNmMt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"2D8F6E63A7495343795FBB6C78F49B44","Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile identity.netframeworkmvcclient","state":"OpenIdConnect.AuthenticationProperties=INvC3oXJclCesi_Qu_whQTQyoxV3d1nvTAfEJLOh7XugfjIxuSX4C5taXXyn…","nonce":"637365198247525923.ODJjYTZmMjktZmNjYy00YTQ5LWJkOTMtN2EzNWE5OTE5MDBjN2RlOWQyNjYtOGQ2Yi00NzRmLThkNmMt…","code_challenge":"q_O7GzSQoLdFpGOYo65Nt0HtpCXVgo5SyZgwe9wd8BY","code_challenge_method":"S256","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-24 11:50:27.439 +07:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-24 11:50:27.441 +07:00 [DBG] Creating Authorization Code Flow response.
2020-09-24 11:50:27.486 +07:00 [DBG] Authorize endpoint response
{"SubjectId":"123456","ClientId":"netframeworkmvcclient","RedirectUri":"https://localhost:44344/","State":"OpenIdConnect.AuthenticationProperties=INvC3oXJclCesi_Qu_whQTQyoxV3d1nvTAfEJLOh7XugfjIxuSX4C5taXXyn…","Scope":"openid profile identity.netframeworkmvcclient","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-24 11:50:27.491 +07:00 [DBG] Augmenting SignInContext
2020-09-24 11:50:27.491 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-24 11:50:27.492 +07:00 [INF] Request finished in 64.2834ms 302 
2020-09-24 11:50:27.520 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44313/connect/token application/x-www-form-urlencoded 279
2020-09-24 11:50:27.520 +07:00 [DBG] POST requests are not supported
2020-09-24 11:50:27.520 +07:00 [DBG] No candidates found for the request path '/connect/token'
2020-09-24 11:50:27.520 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:50:27.520 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:27.520 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:27.520 +07:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-24 11:50:27.523 +07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-24 11:50:27.523 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-24 11:50:27.525 +07:00 [DBG] Start token request.
2020-09-24 11:50:27.526 +07:00 [DBG] Start client validation
2020-09-24 11:50:27.528 +07:00 [DBG] Start parsing Basic Authentication secret
2020-09-24 11:50:27.529 +07:00 [DBG] Start parsing for secret in post body
2020-09-24 11:50:27.536 +07:00 [DBG] Parser found secret: PostBodySecretParser
2020-09-24 11:50:27.536 +07:00 [DBG] Secret id found: netframeworkmvcclient
2020-09-24 11:50:27.537 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:27.542 +07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2020-09-24 11:50:27.542 +07:00 [DBG] Client validation success
2020-09-24 11:50:27.544 +07:00 [DBG] Start token request validation
2020-09-24 11:50:27.546 +07:00 [DBG] Start validation of authorization code token request
2020-09-24 11:50:27.566 +07:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-09-24 11:50:27.568 +07:00 [DBG] Validation of authorization code token request success
2020-09-24 11:50:27.569 +07:00 [INF] Token request validation success, {"ClientId":"netframeworkmvcclient","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"9F5C921D012CE2E5DF1E53FB401D551A1A37ED90124A933E327E9F6B2094029A","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"netframeworkmvcclient","client_secret":"***REDACTED***","code":"9F5C921D012CE2E5DF1E53FB401D551A1A37ED90124A933E327E9F6B2094029A","grant_type":"authorization_code","redirect_uri":"https://localhost:44344/","code_verifier":"70a2e1f8b64f0f297416a02ebba732ffb50c0d94f846188917fd2855b36694c6"},"$type":"TokenRequestValidationLog"}
2020-09-24 11:50:27.574 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:27.583 +07:00 [DBG] Getting claims for access token for client: netframeworkmvcclient
2020-09-24 11:50:27.583 +07:00 [DBG] Getting claims for access token for subject: 123456
2020-09-24 11:50:27.626 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:27.629 +07:00 [DBG] Getting claims for identity token for subject: 123456 and client: netframeworkmvcclient
2020-09-24 11:50:27.633 +07:00 [DBG] Token request success.
2020-09-24 11:50:27.637 +07:00 [INF] Request finished in 117.6578ms 200 application/json; charset=UTF-8
2020-09-24 11:50:36.529 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3DvypNm882R-ubbVkvYMyV8mQqMr8Y7n_zLNaBd1FD5Kyl5SdCerS-Tuydk6S-bznwazI3gxyn00XszJlznw_4-_MQgtecXuVMQAbOe00nDciiykojTDlqPdJxxZDv81T8XMzosp46cRXpDhGkBRArISh7FZlmOPLYGt34ZMTTUp0aYSKo8cfpEtgEojLyfzJ-hVftD1hx8txW_uzK0-oJ-w&nonce=637365198365126142.NjIwNGM1NzUtY2VkZS00YmZjLWFiZGQtYjFmNWZlMDgxZTNhYTQwMDVkZGMtZWYxZC00NTAwLWFjNmItNzVhOGIzOTQwMmZk&code_challenge=Y5XpWSZaivOz1L8gFZl1j51aF7le3Ec5BWjgMn9zh60&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-24 11:50:36.530 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-24 11:50:36.530 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-24 11:50:36.531 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:50:36.532 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:36.532 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:36.533 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-24 11:50:36.533 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-24 11:50:36.533 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-24 11:50:36.533 +07:00 [DBG] Start authorize request
2020-09-24 11:50:36.533 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:36.533 +07:00 [DBG] No user present in authorize request
2020-09-24 11:50:36.533 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:50:36.534 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:36.534 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:50:36.534 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:50:36.534 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile identity.netframeworkmvcclient","State":"OpenIdConnect.AuthenticationProperties=vypNm882R-ubbVkvYMyV8mQqMr8Y7n_zLNaBd1FD5Kyl5SdCerS-Tuydk6S-…","UiLocales":null,"Nonce":"637365198365126142.NjIwNGM1NzUtY2VkZS00YmZjLWFiZGQtYjFmNWZlMDgxZTNhYTQwMDVkZGMtZWYxZC00NTAwLWFjNmIt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile identity.netframeworkmvcclient","state":"OpenIdConnect.AuthenticationProperties=vypNm882R-ubbVkvYMyV8mQqMr8Y7n_zLNaBd1FD5Kyl5SdCerS-Tuydk6S-…","nonce":"637365198365126142.NjIwNGM1NzUtY2VkZS00YmZjLWFiZGQtYjFmNWZlMDgxZTNhYTQwMDVkZGMtZWYxZC00NTAwLWFjNmIt…","code_challenge":"Y5XpWSZaivOz1L8gFZl1j51aF7le3Ec5BWjgMn9zh60","code_challenge_method":"S256","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-24 11:50:36.535 +07:00 [INF] Showing login: User is not authenticated
2020-09-24 11:50:36.535 +07:00 [INF] Request finished in 6.3577ms 302 
2020-09-24 11:50:36.539 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dnetframeworkmvcclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44344%252F%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.netframeworkmvcclient%26state%3DOpenIdConnect.AuthenticationProperties%253DvypNm882R-ubbVkvYMyV8mQqMr8Y7n_zLNaBd1FD5Kyl5SdCerS-Tuydk6S-bznwazI3gxyn00XszJlznw_4-_MQgtecXuVMQAbOe00nDciiykojTDlqPdJxxZDv81T8XMzosp46cRXpDhGkBRArISh7FZlmOPLYGt34ZMTTUp0aYSKo8cfpEtgEojLyfzJ-hVftD1hx8txW_uzK0-oJ-w%26nonce%3D637365198365126142.NjIwNGM1NzUtY2VkZS00YmZjLWFiZGQtYjFmNWZlMDgxZTNhYTQwMDVkZGMtZWYxZC00NTAwLWFjNmItNzVhOGIzOTQwMmZk%26code_challenge%3DY5XpWSZaivOz1L8gFZl1j51aF7le3Ec5BWjgMn9zh60%26code_challenge_method%3DS256%26x-client-SKU%3DID_NET461%26x-client-ver%3D6.7.1.0  
2020-09-24 11:50:36.539 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-24 11:50:36.539 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-24 11:50:36.539 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-24 11:50:36.539 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:50:36.539 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:36.539 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:36.540 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:50:36.540 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-24 11:50:36.540 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-24 11:50:36.540 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-24 11:50:36.540 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:50:36.540 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-24 11:50:36.540 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:50:36.540 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:50:36.542 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:50:36.543 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-24 11:50:36.543 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-24 11:50:36.543 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:50:36.543 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:50:36.543 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-24 11:50:36.543 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-24 11:50:36.543 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:36.543 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:50:36.544 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:36.544 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:50:36.544 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:50:36.544 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:36.544 +07:00 [DBG] View lookup cache hit for view 'Login' in controller 'Account'.
2020-09-24 11:50:36.544 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-24 11:50:36.544 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 0.2069ms.
2020-09-24 11:50:36.545 +07:00 [DBG] View lookup cache hit for view '_ValidationSummary' in controller 'Account'.
2020-09-24 11:50:36.546 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-24 11:50:36.547 +07:00 [DBG] A new antiforgery cookie token was created.
2020-09-24 11:50:36.549 +07:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Account'.
2020-09-24 11:50:36.550 +07:00 [DBG] View lookup cache hit for view '_Nav' in controller 'Account'.
2020-09-24 11:50:36.550 +07:00 [INF] Executed ViewResult - view Login executed in 6.1341ms.
2020-09-24 11:50:36.550 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 10.0201ms
2020-09-24 11:50:36.550 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:50:36.550 +07:00 [INF] Request finished in 11.9222ms 200 text/html; charset=utf-8
2020-09-24 11:50:38.463 +07:00 [INF] Request starting HTTP/2.0 POST https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dnetframeworkmvcclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44344%252F%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.netframeworkmvcclient%26state%3DOpenIdConnect.AuthenticationProperties%253DvypNm882R-ubbVkvYMyV8mQqMr8Y7n_zLNaBd1FD5Kyl5SdCerS-Tuydk6S-bznwazI3gxyn00XszJlznw_4-_MQgtecXuVMQAbOe00nDciiykojTDlqPdJxxZDv81T8XMzosp46cRXpDhGkBRArISh7FZlmOPLYGt34ZMTTUp0aYSKo8cfpEtgEojLyfzJ-hVftD1hx8txW_uzK0-oJ-w%26nonce%3D637365198365126142.NjIwNGM1NzUtY2VkZS00YmZjLWFiZGQtYjFmNWZlMDgxZTNhYTQwMDVkZGMtZWYxZC00NTAwLWFjNmItNzVhOGIzOTQwMmZk%26code_challenge%3DY5XpWSZaivOz1L8gFZl1j51aF7le3Ec5BWjgMn9zh60%26code_challenge_method%3DS256%26x-client-SKU%3DID_NET461%26x-client-ver%3D6.7.1.0 application/x-www-form-urlencoded 1013
2020-09-24 11:50:38.464 +07:00 [DBG] POST requests are not supported
2020-09-24 11:50:38.464 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-24 11:50:38.464 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-24 11:50:38.464 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:50:38.465 +07:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-09-24 11:50:38.466 +07:00 [INF] No CORS policy found for the specified request.
2020-09-24 11:50:38.467 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:38.467 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:38.467 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:50:38.467 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(IdentityServerHost.Quickstart.UI.LoginInputModel, System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-24 11:50:38.468 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter"]
2020-09-24 11:50:38.468 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-24 11:50:38.468 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:50:38.468 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-24 11:50:38.468 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-24 11:50:38.468 +07:00 [DBG] Antiforgery successfully validated a request.
2020-09-24 11:50:38.469 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:50:38.469 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-24 11:50:38.469 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-24 11:50:38.469 +07:00 [DBG] Attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' using the name '' in request data ...
2020-09-24 11:50:38.469 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String' using the name 'Username' in request data ...
2020-09-24 11:50:38.470 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Username' of type 'System.String'.
2020-09-24 11:50:38.470 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String' using the name 'Password' in request data ...
2020-09-24 11:50:38.470 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.Password' of type 'System.String'.
2020-09-24 11:50:38.470 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean' using the name 'RememberLogin' in request data ...
2020-09-24 11:50:38.470 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.RememberLogin' of type 'System.Boolean'.
2020-09-24 11:50:38.470 +07:00 [DBG] Attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String' using the name 'ReturnUrl' in request data ...
2020-09-24 11:50:38.470 +07:00 [DBG] Done attempting to bind property 'IdentityServerHost.Quickstart.UI.LoginInputModel.ReturnUrl' of type 'System.String'.
2020-09-24 11:50:38.470 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:50:38.470 +07:00 [DBG] Done attempting to bind parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:50:38.470 +07:00 [DBG] Attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel' ...
2020-09-24 11:50:38.470 +07:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'IdentityServerHost.Quickstart.UI.LoginInputModel'.
2020-09-24 11:50:38.470 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' ...
2020-09-24 11:50:38.470 +07:00 [DBG] Attempting to bind parameter 'button' of type 'System.String' using the name 'button' in request data ...
2020-09-24 11:50:38.470 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-24 11:50:38.470 +07:00 [DBG] Done attempting to bind parameter 'button' of type 'System.String'.
2020-09-24 11:50:38.471 +07:00 [DBG] Attempting to validate the bound parameter 'button' of type 'System.String' ...
2020-09-24 11:50:38.471 +07:00 [DBG] Done attempting to validate the bound parameter 'button' of type 'System.String'.
2020-09-24 11:50:38.471 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:38.471 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:50:38.471 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:38.471 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:50:38.471 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:50:38.472 +07:00 [DBG] Augmenting SignInContext
2020-09-24 11:50:38.472 +07:00 [DBG] Adding idp claim with value: local
2020-09-24 11:50:38.472 +07:00 [DBG] Adding amr claim with value: pwd
2020-09-24 11:50:38.472 +07:00 [DBG] Adding auth_time claim with value: 1600923038
2020-09-24 11:50:38.472 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:38.473 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-24 11:50:38.473 +07:00 [INF] Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3DvypNm882R-ubbVkvYMyV8mQqMr8Y7n_zLNaBd1FD5Kyl5SdCerS-Tuydk6S-bznwazI3gxyn00XszJlznw_4-_MQgtecXuVMQAbOe00nDciiykojTDlqPdJxxZDv81T8XMzosp46cRXpDhGkBRArISh7FZlmOPLYGt34ZMTTUp0aYSKo8cfpEtgEojLyfzJ-hVftD1hx8txW_uzK0-oJ-w&nonce=637365198365126142.NjIwNGM1NzUtY2VkZS00YmZjLWFiZGQtYjFmNWZlMDgxZTNhYTQwMDVkZGMtZWYxZC00NTAwLWFjNmItNzVhOGIzOTQwMmZk&code_challenge=Y5XpWSZaivOz1L8gFZl1j51aF7le3Ec5BWjgMn9zh60&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0.
2020-09-24 11:50:38.473 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 5.24ms
2020-09-24 11:50:38.473 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-24 11:50:38.473 +07:00 [INF] Request finished in 10.7615ms 302 
2020-09-24 11:50:38.477 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize/callback?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3DvypNm882R-ubbVkvYMyV8mQqMr8Y7n_zLNaBd1FD5Kyl5SdCerS-Tuydk6S-bznwazI3gxyn00XszJlznw_4-_MQgtecXuVMQAbOe00nDciiykojTDlqPdJxxZDv81T8XMzosp46cRXpDhGkBRArISh7FZlmOPLYGt34ZMTTUp0aYSKo8cfpEtgEojLyfzJ-hVftD1hx8txW_uzK0-oJ-w&nonce=637365198365126142.NjIwNGM1NzUtY2VkZS00YmZjLWFiZGQtYjFmNWZlMDgxZTNhYTQwMDVkZGMtZWYxZC00NTAwLWFjNmItNzVhOGIzOTQwMmZk&code_challenge=Y5XpWSZaivOz1L8gFZl1j51aF7le3Ec5BWjgMn9zh60&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-24 11:50:38.477 +07:00 [DBG] The request path /connect/authorize/callback does not match a supported file type
2020-09-24 11:50:38.477 +07:00 [DBG] No candidates found for the request path '/connect/authorize/callback'
2020-09-24 11:50:38.477 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:50:38.478 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-24 11:50:38.478 +07:00 [DBG] AuthenticationScheme: idsrv was successfully authenticated.
2020-09-24 11:50:38.478 +07:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-09-24 11:50:38.478 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-09-24 11:50:38.478 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-09-24 11:50:38.478 +07:00 [DBG] Start authorize callback request
2020-09-24 11:50:38.479 +07:00 [DBG] User in authorize request: 123456
2020-09-24 11:50:38.479 +07:00 [DBG] Start authorize request protocol validation
2020-09-24 11:50:38.479 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:38.479 +07:00 [DBG] Checking for PKCE parameters
2020-09-24 11:50:38.479 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-24 11:50:38.479 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"123456","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile identity.netframeworkmvcclient","State":"OpenIdConnect.AuthenticationProperties=vypNm882R-ubbVkvYMyV8mQqMr8Y7n_zLNaBd1FD5Kyl5SdCerS-Tuydk6S-…","UiLocales":null,"Nonce":"637365198365126142.NjIwNGM1NzUtY2VkZS00YmZjLWFiZGQtYjFmNWZlMDgxZTNhYTQwMDVkZGMtZWYxZC00NTAwLWFjNmIt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"CA88C41EA65747AE9C424104D9D2F746","Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile identity.netframeworkmvcclient","state":"OpenIdConnect.AuthenticationProperties=vypNm882R-ubbVkvYMyV8mQqMr8Y7n_zLNaBd1FD5Kyl5SdCerS-Tuydk6S-…","nonce":"637365198365126142.NjIwNGM1NzUtY2VkZS00YmZjLWFiZGQtYjFmNWZlMDgxZTNhYTQwMDVkZGMtZWYxZC00NTAwLWFjNmIt…","code_challenge":"Y5XpWSZaivOz1L8gFZl1j51aF7le3Ec5BWjgMn9zh60","code_challenge_method":"S256","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-24 11:50:38.479 +07:00 [DBG] Client is configured to not require consent, no consent is required
2020-09-24 11:50:38.479 +07:00 [DBG] Creating Authorization Code Flow response.
2020-09-24 11:50:38.480 +07:00 [DBG] Authorize endpoint response
{"SubjectId":"123456","ClientId":"netframeworkmvcclient","RedirectUri":"https://localhost:44344/","State":"OpenIdConnect.AuthenticationProperties=vypNm882R-ubbVkvYMyV8mQqMr8Y7n_zLNaBd1FD5Kyl5SdCerS-Tuydk6S-…","Scope":"openid profile identity.netframeworkmvcclient","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-09-24 11:50:38.480 +07:00 [DBG] Augmenting SignInContext
2020-09-24 11:50:38.480 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2020-09-24 11:50:38.481 +07:00 [INF] Request finished in 3.5579ms 302 
2020-09-24 11:50:38.488 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:44313/connect/token application/x-www-form-urlencoded 279
2020-09-24 11:50:38.489 +07:00 [DBG] POST requests are not supported
2020-09-24 11:50:38.489 +07:00 [DBG] No candidates found for the request path '/connect/token'
2020-09-24 11:50:38.489 +07:00 [DBG] Request did not match any endpoints
2020-09-24 11:50:38.489 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:38.489 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-24 11:50:38.489 +07:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-09-24 11:50:38.489 +07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-09-24 11:50:38.489 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-09-24 11:50:38.489 +07:00 [DBG] Start token request.
2020-09-24 11:50:38.489 +07:00 [DBG] Start client validation
2020-09-24 11:50:38.489 +07:00 [DBG] Start parsing Basic Authentication secret
2020-09-24 11:50:38.489 +07:00 [DBG] Start parsing for secret in post body
2020-09-24 11:50:38.490 +07:00 [DBG] Parser found secret: PostBodySecretParser
2020-09-24 11:50:38.490 +07:00 [DBG] Secret id found: netframeworkmvcclient
2020-09-24 11:50:38.490 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:38.490 +07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2020-09-24 11:50:38.490 +07:00 [DBG] Client validation success
2020-09-24 11:50:38.490 +07:00 [DBG] Start token request validation
2020-09-24 11:50:38.490 +07:00 [DBG] Start validation of authorization code token request
2020-09-24 11:50:38.491 +07:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-09-24 11:50:38.491 +07:00 [DBG] Validation of authorization code token request success
2020-09-24 11:50:38.491 +07:00 [INF] Token request validation success, {"ClientId":"netframeworkmvcclient","ClientName":null,"GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"08DFB0C75C18D9A9CC21FBFC1B4464F77861DBD93778CDF36933BFA258932400","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"netframeworkmvcclient","client_secret":"***REDACTED***","code":"08DFB0C75C18D9A9CC21FBFC1B4464F77861DBD93778CDF36933BFA258932400","grant_type":"authorization_code","redirect_uri":"https://localhost:44344/","code_verifier":"0a3730e3facd73630b9bb69f84892aee07d45701ff29fe1896e196e4f8b53f82"},"$type":"TokenRequestValidationLog"}
2020-09-24 11:50:38.491 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:38.491 +07:00 [DBG] Getting claims for access token for client: netframeworkmvcclient
2020-09-24 11:50:38.491 +07:00 [DBG] Getting claims for access token for subject: 123456
2020-09-24 11:50:38.493 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-24 11:50:38.493 +07:00 [DBG] Getting claims for identity token for subject: 123456 and client: netframeworkmvcclient
2020-09-24 11:50:38.494 +07:00 [DBG] Token request success.
2020-09-24 11:50:38.495 +07:00 [INF] Request finished in 6.3846ms 200 application/json; charset=UTF-8
2020-09-24 11:52:24.498 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:BackChannelLogoutClient'
2020-09-24 11:52:25.083 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:JwtRequestUriClient'
2020-09-24 11:52:34.512 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:52:34.515 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0309ms - processed: 0 items - remaining: 2 items
2020-09-24 11:52:44.526 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:52:44.527 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 2 items
2020-09-24 11:52:54.527 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:52:54.528 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 2 items
2020-09-24 11:53:04.528 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:53:04.529 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
2020-09-24 11:53:14.529 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:53:14.530 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 2 items
2020-09-24 11:53:24.530 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:53:24.530 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 2 items
2020-09-24 11:53:34.540 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:53:34.541 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 2 items
2020-09-24 11:53:44.542 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:53:44.542 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
2020-09-24 11:53:54.543 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:53:54.543 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 2 items
2020-09-24 11:54:04.544 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:54:04.544 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 2 items
2020-09-24 11:54:14.553 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:54:14.553 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
2020-09-24 11:54:24.554 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:54:24.554 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 2 items
2020-09-24 11:54:34.554 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:54:34.555 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0138ms - processed: 0 items - remaining: 2 items
2020-09-24 11:54:44.555 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:54:44.555 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
2020-09-24 11:54:54.556 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:54:54.556 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
2020-09-24 11:55:04.557 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:55:04.558 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
2020-09-24 11:55:14.559 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:55:14.559 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
2020-09-24 11:55:24.560 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:55:24.560 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
2020-09-24 11:55:34.560 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:55:34.561 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 2 items
2020-09-24 11:55:44.562 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:55:44.562 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0085ms - processed: 0 items - remaining: 2 items
2020-09-24 11:55:54.563 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:55:54.563 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 2 items
2020-09-24 11:56:04.564 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-24 11:56:04.564 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
2020-09-24 11:56:11.009 +07:00 [INF] Application is shutting down...
2020-09-24 11:56:11.010 +07:00 [DBG] Hosting stopping
2020-09-24 11:56:11.011 +07:00 [DBG] Hosting stopped
2020-09-25 09:47:10.152 +07:00 [INF] Starting host...
2020-09-25 09:47:10.398 +07:00 [DBG] Hosting starting
2020-09-25 09:47:10.413 +07:00 [INF] User profile is available. Using 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-09-25 09:47:10.421 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-22f7929e-9639-47f3-b660-79cadef3ac3e.xml'.
2020-09-25 09:47:10.426 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-2c655f7f-0675-425c-998d-7b127197dbf0.xml'.
2020-09-25 09:47:10.427 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-7b080a66-526b-4d1b-bbbd-4eacd4690671.xml'.
2020-09-25 09:47:10.427 +07:00 [DBG] Reading data from file 'C:\Users\sonnt\AppData\Local\ASP.NET\DataProtection-Keys\key-d8e3384d-2c12-4c40-b73d-744e3378aaab.xml'.
2020-09-25 09:47:10.430 +07:00 [DBG] Found key {22f7929e-9639-47f3-b660-79cadef3ac3e}.
2020-09-25 09:47:10.433 +07:00 [DBG] Found key {2c655f7f-0675-425c-998d-7b127197dbf0}.
2020-09-25 09:47:10.433 +07:00 [DBG] Found key {7b080a66-526b-4d1b-bbbd-4eacd4690671}.
2020-09-25 09:47:10.433 +07:00 [DBG] Found key {d8e3384d-2c12-4c40-b73d-744e3378aaab}.
2020-09-25 09:47:10.438 +07:00 [DBG] Considering key {2c655f7f-0675-425c-998d-7b127197dbf0} with expiration date 2020-12-10 09:38:21Z as default key.
2020-09-25 09:47:10.445 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-25 09:47:10.447 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2020-09-25 09:47:10.448 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.8.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2020-09-25 09:47:10.462 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2020-09-25 09:47:10.463 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2020-09-25 09:47:10.465 +07:00 [DBG] Using key {2c655f7f-0675-425c-998d-7b127197dbf0} as the default key.
2020-09-25 09:47:10.466 +07:00 [DBG] Key ring with default key {2c655f7f-0675-425c-998d-7b127197dbf0} was loaded during application startup.
2020-09-25 09:47:10.484 +07:00 [INF] Starting IdentityServer4 version 4.0.4+1b36d1b414f4e0f965af97ab2a7e9dd1b5167bca
2020-09-25 09:47:10.521 +07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-09-25 09:47:10.524 +07:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-09-25 09:47:10.524 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-09-25 09:47:10.524 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-09-25 09:47:10.524 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-09-25 09:47:10.524 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-09-25 09:47:10.524 +07:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-09-25 09:47:10.686 +07:00 [DBG] Loaded hosting startup assembly SsoIdentityServer4
2020-09-25 09:47:10.686 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2020-09-25 09:47:10.686 +07:00 [INF] Hosting environment: Development
2020-09-25 09:47:10.686 +07:00 [INF] Content root path: D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4
2020-09-25 09:47:10.686 +07:00 [DBG] Hosting started
2020-09-25 09:47:10.709 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-25 09:47:10.710 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2020-09-25 09:47:10.711 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-25 09:47:10.757 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-25 09:47:10.758 +07:00 [DBG] Request did not match any endpoints
2020-09-25 09:47:10.810 +07:00 [DBG] Login Url: /Account/Login
2020-09-25 09:47:10.810 +07:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-09-25 09:47:10.810 +07:00 [DBG] Logout Url: /Account/Logout
2020-09-25 09:47:10.810 +07:00 [DBG] ConsentUrl Url: /consent
2020-09-25 09:47:10.810 +07:00 [DBG] Consent Return Url Parameter: returnUrl
2020-09-25 09:47:10.810 +07:00 [DBG] Error Url: /home/error
2020-09-25 09:47:10.810 +07:00 [DBG] Error Id Parameter: errorId
2020-09-25 09:47:10.813 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-25 09:47:10.818 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-25 09:47:10.822 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-25 09:47:10.824 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-25 09:47:10.825 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-25 09:47:10.827 +07:00 [DBG] Start discovery request
2020-09-25 09:47:11.013 +07:00 [INF] Request finished in 306.6957ms 200 application/json; charset=UTF-8
2020-09-25 09:47:11.391 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-25 09:47:11.392 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-25 09:47:11.394 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-25 09:47:11.394 +07:00 [DBG] Request did not match any endpoints
2020-09-25 09:47:11.395 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-25 09:47:11.395 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-25 09:47:11.395 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-25 09:47:11.395 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-25 09:47:11.395 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-25 09:47:11.398 +07:00 [DBG] Start key discovery request
2020-09-25 09:47:11.501 +07:00 [INF] Request finished in 111.4676ms 200 application/json; charset=UTF-8
2020-09-25 09:47:11.955 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=mvc&redirect_uri=https%3A%2F%2Flocalhost%3A44388%2Fsignin-oidc&response_type=code&scope=openid%20profile%20identity.mvcclient&code_challenge=4saIvWrvI2bd8AS21f6pjnd08-YNCrlKBxHhWMR2Nfs&code_challenge_method=S256&response_mode=form_post&nonce=637365988316014178.MDBlZjVjOTgtODdhOS00YTliLWI4MWQtZWU5NGIzYWVlYzYxYWIxZjdkOTItY2IyMS00MzQwLWJiYzctNzBmOGY5ZmIxZWE4&state=CfDJ8H9fZSx1BlxCmY17EnGX2_C8B6ZR36lQWKXWOQLMoDqz06MgVusnuvyJV5jdwiDov24EuQ1EAI61ZNxAr99yAKjAdazhMXib86BD0gYbXH5yXSSegTgPXy43gml6iUSbrBdLwXrCMtR465rSwXeHiyq1mrDovippA8IjMXofBVwHZiBMo-4eLXuNBmP-M6BEI_dOBqtuoQekSWdgpTwphVqDr5zplLUhmVgzJwEA_TQtDVAARNWTmlLdja5QinsRKTkf_z2KXHX30uKpql7fiBtDZcp7rxK4XxUQRmICp3rBYkP0UKvRDfgRnQZHXkVS0iEsBbsQJ-xHuJ4mQMPvuB1nYPRDWRnLzG-e1UZ8hbynkQSBi0joEaBXAfFJVoOrPw&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
2020-09-25 09:47:11.956 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-25 09:47:11.956 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-25 09:47:11.956 +07:00 [DBG] Request did not match any endpoints
2020-09-25 09:47:12.008 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-25 09:47:12.010 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-25 09:47:12.011 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-25 09:47:12.101 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-25 09:47:12.101 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-25 09:47:12.103 +07:00 [DBG] Start authorize request
2020-09-25 09:47:12.125 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-25 09:47:12.126 +07:00 [DBG] No user present in authorize request
2020-09-25 09:47:12.127 +07:00 [DBG] Start authorize request protocol validation
2020-09-25 09:47:12.189 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-25 09:47:12.205 +07:00 [DBG] Checking for PKCE parameters
2020-09-25 09:47:12.221 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-25 09:47:12.232 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":null,"RedirectUri":"https://localhost:44388/signin-oidc","AllowedRedirectUris":["https://localhost:44388/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"form_post","GrantType":"authorization_code","RequestedScopes":"openid profile identity.mvcclient","State":"CfDJ8H9fZSx1BlxCmY17EnGX2_C8B6ZR36lQWKXWOQLMoDqz06MgVusnuvyJV5jdwiDov24EuQ1EAI61ZNxAr99yAKjAdazhMXi…","UiLocales":null,"Nonce":"637365988316014178.MDBlZjVjOTgtODdhOS00YTliLWI4MWQtZWU5NGIzYWVlYzYxYWIxZjdkOTItY2IyMS00MzQwLWJiYzct…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"mvc","redirect_uri":"https://localhost:44388/signin-oidc","response_type":"code","scope":"openid profile identity.mvcclient","code_challenge":"4saIvWrvI2bd8AS21f6pjnd08-YNCrlKBxHhWMR2Nfs","code_challenge_method":"S256","response_mode":"form_post","nonce":"637365988316014178.MDBlZjVjOTgtODdhOS00YTliLWI4MWQtZWU5NGIzYWVlYzYxYWIxZjdkOTItY2IyMS00MzQwLWJiYzct…","state":"CfDJ8H9fZSx1BlxCmY17EnGX2_C8B6ZR36lQWKXWOQLMoDqz06MgVusnuvyJV5jdwiDov24EuQ1EAI61ZNxAr99yAKjAdazhMXi…","x-client-SKU":"ID_NETSTANDARD2_0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-25 09:47:12.247 +07:00 [INF] Showing login: User is not authenticated
2020-09-25 09:47:12.255 +07:00 [INF] Request finished in 299.8618ms 302 
2020-09-25 09:47:12.278 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dmvc%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44388%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.mvcclient%26code_challenge%3D4saIvWrvI2bd8AS21f6pjnd08-YNCrlKBxHhWMR2Nfs%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637365988316014178.MDBlZjVjOTgtODdhOS00YTliLWI4MWQtZWU5NGIzYWVlYzYxYWIxZjdkOTItY2IyMS00MzQwLWJiYzctNzBmOGY5ZmIxZWE4%26state%3DCfDJ8H9fZSx1BlxCmY17EnGX2_C8B6ZR36lQWKXWOQLMoDqz06MgVusnuvyJV5jdwiDov24EuQ1EAI61ZNxAr99yAKjAdazhMXib86BD0gYbXH5yXSSegTgPXy43gml6iUSbrBdLwXrCMtR465rSwXeHiyq1mrDovippA8IjMXofBVwHZiBMo-4eLXuNBmP-M6BEI_dOBqtuoQekSWdgpTwphVqDr5zplLUhmVgzJwEA_TQtDVAARNWTmlLdja5QinsRKTkf_z2KXHX30uKpql7fiBtDZcp7rxK4XxUQRmICp3rBYkP0UKvRDfgRnQZHXkVS0iEsBbsQJ-xHuJ4mQMPvuB1nYPRDWRnLzG-e1UZ8hbynkQSBi0joEaBXAfFJVoOrPw%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
2020-09-25 09:47:12.278 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-25 09:47:12.281 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-25 09:47:12.284 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-25 09:47:12.284 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-25 09:47:12.285 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-25 09:47:12.285 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-25 09:47:12.286 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-25 09:47:12.289 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider"]
2020-09-25 09:47:12.397 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-25 09:47:12.398 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-25 09:47:12.398 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-25 09:47:12.398 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-25 09:47:12.398 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-25 09:47:12.398 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-25 09:47:12.399 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-25 09:47:12.400 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-25 09:47:12.412 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-25 09:47:12.413 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-25 09:47:12.414 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-25 09:47:12.414 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-25 09:47:12.414 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-25 09:47:12.415 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-25 09:47:12.423 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-25 09:47:12.423 +07:00 [DBG] Start authorize request protocol validation
2020-09-25 09:47:12.423 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-25 09:47:12.424 +07:00 [DBG] Checking for PKCE parameters
2020-09-25 09:47:12.424 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-25 09:47:12.426 +07:00 [DBG] client configuration validation for client mvc succeeded.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/AccessDenied.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/LoggedOut.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Login.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Account/Logout.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Consent/Index.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/Success.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeCapture.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Device/UserCodeConfirmation.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Diagnostics/Index.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Grants/Index.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Home/Index.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Error.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/Redirect.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Layout.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_Nav.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ScopeListItem.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/Shared/_ValidationSummary.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewImports.cshtml'.
2020-09-25 09:47:12.431 +07:00 [DBG] Initializing Razor view compiler with compiled view: '/Views/_ViewStart.cshtml'.
2020-09-25 09:47:12.458 +07:00 [DBG] View lookup cache miss for view 'Login' in controller 'Account'.
2020-09-25 09:47:12.464 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-25 09:47:12.480 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 6.8186ms.
2020-09-25 09:47:12.528 +07:00 [DBG] View lookup cache miss for view '_ValidationSummary' in controller 'Account'.
2020-09-25 09:47:12.539 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-25 09:47:12.542 +07:00 [DBG] An antiforgery cookie token was reused.
2020-09-25 09:47:12.630 +07:00 [DBG] View lookup cache miss for view '_Layout' in controller 'Account'.
2020-09-25 09:47:12.646 +07:00 [DBG] View lookup cache miss for view '_Nav' in controller 'Account'.
2020-09-25 09:47:12.659 +07:00 [INF] Executed ViewResult - view Login executed in 223.7221ms.
2020-09-25 09:47:12.660 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 261.6754ms
2020-09-25 09:47:12.660 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-25 09:47:12.664 +07:00 [INF] Request finished in 385.7881ms 200 text/html; charset=utf-8
2020-09-25 09:47:12.693 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/css/bootstrap.min.css  
2020-09-25 09:47:12.693 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/css/site.css  
2020-09-25 09:47:12.699 +07:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\css\site.css'
2020-09-25 09:47:12.699 +07:00 [INF] Request finished in 6.6914ms 200 text/css
2020-09-25 09:47:12.703 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2020-09-25 09:47:12.704 +07:00 [INF] Request finished in 11.1873ms 200 text/css
2020-09-25 09:47:12.724 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/icon.png  
2020-09-25 09:47:12.727 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/jquery/dist/jquery.slim.min.js  
2020-09-25 09:47:12.727 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/lib/bootstrap/dist/js/bootstrap.bundle.min.js  
2020-09-25 09:47:12.730 +07:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.slim.min.js'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\jquery\dist\jquery.slim.min.js'
2020-09-25 09:47:12.730 +07:00 [INF] Request finished in 2.8931ms 200 application/javascript
2020-09-25 09:47:12.730 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2020-09-25 09:47:12.730 +07:00 [INF] Request finished in 3.0856ms 200 application/javascript
2020-09-25 09:47:12.731 +07:00 [INF] Sending file. Request path: '/icon.png'. Physical path: 'D:\Work\Git\A0_Single_Sign_On\samples\SsoIdentityServer4\wwwroot\icon.png'
2020-09-25 09:47:12.731 +07:00 [INF] Request finished in 7.3447ms 200 image/png
2020-09-25 09:47:37.219 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration  
2020-09-25 09:47:37.220 +07:00 [DBG] The request path /.well-known/openid-configuration does not match a supported file type
2020-09-25 09:47:37.220 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration'
2020-09-25 09:47:37.221 +07:00 [DBG] Request did not match any endpoints
2020-09-25 09:47:37.221 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-25 09:47:37.222 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-25 09:47:37.222 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-09-25 09:47:37.222 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-09-25 09:47:37.222 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-09-25 09:47:37.222 +07:00 [DBG] Start discovery request
2020-09-25 09:47:37.223 +07:00 [INF] Request finished in 4.4002ms 200 application/json; charset=UTF-8
2020-09-25 09:47:37.415 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:44313/.well-known/openid-configuration/jwks  
2020-09-25 09:47:37.415 +07:00 [DBG] The request path /.well-known/openid-configuration/jwks does not match a supported file type
2020-09-25 09:47:37.415 +07:00 [DBG] No candidates found for the request path '/.well-known/openid-configuration/jwks'
2020-09-25 09:47:37.415 +07:00 [DBG] Request did not match any endpoints
2020-09-25 09:47:37.416 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-25 09:47:37.416 +07:00 [DBG] AuthenticationScheme: idsrv was not authenticated.
2020-09-25 09:47:37.416 +07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-09-25 09:47:37.416 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-09-25 09:47:37.416 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-09-25 09:47:37.416 +07:00 [DBG] Start key discovery request
2020-09-25 09:47:37.417 +07:00 [INF] Request finished in 2.2241ms 200 application/json; charset=UTF-8
2020-09-25 09:47:37.503 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/connect/authorize?client_id=netframeworkmvcclient&redirect_uri=https%3A%2F%2Flocalhost%3A44344%2F&response_type=code&scope=openid%20profile%20identity.netframeworkmvcclient&state=OpenIdConnect.AuthenticationProperties%3DU1fu9eNJkNczQHnO5mPSsy7XX58CLA0zL9UPl068qX4bEaN6gpgFKt8wN_46I9zioTkfxf0IzaY5SQZ7lmmMgkoaWNwPJgDvjkTA4ZLyroAMORUE9zvFAuBztylXnWB1klo-svhihw4VtRyipTgxybunvNykXTLYbcmptehHN_GynQUpaWcdCsjZrsaucO1uhO4G3JqM7PPUqWJc9359_g&nonce=637365988574519255.ZTg0MDVmOWEtMDY1Zi00M2I1LTkzODktYmU3M2NlZTQ4Zjg3MWNjZmUyMjYtNTNhOC00MmVlLTk1MzEtNGNmZWVmZjVkNzYy&code_challenge=n6uAmcabdHahDnYUcQi3HvjirE_yavnNth5j9y-exgU&code_challenge_method=S256&x-client-SKU=ID_NET461&x-client-ver=6.7.1.0  
2020-09-25 09:47:37.504 +07:00 [DBG] The request path /connect/authorize does not match a supported file type
2020-09-25 09:47:37.504 +07:00 [DBG] No candidates found for the request path '/connect/authorize'
2020-09-25 09:47:37.504 +07:00 [DBG] Request did not match any endpoints
2020-09-25 09:47:37.504 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-25 09:47:37.504 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-25 09:47:37.504 +07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-09-25 09:47:37.504 +07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-09-25 09:47:37.504 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-09-25 09:47:37.505 +07:00 [DBG] Start authorize request
2020-09-25 09:47:37.505 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-25 09:47:37.505 +07:00 [DBG] No user present in authorize request
2020-09-25 09:47:37.505 +07:00 [DBG] Start authorize request protocol validation
2020-09-25 09:47:37.505 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-25 09:47:37.505 +07:00 [DBG] Checking for PKCE parameters
2020-09-25 09:47:37.505 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-25 09:47:37.506 +07:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"netframeworkmvcclient","ClientName":null,"RedirectUri":"https://localhost:44344/","AllowedRedirectUris":["https://localhost:44344/"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile identity.netframeworkmvcclient","State":"OpenIdConnect.AuthenticationProperties=U1fu9eNJkNczQHnO5mPSsy7XX58CLA0zL9UPl068qX4bEaN6gpgFKt8wN_46…","UiLocales":null,"Nonce":"637365988574519255.ZTg0MDVmOWEtMDY1Zi00M2I1LTkzODktYmU3M2NlZTQ4Zjg3MWNjZmUyMjYtNTNhOC00MmVlLTk1MzEt…","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"netframeworkmvcclient","redirect_uri":"https://localhost:44344/","response_type":"code","scope":"openid profile identity.netframeworkmvcclient","state":"OpenIdConnect.AuthenticationProperties=U1fu9eNJkNczQHnO5mPSsy7XX58CLA0zL9UPl068qX4bEaN6gpgFKt8wN_46…","nonce":"637365988574519255.ZTg0MDVmOWEtMDY1Zi00M2I1LTkzODktYmU3M2NlZTQ4Zjg3MWNjZmUyMjYtNTNhOC00MmVlLTk1MzEt…","code_challenge":"n6uAmcabdHahDnYUcQi3HvjirE_yavnNth5j9y-exgU","code_challenge_method":"S256","x-client-SKU":"ID_NET461","x-client-ver":"6.7.1.0"},"$type":"AuthorizeRequestValidationLog"}
2020-09-25 09:47:37.506 +07:00 [INF] Showing login: User is not authenticated
2020-09-25 09:47:37.506 +07:00 [INF] Request finished in 2.7512ms 302 
2020-09-25 09:47:37.510 +07:00 [INF] Request starting HTTP/2.0 GET https://localhost:44313/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dnetframeworkmvcclient%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A44344%252F%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520identity.netframeworkmvcclient%26state%3DOpenIdConnect.AuthenticationProperties%253DU1fu9eNJkNczQHnO5mPSsy7XX58CLA0zL9UPl068qX4bEaN6gpgFKt8wN_46I9zioTkfxf0IzaY5SQZ7lmmMgkoaWNwPJgDvjkTA4ZLyroAMORUE9zvFAuBztylXnWB1klo-svhihw4VtRyipTgxybunvNykXTLYbcmptehHN_GynQUpaWcdCsjZrsaucO1uhO4G3JqM7PPUqWJc9359_g%26nonce%3D637365988574519255.ZTg0MDVmOWEtMDY1Zi00M2I1LTkzODktYmU3M2NlZTQ4Zjg3MWNjZmUyMjYtNTNhOC00MmVlLTk1MzEtNGNmZWVmZjVkNzYy%26code_challenge%3Dn6uAmcabdHahDnYUcQi3HvjirE_yavnNth5j9y-exgU%26code_challenge_method%3DS256%26x-client-SKU%3DID_NET461%26x-client-ver%3D6.7.1.0  
2020-09-25 09:47:37.510 +07:00 [DBG] The request path /Account/Login does not match a supported file type
2020-09-25 09:47:37.511 +07:00 [DBG] 1 candidate(s) found for the request path '/Account/Login'
2020-09-25 09:47:37.511 +07:00 [DBG] Endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/Login'
2020-09-25 09:47:37.511 +07:00 [DBG] Request matched endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-25 09:47:37.512 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-25 09:47:37.512 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-25 09:47:37.512 +07:00 [INF] Executing endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-25 09:47:37.512 +07:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String) on controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4).
2020-09-25 09:47:37.512 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2020-09-25 09:47:37.512 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2020-09-25 09:47:37.512 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-25 09:47:37.512 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2020-09-25 09:47:37.512 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","IdentityServerHost.Quickstart.UI.SecurityHeadersAttribute (Order: 0)"]
2020-09-25 09:47:37.513 +07:00 [DBG] Executing controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-25 09:47:37.513 +07:00 [DBG] Executed controller factory for controller IdentityServerHost.Quickstart.UI.AccountController (SsoIdentityServer4)
2020-09-25 09:47:37.513 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' ...
2020-09-25 09:47:37.513 +07:00 [DBG] Attempting to bind parameter 'returnUrl' of type 'System.String' using the name 'returnUrl' in request data ...
2020-09-25 09:47:37.514 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-25 09:47:37.514 +07:00 [DBG] Done attempting to bind parameter 'returnUrl' of type 'System.String'.
2020-09-25 09:47:37.514 +07:00 [DBG] Attempting to validate the bound parameter 'returnUrl' of type 'System.String' ...
2020-09-25 09:47:37.514 +07:00 [DBG] Done attempting to validate the bound parameter 'returnUrl' of type 'System.String'.
2020-09-25 09:47:37.514 +07:00 [INF] idsrv was not authenticated. Failure message: Ticket expired
2020-09-25 09:47:37.514 +07:00 [DBG] Start authorize request protocol validation
2020-09-25 09:47:37.514 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-25 09:47:37.514 +07:00 [DBG] Checking for PKCE parameters
2020-09-25 09:47:37.514 +07:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-09-25 09:47:37.514 +07:00 [DBG] client configuration validation for client netframeworkmvcclient succeeded.
2020-09-25 09:47:37.515 +07:00 [DBG] View lookup cache hit for view 'Login' in controller 'Account'.
2020-09-25 09:47:37.515 +07:00 [INF] Executing ViewResult, running view Login.
2020-09-25 09:47:37.515 +07:00 [DBG] The view path '/Views/Account/Login.cshtml' was found in 0.4343ms.
2020-09-25 09:47:37.517 +07:00 [DBG] View lookup cache hit for view '_ValidationSummary' in controller 'Account'.
2020-09-25 09:47:37.517 +07:00 [DBG] No endpoints found for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2020-09-25 09:47:37.518 +07:00 [DBG] An antiforgery cookie token was reused.
2020-09-25 09:47:37.520 +07:00 [DBG] View lookup cache hit for view '_Layout' in controller 'Account'.
2020-09-25 09:47:37.521 +07:00 [DBG] View lookup cache hit for view '_Nav' in controller 'Account'.
2020-09-25 09:47:37.522 +07:00 [INF] Executed ViewResult - view Login executed in 6.9661ms.
2020-09-25 09:47:37.522 +07:00 [INF] Executed action IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4) in 9.1638ms
2020-09-25 09:47:37.522 +07:00 [INF] Executed endpoint 'IdentityServerHost.Quickstart.UI.AccountController.Login (SsoIdentityServer4)'
2020-09-25 09:47:37.522 +07:00 [INF] Request finished in 11.4828ms 200 text/html; charset=utf-8
2020-09-25 09:49:10.825 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:BackChannelLogoutClient'
2020-09-25 09:49:12.105 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client 'IdentityServer:JwtRequestUriClient'
2020-09-25 09:49:20.841 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:49:20.863 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 18.8366ms - processed: 0 items - remaining: 2 items
2020-09-25 09:49:30.874 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:49:30.874 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 2 items
2020-09-25 09:49:40.885 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:49:40.885 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
2020-09-25 09:49:50.886 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:49:50.886 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 2 items
2020-09-25 09:50:00.887 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:50:00.887 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0101ms - processed: 0 items - remaining: 2 items
2020-09-25 09:50:10.889 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:50:10.889 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
2020-09-25 09:50:20.890 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:50:20.890 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 2 items
2020-09-25 09:50:30.903 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:50:30.903 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0088ms - processed: 0 items - remaining: 2 items
2020-09-25 09:50:40.904 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:50:40.904 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 2 items
2020-09-25 09:50:50.906 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:50:50.906 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 2 items
2020-09-25 09:51:00.907 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:51:00.907 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 2 items
2020-09-25 09:51:10.908 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:51:10.908 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
2020-09-25 09:51:20.919 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:51:20.919 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0121ms - processed: 0 items - remaining: 2 items
2020-09-25 09:51:30.919 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:51:30.919 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 2 items
2020-09-25 09:51:40.919 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:51:40.920 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 2 items
2020-09-25 09:51:50.921 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2020-09-25 09:51:50.921 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 2 items
